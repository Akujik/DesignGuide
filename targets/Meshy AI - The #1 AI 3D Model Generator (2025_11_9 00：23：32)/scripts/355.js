try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="ef80fb03-10ae-4f16-82c8-14df21e70eae",e._sentryDebugIdIdentifier="sentry-dbid-ef80fb03-10ae-4f16-82c8-14df21e70eae")}()}catch(e){}!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[(new e.Error).stack]=function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];if(null!=l)for(var s in l)l.hasOwnProperty(s)&&(e[s]=l[s])}return e}({},e._sentryModuleMetadata[(new e.Error).stack],{"_sentryBundlerPluginAppKey:bWVzaHktd2ViYXBwLSMx":!0})}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[208],{208:(e,t,l)=>{l.d(t,{W:()=>H,_:()=>V});var s=l(95155),a=l(15260),n=l(68201),i=l(15372),r=l(39392),o=l(45641),c=l(61691),d=l(19954),u=l(74765),m=l(20701),h=l(7261),x=l(93800),f=l(8952),p=l(46287),g=l(51947),b=l(82945),v=l(67016),j=l(55247),y=l(22317),w=l(66274),N=l(16680),C=l(5573),A=l(62906),k=l(90433),D=l(66599),_=l(2186),z=l(47522),S=l(77901),I=l(82493),T=l(4831),E=l(43291),O=l(56841),P=l(36274),L=l(68642),F=l(18955),M=l(15239),U=l(52619),R=l.n(U),B=l(12115),G=l(46512),W=l(51905),Z=l(15547);let V=e=>{let{userInfo:t,selectedSection:l,setSelectedSection:n}=e,{isLoading:i,isAuthenticated:r}=(0,y.n)();return((0,B.useEffect)(()=>{i||r||!l||((0,a.j)(),n(null))},[r,i,l,n]),null===l)?null:(0,s.jsx)(h.lG,{open:!!l,onOpenChange:()=>n(null),children:(0,s.jsxs)(h.Cf,{className:"max-w-fit sm:max-w-[1024px]",children:[(0,s.jsxs)(h.L3,{className:"border-bg-border flex items-start justify-between border-b p-6 pb-0",children:[(0,s.jsx)("nav",{children:(0,s.jsxs)("div",{className:"flex items-center gap-x-10 text-base",children:[(0,s.jsx)(K,{className:"pb-3",item:"Following (".concat((null==t?void 0:t.totalFollowing)||0,")"),isSelected:"Following"===l,onClick:()=>n("Following")}),(0,s.jsx)(K,{className:"pb-3",item:"Follower (".concat((null==t?void 0:t.totalFollowers)||0,")"),isSelected:"Follower"===l,onClick:()=>{n("Follower")}})]})}),(0,s.jsx)(h.HM,{asChild:!0,children:(0,s.jsx)(u.default,{size:"sm",type:"icon-secondary",icon:(0,s.jsx)(_.A,{stroke:1.5}),className:"absolute top-6 right-6 z-10"})})]}),(0,s.jsxs)("div",{className:"h-[528px] max-h-[calc(100vh-140px)] p-6 pt-0",children:["Follower"===l&&(null==t?void 0:t.userId)&&(0,s.jsx)(X,{userId:null==t?void 0:t.userId,type:"Follower",totalNumber:null==t?void 0:t.totalFollowers}),"Following"===l&&(null==t?void 0:t.userId)&&(0,s.jsx)(X,{userId:null==t?void 0:t.userId,type:"Following",totalNumber:null==t?void 0:t.totalFollowing})]})]})})},X=e=>{let{userId:t,type:l,totalNumber:a}=e,n=(0,F.c3)(),{data:i,mutate:r,setSize:o,isLoading:c,isReachingEnd:d,isValidating:u}=((e,t)=>{var l;let{data:s,error:a,mutate:n,size:i,setSize:r,isValidating:o,isLoading:c}=(0,v.Ay)((l,s)=>s&&!s.length?null:[e,l,t],async e=>{let[t,l,s]=e,a="Follower"===s?p.QF:p.EZ,n=await a({pageNum:l+1,pageSize:20},t);return(null==n?void 0:n.result)||[]},{persistSize:!0,revalidateOnMount:!0,revalidateFirstPage:!0}),d=(null==s||null==(l=s[0])?void 0:l.length)===0,u=(0,g.A)(s),m=d||s&&u&&!(0,b.A)(u)&&u.length<20;return{data:s,error:a,mutate:n,size:i,setSize:r,isValidating:o,isLoading:c,isReachingEnd:m}})(t,l),m=(0,T.A)((0,E.A)(i),"userId").filter(e=>!!e.userId),h=(0,B.useRef)(null),f=(0,B.useRef)(null),j=(0,W.BL)(f,{root:h.current,rootMargin:"0px 0px 500px 0px"}),y=(null==j?void 0:j.isIntersecting)||!1;(0,B.useEffect)(()=>{!y||d||u||c||o(e=>e+1)},[y,d,u,c,o]);let w=i&&(null==i?void 0:i.length)>=128,N=a-m.length;return(0,s.jsxs)("div",{ref:h,className:"size-full overflow-scroll",children:[null==m?void 0:m.map((e,t)=>(0,s.jsx)(q,{userInfo:e,containerRef:h},e.userId)),(0,s.jsx)("div",{ref:f,className:"w-[976px]",children:d?(0,s.jsx)("div",{className:"w-full"}):u&&(0,s.jsxs)("div",{className:"my-6 flex w-full items-center justify-center gap-x-1",children:[(0,s.jsx)(x.A,{type:"spinner"}),(0,s.jsxs)("span",{className:"text-label-faint text-sm leading-5 font-medium",children:[n("App.LoadingAssets.LoadingMore")," ..."]})]})}),w?(0,s.jsx)("div",{className:"text-label-faint my-6 flex w-full items-center justify-center gap-x-1 text-sm leading-5 font-medium",children:n("App.LoadingAssets.AndMore",{number:N})}):null]})},H=e=>{let{userId:t,size:l,onTrack:n,className:i}=e,r=(0,F.c3)(),{myInfo:o}=(0,f.Iy)(),{userInfo:c,mutateUserInfo:d}=(0,f.Py)(t,!1),h=(null==o?void 0:o.userId)===t,{isAuthenticated:x}=(0,y.n)(),g=!!x&&(null==c?void 0:c.isFollowing),b=null==c?void 0:c.nickname,[v,j]=(0,B.useState)(!1);return h?null:g?(0,s.jsx)(m.Ay,{autoFocusOnOpen:!0,trigger:(0,s.jsx)(u.default,{icon:(0,s.jsx)(z.A,{size:24}),type:"secondary",size:l,className:i,onClick:e=>{e.stopPropagation(),e.preventDefault()},children:r("Dashboard.Community.Profile.Status.Following")}),type:"default",title:r("Dashboard.Community.Profile.Unfollow.Title",{name:b||""}),closeOnSubmit:!1,onClose:()=>{},onSubmit:async()=>{await (0,p.WK)(t),await d()},showCloseButton:!0,children:(0,s.jsx)("div",{className:"flex w-full flex-col gap-6",children:(0,s.jsx)("div",{className:"text-label-base text-sm font-normal",children:(0,s.jsx)("span",{children:r("Dashboard.Community.Profile.Unfollow.Description",{name:b||""})})})})}):(0,s.jsx)(u.default,{icon:(0,s.jsx)(S.A,{}),type:"primary",size:l,className:i,onClick:async e=>{if(e.stopPropagation(),e.preventDefault(),!x)return void(0,a.j)();n&&n(),j(!0),await (0,p.Nu)(t),await d(),j(!1)},disabled:v,children:r("Dashboard.Community.Profile.Action.Follow")})},q=e=>{let{userInfo:t,containerRef:l}=e,a=(0,F.c3)(),u=(0,k.ge)(),m=(0,B.useRef)(null),h=t.userId,x=(0,P.W)(m,{root:l,once:!0,amount:"some",margin:"0px 0px 500px 0px"}),{isLoading:p,isAuthenticated:g}=(0,y.n)(),{userInfo:b}=(0,f.Py)(x?h:"",!1),{data:v}=(0,i.RG)({createdBy:h,pageSize:1,sortBy:(0,N.VK)("desc",w.LK.Trending)}),D=(0,T.A)((null==v?void 0:v.flat())||[],e=>e.id),_=D.length>0,{data:z,isLoading:S}=(0,G.Ay)(!p&&h&&x?["showcase-following/follower-user",h]:null,async e=>{let[t,l]=e;return(g?C.$0:A.Sz)({publishedByUser:l,pageNum:1,pageSize:_?4:5,sortBy:(0,N.VK)("desc",C.sE.Popularity)})}),{data:I}=(0,o.Z)(h);return(0,T.A)((null==z?void 0:z.flat())||[],e=>e.id),(0,s.jsxs)("div",{className:"border-bg-border flex flex-row items-start justify-between border-b py-4 last-of-type:border-none",ref:m,children:[(0,s.jsxs)("div",{className:"flex items-start justify-start pl-2",children:[(0,s.jsx)(R(),{href:h&&u("/@".concat(t.uid)),children:(0,s.jsxs)("div",{className:"focus:ring-label-title focus:ring-offset-bg-sub relative rounded-full transition duration-100 ease-out hover:cursor-pointer focus:ring-2 focus:ring-offset-2 focus:outline-hidden",children:[(0,s.jsx)(d.A,{size:"xl",alt:t.nickname||"",src:t.avatarUrl||""}),(0,s.jsx)(j.w,{tier:null==t?void 0:t.tier,size:"lg"})]})}),(0,s.jsxs)("div",{className:"ml-5 flex flex-col items-start justify-center gap-2",children:[(0,s.jsxs)(R(),{href:h&&u("/@".concat(t.uid)),children:[(0,s.jsx)("span",{className:"text-base font-semibold",children:t.nickname})," "]}),(0,s.jsx)("div",{className:"flex max-w-[280px] flex-wrap gap-2",children:I.map((e,t)=>t<5&&(0,s.jsx)(r.R,{data:e,userId:h,className:"size-8"},e.id))}),(0,s.jsxs)("div",{className:"text-label-muted flex flex-row items-center gap-3",children:[x&&(0,s.jsx)(H,{userId:h,size:"sm"}),(0,s.jsxs)("div",{className:"space-x-1 text-xs font-medium",children:[(0,s.jsx)("span",{children:null==b?void 0:b.totalFollowing}),(0,s.jsx)("span",{children:a((0,O.A)(null==b?void 0:b.totalFollowing,1)?"Dashboard.Community.Profile.Following":"Dashboard.Community.Profile.Followings")})]}),(0,s.jsx)("div",{className:"bg-bg-border h-4 w-px"}),(0,s.jsxs)("div",{className:"space-x-1 text-xs font-medium",children:[(0,s.jsx)("span",{children:null==b?void 0:b.totalFollowers}),(0,s.jsx)("span",{children:a((0,O.A)(null==b?void 0:b.totalFollowers,1)?"Dashboard.Community.Profile.Follower":"Dashboard.Community.Profile.Followers")})]})]})]})]}),(0,s.jsxs)("div",{className:"flex h-[100px] min-w-[600px] flex-row items-center justify-end gap-2",children:[S&&Array.from([,,,,].keys()).map((e,t)=>(0,s.jsx)("div",{className:"bg-bg-base-hover relative size-[88px] animate-pulse overflow-hidden rounded-xl"},t)),null==z?void 0:z.map((e,t)=>{var l,a,n,i;return(0,s.jsxs)(R(),{href:(0,Z.S)({id:e.animationId||e.resultId,isAnimation:!!e.animationId,objectPrompt:e.objectPrompt||(null==(a=e.args)||null==(l=a.draft)?void 0:l.prompt),isTaskV2:(0,c.Yv)(e)}),className:"group bg-bg-strong relative size-[88px] cursor-pointer overflow-hidden rounded-xl",target:"_blank",prefetch:!1,children:[(0,s.jsx)(M.default,{src:e.thumbnailUrl,alt:"3D model for ".concat(e.objectPrompt||(null==(i=e.args)||null==(n=i.draft)?void 0:n.prompt)||""),width:100,height:100,className:"absolute inset-0 size-full object-contain"}),(0,s.jsx)("div",{className:"invisible absolute z-10 size-full bg-black/60 group-hover:visible"})]},e.id)}),_&&(0,s.jsx)("div",{className:"size-[88px]",children:(0,s.jsx)(n.a,{collection:D[0]})}),(0,s.jsx)(R(),{href:h&&u("/@".concat(t.uid)),target:"_blank",prefetch:!1,children:(0,s.jsx)(Y,{})})]})]})},Y=()=>{let e=(0,F.c3)();return(0,s.jsxs)("div",{className:"bg-bg-strong text-label-muted hover:bg-bg-base hover:text-label-base flex size-[88px] cursor-pointer flex-col items-center justify-center gap-1 rounded-xl text-[10px] leading-3 font-medium transition-colors",children:[(0,s.jsx)(I.A,{stroke:1.5}),e("Dashboard.Community.Profile.ViewMore")]})},K=e=>{let{item:t,isSelected:l,onClick:a,className:n}=e;return(0,s.jsxs)("div",{className:(0,D.cn)("relative items-center justify-between gap-x-1 rounded-[10px] px-1 pb-4 select-none",n),onMouseDown:a,children:[(0,s.jsx)("div",{className:(0,D.cn)("flex items-center gap-1 transition duration-100 ease-out",{"text-accent-base hover:text-accent-base":l}),children:(0,s.jsx)("span",{className:"font-semibold",children:t})}),l&&(0,s.jsx)(L.P.div,{layoutId:"underline",className:"bg-accent-base absolute bottom-0 left-0 h-px w-full"})]})}},1821:(e,t,l)=>{l.d(t,{R:()=>n,c:()=>i});var s=l(95155),a=l(12115);let n=(e,t)=>{let[l,s]=(0,a.useState)(0),[n,i]=(0,a.useState)([]),r=(0,a.useCallback)(l=>{e&&(e.scrollTo(l),t&&t(e))},[e,t]),o=(0,a.useCallback)(e=>{i(e.scrollSnapList())},[]),c=(0,a.useCallback)(e=>{s(e.selectedScrollSnap())},[]);return(0,a.useEffect)(()=>{e&&(o(e),c(e),e.on("reInit",o).on("reInit",c).on("select",c))},[e,o,c]),{selectedIndex:l,scrollSnaps:n,onDotButtonClick:r}},i=e=>{let{children:t,...l}=e;return(0,s.jsx)("button",{type:"button",...l,children:t})}},5912:(e,t,l)=>{l.r(t),l.d(t,{DraggableDialog:()=>p,DraggableDialogClose:()=>v,DraggableDialogContent:()=>g,DraggableHandle:()=>b});var s=l(95155),a=l(17787),n=l(93827),i=l(31416),r=l(41198),o=l(64364),c=l(38540),d=l(12115),u=l(74765),m=l(96751);let h=d.createContext(null),x=()=>{let e=d.useContext(h);if(!e)throw Error("useDraggableDialog must be used within a DraggableDialog");return e};function f(e){var t,l;let{value:n,defaultValue:r={x:0,y:0},onChange:o,children:c}=e,[u,m]=(0,i.Z)({value:n,defaultValue:r,onChange:o}),x=(0,d.useId)(),{attributes:f,listeners:p,setNodeRef:g,transform:b}=(0,a.PM)({id:"draggable-dialog-".concat(x)}),v={"--tw-translate-x":"calc(-50% + ".concat(u.x+(null!=(t=null==b?void 0:b.x)?t:0),"px)"),"--tw-translate-y":"calc(-50% + ".concat(u.y+(null!=(l=null==b?void 0:b.y)?l:0),"px)")};return(0,a.E5)({onDragEnd:e=>{e.delta&&m({x:u.x+e.delta.x,y:u.y+e.delta.y})}}),(0,s.jsx)(h,{value:{attributes:f,listeners:p,setNodeRef:g,style:v},children:c})}function p(e){let{children:t,modifiers:l=[n.Q_],onDragAbort:i,onDragCancel:r,onDragEnd:c,onDragMove:d,onDragOver:u,onDragPending:m,onDragStart:h,defaultPosition:x,position:p,onPositionChange:g,...b}=e;return(0,s.jsx)(a.Mp,{modifiers:l,onDragAbort:i,onDragCancel:r,onDragEnd:c,onDragMove:d,onDragOver:u,onDragPending:m,onDragStart:h,children:(0,s.jsx)(o.bL,{"data-slot":"dialog",...b,children:(0,s.jsx)(f,{defaultValue:x,value:p,onChange:g,children:t})})})}function g(e){let{...t}=e,{setNodeRef:l,style:a}=x();return(0,s.jsx)(c.bL,{ref:l,className:"transition-none",style:a,children:(0,s.jsx)(m.DialogContent,{...t})})}function b(e){let{asChild:t,...l}=e,{attributes:a,listeners:n}=x();return(0,s.jsx)(c.bL,{className:"cursor-move outline-hidden",...a,...n,...l,children:t?l.children:(0,s.jsx)(u.default,{type:"icon-tertiary",size:"xs",icon:(0,s.jsx)(r.A,{}),...l,...a,...n})})}function v(e){let{onPointerDown:t,onKeyDown:l,...a}=e;return(0,s.jsx)(o.bm,{"data-slot":"dialog-close",...a,onPointerDown:e=>{e.stopPropagation(),null==t||t(e)},onKeyDown:e=>{e.stopPropagation(),null==l||l(e)}})}},7261:(e,t,l)=>{l.d(t,{Cf:()=>s.DialogContent,EN:()=>a.DraggableDialogClose,Es:()=>s.DialogFooter,HM:()=>s.DialogClose,L3:()=>s.DialogTitle,Q_:()=>a.DraggableHandle,aQ:()=>a.DraggableDialog,b9:()=>n.useDialogs,lG:()=>s.Dialog,rr:()=>s.DialogDescription,rt:()=>a.DraggableDialogContent,zM:()=>s.DialogTrigger});var s=l(96751);l(99338);var a=l(5912),n=l(25003)},8597:(e,t,l)=>{l.d(t,{A:()=>i});var s=l(95155),a=l(12115);class n{init(e){if(this.conf={...this.conf,...e},(-1==this.conf.gutterX||-1==this.conf.gutterY)&&(this.conf.gutterX=this.conf.gutterY=this.conf.gutter),this._currentGutterX=this.conf.gutterX,this._currentGutterY=this.conf.gutterY,this.conf.container)if("string"==typeof this.conf.container){let e=document.querySelector(this.conf.container);if(!e)throw Error("Masonry container not found");this._container=e}else this.conf.container instanceof HTMLElement&&(this._container=this.conf.container);else throw Error("Masonry container not configed");if(!this._container)throw Error("Masonry container init failed");let t=this.resizeThrottler.bind(this);window.addEventListener("resize",t),this._removeListener=function(){window.removeEventListener("resize",t),null!=this._resizeTimeout&&(window.clearTimeout(this._resizeTimeout),this._resizeTimeout=null)},this.layout()}reset(){this._sizes=[],this._columns=[],this._count=-1,this._width=this._container.clientWidth;let e=this.conf.baseWidth;this._width<e&&(this._width=e,this._container.style.minWidth=e+"px"),1==this.getCount()?(this._currentGutterX=this.conf.ultimateGutter,this._count=1):this._width<this.conf.baseWidth+2*this._currentGutterX?this._currentGutterX=0:this._currentGutterX=this.conf.gutterX}getCount(){return this.conf.surroundingGutter?Math.floor((this._width-this._currentGutterX)/(this.conf.baseWidth+this._currentGutterX)):Math.floor((this._width+this._currentGutterX)/(this.conf.baseWidth+this._currentGutterX))}computeWidth(){return Number.parseFloat((this.conf.surroundingGutter?(this._width-this._currentGutterX)/this._count-this._currentGutterX:(this._width+this._currentGutterX)/this._count-this._currentGutterX).toFixed(2))}layout(){let e;if(!this._container)return void console.error("Container not found");this.reset(),-1==this._count&&(this._count=this.getCount());let t=this.computeWidth();for(let e=0;e<this._count;e++)this._columns[e]=0;let l=this._container.children;for(let e=0;e<l.length;e++)l[e].style.width=t+"px",this._sizes[e]=l[e].clientHeight;if(e="ltr"==this.conf.direction?this.conf.surroundingGutter?this._currentGutterX:0:this._width-(this.conf.surroundingGutter?this._currentGutterX:0),this._count>this._sizes.length){let l=this._sizes.length*(t+this._currentGutterX)-this._currentGutterX;!1===this.conf.wedge?e="ltr"==this.conf.direction?(this._width-l)/2:this._width-(this._width-l)/2:"ltr"==this.conf.direction||(e=this._width-this._currentGutterX)}for(let s=0;s<l.length;s++){let a,n=this.conf.minify?this.getShortest():this.getNextColumn(s),i=0;(this.conf.surroundingGutter||n!=this._columns.length)&&(i=this._currentGutterX),a="ltr"==this.conf.direction?e+(t+i)*n:e-(t+i)*n-t;let r=this._columns[n];l[s].style.transform="translate3d("+Math.round(a)+"px,"+Math.round(r)+"px,0)",this._columns[n]+=this._sizes[s]+(this._count>1?this.conf.gutterY:this.conf.ultimateGutter)}this._container.style.height=this._columns[this.getLongest()]-this._currentGutterY+"px"}getNextColumn(e){return e%this._columns.length}getShortest(){let e=0;for(let t=0;t<this._count;t++)this._columns[t]<this._columns[e]&&(e=t);return e}getLongest(){let e=0;for(let t=0;t<this._count;t++)this._columns[t]>this._columns[e]&&(e=t);return e}resizeThrottler(){this._resizeTimeout||(this._resizeTimeout=setTimeout(()=>{this._resizeTimeout=null,this._container.clientWidth!=this._width&&this.layout()},33))}destroy(){"function"==typeof this._removeListener&&this._removeListener();let e=this._container.children;for(let t=0;t<e.length;t++)e[t].style.removeProperty("width"),e[t].style.removeProperty("transform");this._container.style.removeProperty("height"),this._container.style.removeProperty("min-width")}constructor(e){return this._sizes=[],this._columns=[],this._width=0,this._removeListener=null,this._resizeTimeout=null,this.conf={baseWidth:255,gutterX:-1,gutterY:-1,gutter:10,container:null,minify:!0,ultimateGutter:5,surroundingGutter:!1,direction:"ltr",wedge:!1},this.init(e),this}}let i=(0,a.forwardRef)(function(e,t){let{children:l,baseWidth:i=200,gutter:r=10,gutterX:o=-1,gutterY:c=-1}=e;(0,a.useImperativeHandle)(t,()=>({layout:()=>{u.current&&u.current.layout()}}),[]);let d=(0,a.useRef)(null),u=(0,a.useRef)(null);return(0,a.useEffect)(()=>(d.current&&(u.current=new n({container:d.current,baseWidth:i,gutter:r,gutterX:o,gutterY:c,ultimateGutter:24,surroundingGutter:!1,wedge:!0,minify:!0})),()=>{u.current&&(u.current.destroy(),u.current=null)}),[i,r,o,c]),(0,a.useEffect)(()=>{u.current&&u.current.layout()},[l]),(0,s.jsx)("div",{className:"relative box-content w-full",ref:d,children:l})})},11340:(e,t,l)=>{l.d(t,{A:()=>r});var s=l(95155),a=l(75786),n=l(52787),i=l(18955);function r(){let e=(0,i.c3)();return(0,s.jsx)(n.A,{title:e("Dashboard.Discover.CommunityShowcase.ShowcaseCard.3DPrintable"),children:(0,s.jsx)("div",{className:"pointer-events-none rounded-b-lg bg-white/5 p-1 text-[#DEDEDE]",children:(0,s.jsx)(a.default,{className:"size-5"})})})}},13409:(e,t,l)=>{l.d(t,{Y:()=>y,_:()=>N});var s=l(95155),a=l(52513),n=l(15260),i=l(20654),r=l(93800),o=l(8597),c=l(88378),d=l(22317),u=l(5573),m=l(46287),h=l(69095),x=l(50811),f=l(36274),p=l(18955),g=l(15239),b=l(12115),v=l(16362),j=l(45641);let y=e=>{let{badgeData:t,userId:l}=e,{isAuthenticated:i}=(0,d.n)(),r=t.myReactions,o=t.totalReactions,c=t.id,f=(0,b.useCallback)(async(e,t)=>{let l=await (0,a.getAccessToken)();"add"===t?(0,m.OK)(c,e,l):(0,m.Uz)(c,e,l)},[c]),p=(0,b.useMemo)(()=>Object.values(u.Fk).reduce((e,t)=>(e[t]=(0,x.A)(f,300),e),{}),[f]),{mutateWithoutRevalidate:g}=(0,j.Z)(l);return r&&o?(0,s.jsx)("div",{className:"flex gap-x-1",onClick:e=>{e.stopPropagation()},children:Object.values(u.Fk).map(e=>{let l=r[e]>0,a=o[e];return(0,s.jsxs)("button",{className:(0,h.A)("text-label-base flex items-center gap-x-1 rounded-lg px-2 py-1.5 leading-4 text-[0] transition-colors duration-300 ease-in-out",{"bg-bg-modal-overlay hover:bg-white/5 active:bg-white/10":!l,"bg-accent-bg":l}),onClick:s=>{if(!i)return void(0,n.j)();p[e](e,l?"remove":"add");let a={...r,[e]:+!l},c={...o,[e]:l?o[e]-1:o[e]+1};g({...t,myReactions:a,totalReactions:c})},children:[(0,s.jsx)("span",{className:"font-sans text-sm",children:u.in.get(e)}),a>0&&(0,s.jsx)("span",{className:"text-xs",children:a})]},e)})}):null},w=e=>{let{badgeData:t,userId:l}=e;return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center text-center",children:[(0,s.jsx)(v.C,{badgeData:t,userId:l,children:(0,s.jsx)(g.default,{src:t.badgeImage,alt:t.badgeName,width:256,height:256,unoptimized:!0,className:"block aspect-square w-full cursor-pointer p-4"})}),(0,s.jsx)("div",{className:"text-label-title text-lg font-semibold",children:t.badgeName}),(0,s.jsx)("div",{className:"text-label-muted text-xs font-normal",children:(0,s.jsx)(c.s,{timestamp:t.createdAt})}),(0,s.jsx)("div",{className:"mt-3",children:(0,s.jsx)(y,{badgeData:t,userId:l})})]},t.id)},N=e=>{let{userId:t}=e;(0,p.c3)();let l=(0,b.useRef)(null),a=(0,f.W)(l),{data:n,isLoading:c,isValidating:d,isReachingEnd:u,size:m,setSize:h,mutate:x}=(0,j.Z)(t);return(0,b.useEffect)(()=>{!a||u||d||c||h(e=>e+1)},[a,c,u,d,h]),(0,s.jsxs)(s.Fragment,{children:[c?(0,s.jsx)(r.A,{type:"dots"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.A,{baseWidth:288,gutterX:16,gutterY:32,children:null==n?void 0:n.map((e,l)=>(0,s.jsx)("div",{className:"absolute",children:(0,s.jsx)(w,{badgeData:e,userId:t})},e.id))}),(0,s.jsx)("div",{className:"mt-8 mb-4 flex items-center justify-center",children:(0,s.jsx)(i.e,{isLoading:c,isValidating:d,isReachingEnd:u,onLoadMore:()=>h(m+1)})})]}),(0,s.jsx)("div",{ref:l,className:"pointer-events-none absolute mt-[-50vh]"})]})}},14013:(e,t,l)=>{l.d(t,{Et:()=>d,HP:()=>c,d0:()=>o,jc:()=>r});var s=l(95155),a=l(99798),n=l(12115),i=l(75889);let r=a.bL,o=a.l9,c=a.ZL,d=n.forwardRef((e,t)=>{let{className:l,align:n="center",sideOffset:r=4,...o}=e;return(0,s.jsx)(a.UC,{ref:t,align:n,sideOffset:r,className:(0,i.QP)("border-bg-border bg-bg-sub text-label-base data-[side=bottom]:animate-slide-up-and-fade data-[side=left]:animate-slide-right-and-fade data-[side=right]:animate-slide-left-and-fade data-[side=top]:animate-slide-down-and-fade w-80 rounded-2xl border p-5 shadow-md outline-hidden",l),...o})});d.displayName=a.UC.displayName},15547:(e,t,l)=>{l.d(t,{S:()=>a,y:()=>s});let s=e=>{let t,l=!1;if(!e)return!0;try{t=new URL(e)}catch(e){}if(t&&t.protocol)l=!1;else{let t;try{t=new URL("https://"+e)}catch(e){l=!1}t&&(l=!0,l=!!t.hostname.includes(".")&&t.hostname.replace(/^\.(.*)\.$/,"$1")===t.hostname&&t.hostname===e.split("/")[0])}return l},a=e=>{let{id:t,objectPrompt:l,isAnimation:s,searchParams:a,isTaskV2:n,hash:i}=e,r=(e=>e?/[\u4e00-\u9fff]/.test(e)?encodeURIComponent(e):e.split(" ").map(e=>e.replace(/[^a-zA-Z0-9]/g,"")).filter(e=>e).join("-"):"")(l).replace(/-v2$/i,""),o=new URLSearchParams;a&&(o=new URLSearchParams(a.toString())),s&&o.set("animation","true");let c=o.toString();return"".concat("https://www.meshy.ai","/3d-models/").concat(r?r+"-":"").concat(n?"v2-":"").concat(t).concat(c?"?"+c:"").concat(i?"#".concat(i):"")}},16362:(e,t,l)=>{l.d(t,{C:()=>z});var s=l(95155),a=l(19742),n=l(74765),i=l(20701),r=l(88378),o=l(22317),c=l(15532),d=l(95585),u=l(2186),m=l(12115),h=l(13409);let x=e=>{let{rank:t}=e,l=(e=>{let t=["th","st","nd","rd"],l=e%100;return e+(t[(l-20)%10]||t[l]||t[0]||"th")})(t);return t>5e3?null:(0,s.jsxs)("div",{className:"text-xs font-medium",children:["The ",(0,s.jsx)("div",{className:"text-accent-base inline",children:l})," creator to unlock this badge."]})};var f=l(93800),p=l(53531),g=l(16750),b=l(73063),v=l(30258),j=l(27122),y=l(18955),w=l(27987),N=l(87548);let C={1:{bg:"https://cdn.meshy.ai/webapp-assets/community/badge-v2/bg-1.webp",frame:"https://cdn.meshy.ai/webapp-assets/community/badge-v2/frame-1.webp"},2:{bg:"https://cdn.meshy.ai/webapp-assets/community/badge-v2/bg-2.webp",frame:"https://cdn.meshy.ai/webapp-assets/community/badge-v2/frame-2.webp"},3:{bg:"https://cdn.meshy.ai/webapp-assets/community/badge-v2/bg-3.webp",frame:"https://cdn.meshy.ai/webapp-assets/community/badge-v2/frame-3.webp"},4:{bg:"https://cdn.meshy.ai/webapp-assets/community/badge-v2/bg-4.webp",frame:"https://cdn.meshy.ai/webapp-assets/community/badge-v2/frame-4.webp"},5:{bg:"https://cdn.meshy.ai/webapp-assets/community/badge-v2/bg-5.webp",frame:"https://cdn.meshy.ai/webapp-assets/community/badge-v2/frame-5.webp"}};function A(e){let{modelUrl:t}=e,l=(0,p.p)(t),a=(0,m.useRef)(null),{camera:n}=(0,b.A)(),i=(0,m.useMemo)(()=>(l.scene.traverse(e=>{if(e instanceof N.Mesh){let t=e.material;e.material=new N.MeshBasicMaterial({map:t.map,color:t.color||0xffffff,transparent:t.transparent,opacity:t.opacity,side:N.DoubleSide})}}),l.scene),[l.scene]);return(0,m.useEffect)(()=>{if(!a.current)return;let e=a.current;e.scale.setScalar(1),e.position.set(0,0,0),e.updateMatrixWorld();let t=new N.Box3().setFromObject(e),l=t.getSize(new N.Vector3),s=t.getCenter(new N.Vector3),i=n.fov*(Math.PI/180),r=n.aspect,o=2*Math.tan(i/2)*n.position.length(),c=l.y,d=Math.min(.5*o/c,o*r*.5/l.x);e.position.set(-s.x,-s.y,-s.z),e.scale.setScalar(d)},[i,n]),(0,s.jsx)("group",{ref:a,children:(0,s.jsx)("primitive",{object:i})})}function k(e){let{modelUrl:t}=e,{camera:l,controls:s}=(0,b.A)(),a=(0,m.useRef)(new N.Vector3);return(0,m.useEffect)(()=>{a.current.copy(l.position)},[l]),(0,m.useEffect)(()=>{l.position.copy(a.current),s&&(s.target.set(0,0,0),s.update())},[t,l,s]),null}let D=e=>{let{level:t,modelUrl:l}=e,a=(0,y.c3)("Landing.3dTools.OnlineViewer"),n=(0,m.useMemo)(()=>C[t>=1&&t<=5?t:1],[t]);return(0,s.jsxs)("div",{className:"relative aspect-square h-[576px] max-h-[80vh] flex-none",children:[(0,s.jsxs)("div",{className:"absolute inset-0 size-full overflow-hidden rounded-full",children:[(0,s.jsx)("div",{className:"pointer-events-none absolute inset-0 size-full bg-cover",style:{backgroundImage:"url(".concat(null==n?void 0:n.bg,")")}}),(0,s.jsx)(m.Suspense,{fallback:(0,s.jsx)("div",{className:"absolute inset-0 z-10 flex items-center justify-center",children:(0,s.jsx)(f.A,{type:"dots"})}),children:(0,s.jsx)(w.ErrorBoundary,{fallback:(0,s.jsx)("div",{className:"absolute inset-0 flex size-full items-center justify-center text-sm",children:a("PreviewError")}),onError:e=>{j.Cp(e)},children:(0,s.jsxs)(v.Hl,{className:"absolute inset-0 size-full",children:[(0,s.jsx)(A,{modelUrl:l}),(0,s.jsx)(k,{modelUrl:l}),(0,s.jsx)(g.N,{makeDefault:!0,enableZoom:!0,enablePan:!1,autoRotate:!0,autoRotateSpeed:3,minDistance:2,maxDistance:25})]})})},l)]}),(0,s.jsx)("div",{className:"pointer-events-none absolute inset-0 size-full bg-cover",style:{backgroundImage:"url(".concat(null==n?void 0:n.frame,")")}})]},l)};var _=l(45641);let z=e=>{let{badgeData:t,userId:l,children:f}=e,{isAuthenticated:p}=(0,o.n)(),[g,b]=(0,m.useState)(!1),{data:v,setSize:j,isReachingEnd:y,isLoading:w}=(0,_.Z)(l),N=v.find(e=>e.id===t.id),C=v.findIndex(e=>e.id===(null==N?void 0:N.id)),[A,k]=(0,m.useState)(C),z=v[A];return(0,s.jsx)(i.Ay,{trigger:f,title:"",open:g,onOpenChange:e=>{b(e)},closeOnClickOverlay:p,showCrossClose:!0,showCloseButton:!1,className:"max-w-5xl",children:z&&(0,s.jsxs)("div",{className:"flex w-full gap-5",children:[z.badgeModel?(0,s.jsx)(D,{level:z.badgeRarityLevel,modelUrl:z.badgeModel}):(0,s.jsxs)("div",{className:"pointer-events-none relative aspect-square h-[576px] max-h-[80vh] flex-none overflow-hidden rounded-2xl",children:[(0,s.jsx)("video",{src:z.badgeVideo,poster:z.badgeImage,autoPlay:!0,playsInline:!0,muted:!0,loop:!0,controls:!1,width:576,height:576,className:"h-full"}),(0,s.jsx)("div",{className:"absolute inset-0"})]}),(0,s.jsxs)("div",{className:"flex w-full flex-col items-center justify-center",children:[(0,s.jsx)("div",{className:"flex w-full px-1",children:(0,s.jsx)("div",{className:"border-bg-border flex w-full flex-col gap-3 border-b-[0.5px] pb-3",children:(0,s.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.default,{type:"icon-secondary",size:"sm",icon:(0,s.jsx)(c.A,{stroke:1.5}),onClick:()=>{A>0&&k(A-1)},disabled:0===A}),(0,s.jsx)(n.default,{type:"icon-secondary",size:"sm",icon:w?(0,s.jsx)(a.A,{className:"animate-spin"}):(0,s.jsx)(d.A,{stroke:1.5}),onClick:()=>{A<v.length-1?k(A+1):y||w||null==j||j(e=>e+1)},disabled:y&&A===v.length-1||w})]}),(0,s.jsx)(n.default,{type:"icon-secondary",size:"sm",icon:(0,s.jsx)(u.A,{stroke:1.5}),onClick:()=>b(!1)})]})})}),(0,s.jsx)("div",{className:"relative flex size-full items-start justify-center overflow-scroll",children:(0,s.jsx)("div",{className:"flex w-full flex-col gap-6 px-1 pt-6",children:(0,s.jsxs)("div",{className:"flex w-full flex-col gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-label-title text-2xl font-semibold",children:z.badgeName}),(0,s.jsx)("div",{className:"text-label-muted text-xs",children:(0,s.jsx)(r.s,{timestamp:z.createdAt})})]}),(0,s.jsx)("div",{className:"text-label-muted text-sm font-medium",children:z.badgeDescription}),(0,s.jsx)("div",{className:"border-bg-border h-0 border-b"}),(0,s.jsx)(x,{rank:z.ranking}),(0,s.jsx)(h.Y,{badgeData:z,userId:l})]})})})]})]})})}},19554:(e,t,l)=>{l.d(t,{P:()=>w});var s=l(95155),a=l(93652),n=l(14013),i=l(8952),r=l(208),o=l(52619),c=l.n(o),d=l(22317),u=l(38143),m=l(16680),h=l(5573),x=l(62906),f=l(66599),p=l(82493),g=l(4831),b=l(18955),v=l(15239),j=l(12115),y=l(46512);let w=e=>{var t;let{userId:l,children:o,className:w}=e,{userInfo:N,mutateUserInfo:C}=(0,i.Py)(l,!1),A=(0,b.c3)(),k=(0,u.j)(e=>e.showcaseDialogRef),[D,_]=(0,j.useState)(!1),{isLoading:z,isAuthenticated:S}=(0,d.n)(),{data:I,isLoading:T}=(0,y.Ay)(D&&l&&!z?["showcase-user",l]:null,async e=>{let[t,l]=e;return(S?h.$0:x.Sz)({publishedByUser:l,pageNum:1,pageSize:5,sortBy:(0,m.VK)("desc",h.sE.Popularity)})}),E=(0,g.A)((null==I?void 0:I.flat())||[],e=>e.id);return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(n.jc,{onOpenChange:_,open:D,children:[(0,s.jsx)(n.d0,{asChild:!0,children:o}),(0,s.jsx)(n.HP,{children:(0,s.jsx)(n.Et,{collisionPadding:10,side:"right",className:(0,f.cn)("w-[280px] p-4",w),children:(0,s.jsxs)("div",{className:"flex w-full flex-col justify-start gap-3",children:[(0,s.jsx)(a.z,{userId:l,onTrack:()=>null}),(0,s.jsx)(r.W,{userId:l,className:"w-full",size:"md"}),(0,s.jsxs)("div",{className:"grid w-full grid-cols-3 grid-rows-2 gap-2",children:[T&&Array.from([,,,,,].keys()).map((e,t)=>(0,s.jsx)("div",{className:"bg-bg-base-hover relative aspect-square size-full animate-pulse overflow-hidden rounded-xl"},t)),null==E||null==(t=E.map)?void 0:t.call(E,(e,t)=>{var l,a;return(0,s.jsxs)("div",{onClick:()=>{var t;null==(t=k.current)||t.open(e.id,E)},className:"group bg-bg-strong relative aspect-square size-full cursor-pointer overflow-hidden rounded-xl",children:[(0,s.jsx)(v.default,{src:e.thumbnailUrl,alt:"3D model for ".concat(e.objectPrompt||(null==(a=e.args)||null==(l=a.draft)?void 0:l.prompt)||""),width:100,height:100,className:"absolute inset-0 size-full object-contain"}),(0,s.jsx)("div",{className:"invisible absolute z-10 size-full bg-black/60 group-hover:visible"})]},t)}),(0,s.jsx)(c(),{href:l&&"/@".concat(null==N?void 0:N.uid),children:(0,s.jsxs)("div",{className:"bg-bg-strong text-label-muted hover:bg-bg-base hover:text-label-base flex aspect-square cursor-pointer flex-col items-center justify-center gap-1 rounded-xl text-[10px] leading-3 font-medium transition-colors",children:[(0,s.jsx)(p.A,{stroke:1.5}),A("Dashboard.Community.Profile.ViewMore")]})})]})]})})})]})})}},20654:(e,t,l)=>{l.d(t,{e:()=>m});var s=l(95155),a=l(74765),n=l(4230),i=l(93800),r=l(36274),o=l(58944),c=l(68642),d=l(18955),u=l(12115);let m=e=>{let{isLoading:t,isValidating:l,isReachingEnd:m,onLoadMore:h,autoLoadNextPage:x=!1}=e,f=(0,d.c3)(),p=(0,u.useRef)(null),g=(0,r.W)(p);return(0,u.useEffect)(()=>{!g||!x||m||l||t||h()},[g,t,m,l,h,x]),(0,s.jsxs)(o.N,{children:[t?(0,s.jsxs)(c.P.div,{layout:!0,className:"flex items-center gap-x-1",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{ease:"easeOut",duration:.3},exit:{opacity:0,scale:.8},children:[(0,s.jsx)(i.A,{type:"spinner"}),(0,s.jsxs)("span",{className:"text-label-faint text-sm leading-5 font-medium",children:[f("App.LoadingAssets.Loading")," ..."]})]},"load-more-loading"):l?(0,s.jsxs)(c.P.div,{layout:!0,className:"flex items-center gap-x-1",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{ease:"easeOut",duration:.3},exit:{opacity:0,scale:.8},children:[(0,s.jsx)(i.A,{type:"spinner"}),(0,s.jsxs)("span",{className:"text-label-faint text-sm leading-5 font-medium",children:[f("App.LoadingAssets.LoadingMore")," ..."]})]},"load-more-validating"):m?(0,s.jsx)(n.A,{type:"end"},"load-more-end"):(0,s.jsx)(a.default,{type:"secondary",onClick:h,size:"sm",className:"text-label-muted hover:text-label-soft",children:f("App.LoadingAssets.LoadMore")},"load-more-button"),x&&(0,s.jsx)("div",{ref:p,className:"pointer-events-none"},"load-more-ref")]})}},22862:(e,t,l)=>{l.d(t,{A:()=>i});var s,a=l(12115);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e}).apply(this,arguments)}let i=function(e){return a.createElement("svg",n({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),s||(s=a.createElement("path",{d:"M19.51 3.08 3.08 19.51c.09.34.27.65.51.9.25.24.56.42.9.51L20.93 4.49c-.19-.69-.73-1.23-1.42-1.41ZM11.88 3 3 11.88v2.83L14.71 3h-2.83ZM5 3c-1.1 0-2 .9-2 2v2l4-4H5Zm14 18c.55 0 1.05-.22 1.41-.59.37-.36.59-.86.59-1.41v-2l-4 4h2Zm-9.71 0h2.83L21 12.12V9.29L9.29 21Z",fill:"currentColor"})))}},25003:(e,t,l)=>{l.r(t),l.d(t,{AlertDialog:()=>u,ConfirmDialog:()=>m,useDialogs:()=>h});var s=l(95155),a=l(48077),n=l(18955),i=l(12115),r=l(74765),o=l(96751),c=l(99338);function d(e){let[t,l]=(0,i.useState)(!1);return{onClick:(0,a.A)(async()=>{try{l(!0),await e()}finally{l(!1)}}),loading:t}}function u(e){var t,l;let{open:a,payload:i,onClose:c}=e,u=(0,n.c3)(),m=d(()=>c());return(0,s.jsx)(o.Dialog,{open:a,onOpenChange:e=>{e||c()},children:(0,s.jsxs)(o.DialogContent,{onEscapeKeyDown:e=>{i.closeOnButtonOnly&&e.preventDefault()},onPointerDownOutside:e=>{i.closeOnButtonOnly&&e.preventDefault()},onInteractOutside:e=>{i.closeOnButtonOnly&&e.preventDefault()},children:[(0,s.jsx)(o.DialogTitle,{className:"p-6 pb-0",children:null!=(t=i.title)?t:u("Component.Dialog.Alert")}),(0,s.jsx)(o.DialogDescription,{className:"p-6",children:i.msg}),(0,s.jsx)(o.DialogFooter,{className:"border-bg-border border-t-[0.5px] px-6 py-4",children:(0,s.jsx)(r.default,{type:i.okButtonType,...m,children:null!=(l=i.okText)?l:u("Component.Dialog.Ok")})})]})})}function m(e){var t,l,a;let{open:i,payload:c,onClose:u}=e,m=(0,n.c3)(),h=d(()=>u(!1)),x=d(()=>u(!0));return(0,s.jsx)(o.Dialog,{open:i,onOpenChange:e=>{e||u(!1)},children:(0,s.jsxs)(o.DialogContent,{onEscapeKeyDown:e=>{c.closeOnButtonOnly&&e.preventDefault()},onPointerDownOutside:e=>{c.closeOnButtonOnly&&e.preventDefault()},onInteractOutside:e=>{c.closeOnButtonOnly&&e.preventDefault()},children:[(0,s.jsx)(o.DialogTitle,{className:"p-6 pb-0",children:null!=(t=c.title)?t:m("Component.Dialog.Confirm")}),(0,s.jsx)(o.DialogDescription,{asChild:!0,children:(0,s.jsx)("div",{className:"p-6",children:c.msg})}),(0,s.jsxs)(o.DialogFooter,{className:"border-bg-border border-t-[0.5px] px-6 py-4",children:[(0,s.jsx)(r.default,{type:c.cancelButtonType||"secondary",...h,children:null!=(l=c.cancelText)?l:m("Component.Dialog.Cancel")}),(0,s.jsx)(r.default,{type:c.confirmButtonType,...x,children:null!=(a=c.confirmText)?a:m("Component.Dialog.Confirm")})]})]})})}function h(){let e=i.useContext(c.d);if(!e)throw Error("useDialogs must be used within a DialogsProvider");let{open:t,close:l}=e,s=(0,a.A)(function(e){let{onClose:l,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t(u,{...s,msg:e},{onClose:l})}),n=(0,a.A)(function(e){let{onClose:l,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t(m,{...s,msg:e},{onClose:l})});return i.useMemo(()=>({alert:s,confirm:n,open:t,close:l}),[s,l,n,t])}},39392:(e,t,l)=>{l.d(t,{R:()=>m,f:()=>h});var s=l(95155),a=l(8952),n=l(90433),i=l(15239),r=l(52619),o=l.n(r),c=l(75889),d=l(16362),u=l(45641);let m=e=>{let{data:t,userId:l,className:a}=e;return(0,s.jsx)("div",{className:(0,c.QP)("h-10 w-10",a),children:(0,s.jsx)(d.C,{badgeData:t,userId:l,children:(0,s.jsx)(i.default,{src:t.badgeImage,alt:t.badgeName,width:64,height:64,unoptimized:!0,className:"block aspect-square cursor-pointer"})})})},h=e=>{let{userId:t,maxCount:l=12}=e,i=(0,n.ge)(),{data:r}=(0,u.Z)(t),{userInfo:c}=(0,a.Py)(t,!1),d=null==c?void 0:c.uid,h=(null==c?void 0:c.totalNumberOfBadges)||0,x=l;return h<l?x=h:h>l&&(x=l-1),(0,s.jsxs)("div",{className:"flex max-w-[280px] flex-wrap gap-2",children:[r.map((e,l)=>l<x&&(0,s.jsx)(m,{data:e,userId:t},e.id)),h>l&&(0,s.jsx)(o(),{href:i("/@".concat(d,"/award")),children:(0,s.jsx)("div",{className:"bg-bg-modal-overlay flex size-10 items-center justify-center rounded-full hover:bg-black",children:(0,s.jsxs)("span",{className:"text-label-base text-xs font-medium",children:[h-x,"+"]})})})]})}},40359:(e,t,l)=>{l.d(t,{U:()=>c});var s=l(95155),a=l(95387),n=l(66599),i=l(14313),r=l(72121),o=l(18955);let c=e=>{let{type:t="model",className:l}=e,c=(0,o.c3)();return(0,s.jsx)(a.rI,{size:"sm",trigger:(0,s.jsx)("div",{className:(0,n.cn)("bg-accent-bg text-accent-base rounded-b-lg p-1",l),children:(0,s.jsx)(i.A,{className:"size-5"})}),align:"start",className:"z-10 w-auto",sideOffset:8,triggerEvent:"hover",children:(0,s.jsx)(a.I,{size:"sm",children:(0,s.jsx)(a._2,{size:"sm",icon:(0,s.jsx)(r.A,{stroke:1.5}),label:c("Community.HowToGetFeatured"),onSelect:()=>{window.open("model"===t?"https://help.meshy.ai/en/articles/10615378-how-to-get-my-models-featured-in-the-community":"https://help.meshy.ai/en/articles/11863852-how-to-get-my-collections-featured-in-the-community","_blank")}})})})}},40777:(e,t,l)=>{l.d(t,{A:()=>x});var s=l(95155),a=l(1821),n=l(71700),i=l(85424),r=l(68072),o=l(18955),c=l(15239),d=l(12115),u=l(10103),m=l(83013);let h={loop:!0,duration:30},x=e=>{var t,l;let{slides:x,videos:f=[],options:p=h,type:g="page"}=e;(0,o.c3)();let b=f||[],[v,j]=d.useState(Array(b.length).fill(!1)),y=(null!=(l=null==x?void 0:x.length)?l:0)>0?x:b.length>0?[]:["https://cdn.meshy.ai/webapp-assets/community/collections/default-collections-cover.webp"],[w,N]=(0,r.A)(p,[(0,n.A)(),(0,i.A)()]),C=null==N||null==(t=N.plugins())?void 0:t.autoplay,A=(0,d.useCallback)(()=>{C&&(j(()=>Array(b.length).fill(!1)),(!1===C.options.stopOnInteraction?C.reset:C.stop)())},[C,b.length]),{selectedIndex:k,scrollSnaps:D,onDotButtonClick:_}=(0,a.R)(N,A);return(0,s.jsxs)("div",{className:"relative size-full overflow-hidden",ref:w,children:[(0,s.jsxs)("div",{className:"flex size-full",children:["page"===g&&b.length>0&&b.map((e,t)=>(0,s.jsx)("div",{className:"size-full flex-none",children:v[t]?(0,s.jsx)(u.A,{videoIdOrLink:e,isPlay:!0}):(0,s.jsxs)("div",{className:"relative flex size-full flex-none items-center justify-center",children:[(0,s.jsx)(u.A,{videoIdOrLink:e}),(0,s.jsx)(m.A,{className:"hover:text-accent-base pointer-events-auto absolute z-20 h-11 w-[52px] cursor-pointer",onClick:()=>{j(e=>{let l=[...e];return l[t]=!0,l})}})]})},t)),y&&(null==y?void 0:y.map((e,t)=>(0,s.jsx)("div",{className:"size-full flex-none",children:(0,s.jsx)(c.default,{src:e,alt:"collection cover",className:"size-full ".concat("page"===g?"rounded-3xl":"rounded-t-2xl"," object-cover transition-opacity duration-500"),width:500,height:500,unoptimized:!0})},t)))]}),y&&(y.length>1||"page"===g&&y.length+b.length>1)&&(0,s.jsx)("div",{className:"absolute ".concat("card"===g?"bottom-3":"bottom-5"," z-20 flex w-full items-center justify-center gap-2"),children:D.map((e,t)=>(0,s.jsx)(a.c,{onClick:e=>{e.preventDefault(),e.stopPropagation(),_(t)},className:"size-2 cursor-pointer rounded-full transition-colors ".concat(t===k?"bg-accent-base":"bg-label-placeholder")},t))})]})}},45641:(e,t,l)=>{l.d(t,{Z:()=>d});var s=l(22317),a=l(46287),n=l(54172),i=l(51947),r=l(82945),o=l(4831),c=l(67016);let d=e=>{var t;let{isLoading:l,isAuthenticated:d}=(0,s.n)(),{data:u,error:m,mutate:h,size:x,setSize:f,isValidating:p,isLoading:g}=(0,c.Ay)((t,s)=>l||s&&!s.length?null:[e,t],async e=>{let t,[l,s]=e;t=d?a.Wl:n.Wl;let i=await t({pageSize:20,pageNum:s+1},l);return(null==i?void 0:i.result)||[]},{revalidateFirstPage:!0,revalidateOnFocus:!1}),b=(null==u||null==(t=u[0])?void 0:t.length)===0,v=(0,i.A)(u),j=b||u&&v&&!(0,r.A)(v)&&v.length<20;return{data:(0,o.A)((null==u?void 0:u.flat())||[],e=>e.badgeId),error:m,mutate:h,mutateWithoutRevalidate:e=>{u&&h(u.map(t=>t.map(t=>t.id===e.id?e:t)),{revalidate:!1})},size:x,setSize:f,isValidating:p,isLoading:g,isReachingEnd:j}}},46834:(e,t,l)=>{l.d(t,{P5:()=>a,oD:()=>n});var s=l(16680);let a=e=>{var t,l;let s=e.split("/").pop()||"",a=/(?:-?v2-)?([a-f0-9-]{36}(?:_[0-9])?)$/,n=null==(t=s.match(a))?void 0:t[1],i=null==(l=s.match(a))?void 0:l[0],r=s.replace(a,"");return n?{prompt:r,id:n,isV2:null!=i&&!!i.match(/^-?v2-/)}:{prompt:"",id:"",isV2:!1}},n=e=>e===s.nN.ImageTo3D?"Dashboard.Discover.CommunityShowcase.Section.ImageTo3d":e===s.nN.TextToTexture?"Dashboard.Discover.CommunityShowcase.Section.AITexturing":e===s.nN.TextTo3D||e===s.nN.TextTo3DV2Coarse||e===s.nN.TextTo3DV2Refine||e===s.nN.Animation?"Dashboard.Discover.CommunityShowcase.Section.TextTo3d":e===s.nN.TextToVoxel?"Dashboard.Discover.CommunityShowcase.Section.TextToVoxel":e===s.nN.Collection?"Dashboard.Community.Collections":""},48471:(e,t,l)=>{l.d(t,{A:()=>h,n:()=>m});var s=l(95155),a=l(95333),n=l(74765),i=l(20701),r=l(60123),o=l(98803),c=l(92956),d=l(78524),u=l(18955);let m=(e,t)=>{let l=(e=>e?/[\u4e00-\u9fff]/.test(e)?encodeURIComponent(e):e.split(" ").map(e=>e.replace(/[^a-zA-Z0-9]/g,"")).filter(e=>e).join("-"):"")(t);return"/collections/".concat(l?l+"-":"").concat(e)},h=e=>{let{id:t,name:l,size:h="lg"}=e,x="".concat("https://www.meshy.ai").concat(m(t,l)),f=(0,a.n)(),p="Just shared a collection of 3D models -\xa0".concat(l,". Check it out:\n").concat(x,"\n#Meshy #3D #AI #AIart #createdwithai\nDive into the creations and get inspired by the stunning models generated by Meshy."),g=(0,u.c3)();return(0,s.jsx)(i.Ay,{title:g("Landing.Collections.Share"),description:"",contentClassName:"p-6",className:"w-full max-w-3xl transition-all duration-300",showCrossClose:!0,trigger:(0,s.jsx)(n.default,{size:h,type:"primary",className:"w-full md:w-fit",icon:(0,s.jsx)(d.A,{stroke:1.5}),onClick:()=>{f("share_collections_intent")},children:g("Landing.Collections.Share")}),children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-start gap-5",children:[(0,s.jsx)(r.k,{taskId:t,isAnimation:!1,isCollection:!0,tracking:"collections"}),(0,s.jsx)("div",{className:"bg-bg-border h-px w-full"}),(0,s.jsx)(o.C,{modelPreviewUrl:x,tracking:"collections"}),(0,s.jsx)("div",{className:"bg-bg-border h-px w-full"}),(0,s.jsx)(c.T,{modelPreviewUrl:x,contentToTwitter:p,tracking:"collections"})]})})}},56262:(e,t,l)=>{l.d(t,{D:()=>S,G:()=>z});var s=l(95155),a=l(79124),n=l(33445),i=l(95227),r=l(19554),o=l(61691),c=l(74765),d=l(880),u=l(55247),m=l(16680),h=l(90433),x=l(52172),f=l(69095),p=l(18955),g=l(15239),b=l(52619),v=l.n(b),j=(l(77545),l(40359)),y=(l(11340),l(19954)),w=l(8952),N=l(88378),C=l(84096),A=l(48471),k=l(67196),D=l(40777),_=l(83013);let z="https://cdn.meshy.ai/webapp-assets/community/collections/default-collections-cover.webp";function S(e){let{collection:t,theme:l,showEmptyCard:b=!0,forLanding:z=!1}=e,S=t.showcases||[],I=t.backgroundUrls||[],T=t.backgroundVideoUrls||[],E=(0,h.ge)();t.createdBy=t.userId||t.createdBy;let{userInfo:O}=(0,w.Py)(t.createdBy||"",!1),{myInfo:P,preferences:L}=(0,w.Iy)(),F=E((0,A.n)(t.id,t.name)),M=t.showBgImageInCommunity,{data:U,isLoading:R}=(0,o.IW)({pageSize:M?6:24,pageNum:0,communityCollectionId:t.id,includeNSFW:L.isIncludeNSFW},"ELEGOO"===l),B=(null==U?void 0:U.flatMap(e=>e))||[],G="ELEGOO"===l?S:B,W=(0,p.c3)(),Z=(null==P?void 0:P.userId)===t.createdBy,V=t.isFeatured,X=(0,s.jsxs)("div",{className:"relative rounded-full pb-0.5 pl-1 ".concat(z?"pl-0":""),children:[(0,s.jsx)(y.A,{size:"sm",alt:(null==O?void 0:O.nickname)||"",src:(null==O?void 0:O.avatarUrl)||""}),(0,s.jsx)(u.w,{tier:null==O?void 0:O.tier,size:"md"})]}),H=(0,s.jsx)("p",{className:"text-label-base ".concat(z?"text-lg font-bold":"text-sm font-medium"),children:null==O?void 0:O.nickname});return b||R||0!==B.length?(0,s.jsxs)("div",{className:"z-0 flex flex-col gap-4 overflow-hidden transition-colors duration-100",children:[(0,s.jsxs)(v(),{href:l?"".concat(F,"?theme=").concat(l):F,className:"group bg-bg-strong relative rounded-2xl",target:"_blank",children:[(0,s.jsxs)("div",{className:"absolute top-0 right-4 z-20 flex justify-end gap-2",children:[!1,!1,V&&(0,s.jsx)(j.U,{type:"collection"})]}),t.theme?(0,s.jsxs)("div",{className:"absolute top-2 left-2 z-20 flex items-center gap-1",children:[(0,s.jsx)(C.A,{collectionId:t.id,showLabel:!1}),(0,s.jsx)(a.qi,{type:"dashboard",eventName:t.theme,className:"bg-bg-modal-overlay-sub h-7 gap-2 py-1 pr-3 pl-1",iconClassName:"size-5"})]}):(0,s.jsx)("div",{className:"pointer-events-none absolute inset-0 bottom-[52px] z-20 flex translate-y-2 flex-col justify-end px-3 opacity-0 transition duration-300 ease-out group-hover:translate-y-0 group-hover:opacity-100",children:(0,s.jsx)("div",{className:"absolute top-2 left-2 text-left",children:(0,s.jsx)(i._,{type:m.nN.Collection})})}),M&&I.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"relative flex aspect-video flex-col items-center justify-end",children:[(0,s.jsx)("div",{className:"to-bg-strong absolute inset-0 z-10 h-full bg-linear-to-b from-transparent shadow-xl"}),(0,s.jsx)(D.A,{slides:I,type:"card",videos:T}),!z&&T.length>0&&(0,s.jsx)(_.A,{className:"absolute top-1/2 left-1/2 z-10 -translate-x-1/2 -translate-y-1/2"})]}),(0,s.jsxs)("div",{className:"bg-bg-strong group-hover:text-label-title relative flex h-[70px] w-full justify-center gap-1 rounded-b-2xl py-1 text-transparent transition-opacity duration-150",children:[(0,s.jsx)("div",{className:"absolute inset-0 z-10 grid w-full grid-cols-[repeat(auto-fill,minmax(70px,1fr))] gap-2 overflow-hidden group-hover:opacity-40",children:null==G?void 0:G.map((e,t)=>(0,s.jsx)("div",{className:"relative size-[70px] rounded-lg bg-[#0e0e0e]",children:(0,s.jsx)(g.default,{src:e.thumbnailUrl,alt:e.name||e.objectPrompt,width:70,height:70,className:"size-[70px] rounded-lg object-contain",unoptimized:!0})},t))}),(0,s.jsx)("p",{className:"absolute inset-0 z-10 flex translate-y-2 items-center justify-center px-4 transition duration-300 ease-out group-hover:translate-y-0",children:(0,s.jsx)("span",{className:"line-clamp-2 text-center text-sm leading-tight font-medium break-words",children:t.name})})]})]}):(0,s.jsxs)("div",{className:"overflow-hidden rounded-b-2xl",children:[(0,s.jsx)("div",{className:"grid aspect-video max-h-fit min-h-0 grid-cols-[repeat(auto-fill,minmax(70px,1fr))] gap-1 px-1 py-6",children:null==G?void 0:G.map((e,t)=>(0,s.jsx)("div",{className:"relative aspect-square max-w-[70px] rounded-lg bg-[#0e0e0e]",children:(0,s.jsx)(g.default,{src:e.thumbnailUrl,alt:e.name||e.objectPrompt,width:70,height:70,className:"size-full rounded-lg object-contain",unoptimized:!0})},t))}),(0,s.jsxs)("div",{className:"group-hover:text-label-title relative flex h-[70px] w-full justify-center gap-1 bg-transparent py-1 text-transparent transition-opacity duration-150",children:[(0,s.jsx)("div",{className:"via-bg-strong to-bg-strong absolute inset-x-0 -top-5 bottom-0 z-10 flex items-center justify-center gap-2 bg-linear-to-b from-transparent opacity-80"}),!z&&T.length>0&&(0,s.jsx)(_.A,{className:"text-label-title absolute bottom-2 left-4 z-10"}),(0,s.jsx)("p",{className:"absolute inset-0 z-10 flex items-center justify-center px-4",children:(0,s.jsx)("span",{className:"line-clamp-2 translate-y-2 text-center text-sm leading-tight font-medium break-words transition duration-300 ease-out group-hover:translate-y-0",children:t.name})})]})]}),"ELEGOO"!==l&&!z&&(0,s.jsxs)("div",{className:"flex items-center justify-between p-2",onClick:e=>{e.preventDefault(),e.stopPropagation()},children:[(0,s.jsx)(n.A,{showcaseId:t.id,userId:t.createdBy,type:"ELEGOO"===l?void 0:"collection"}),(0,s.jsx)("div",{className:"flex items-center gap-1",children:(0,s.jsx)(c.default,{className:"hidden group-hover:flex",type:"icon-secondary",size:"sm",icon:(0,s.jsx)(x.A,{}),onClick:()=>{navigator.clipboard.writeText("".concat("https://www.meshy.ai").concat((0,A.n)(t.id,t.name))),d.toast.success(W("Landing.Collections.LinkCopied"))}})})]})]}),"ELEGOO"===l&&(0,s.jsx)("div",{className:"text-label-base -my-2 line-clamp-1 h-7 text-lg font-semibold",children:t.name}),(0,s.jsxs)("div",{className:(0,f.A)("flex items-center justify-between",z&&"px-6"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[z?X:(0,s.jsx)(r.P,{userId:t.createdBy||"",children:(0,s.jsx)(v(),{href:E("/@".concat(null==O?void 0:O.uid)),prefetch:!1,target:"_blank",children:X})}),(0,s.jsxs)("div",{className:"flex flex-col",children:[z?H:(0,s.jsx)(r.P,{userId:t.createdBy||"",children:(0,s.jsx)(v(),{href:E("/@".concat(null==O?void 0:O.uid)),prefetch:!1,target:"_blank",className:"w-fit",children:H})}),!z&&(0,s.jsx)("p",{className:"text-label-muted text-xs",children:(0,s.jsx)(N.s,{timestamp:t.updatedAt})})]})]}),z?null:"ELEGOO"===l?(0,s.jsx)(n.A,{showcaseId:t.id}):(0,s.jsx)(k.l,{collectionId:t.id,isOwner:Z||z,isSubscribed:t.isSubscribed&&!z})]})]}):null}},60123:(e,t,l)=>{l.d(t,{k:()=>v});var s=l(95155),a=l(95333),n=l(74765),i=l(54622),r=l(880),o=l(48374),c=l(66274),d=l(23369),u=l(97262),m=l(89712),h=l(16114),x=l(2186),f=l(58526),p=l(18955),g=l(20063),b=l(12115);let v=e=>{let{taskId:t,isAnimation:l,isCollection:v,tracking:j}=e,[y,w]=(0,b.useState)(""),[N,C]=(0,b.useState)([]),[A,k]=(0,b.useState)(!0),D=(0,a.n)(),_=(0,g.usePathname)(),z=(0,p.c3)(),S=()=>{if(!(0,u.DT)(y)){k(!1),setTimeout(()=>{k(!0)},2e3);return}C((0,f.A)([...N,y])),w("")},I=()=>{"3d_models"===j?D("share_3d_models",{method:"email",position:_.includes("workspace")?"workspace":"community"}):"collections"===j?D("share_collections",{method:"email"}):"user_profile"===j?D("share_user_profile",{method:"email"}):"tags"===j&&D("share_tags",{method:"email"})},T=async()=>{let e=(0,u.DT)(y)?[...N,y]:N;return l?void(await (0,o.hW)(t,(0,f.A)(e))?(I(),r.toast.success(z("Workspace.Shared.Section.ByEmail.Toast.Success"))):r.toast.error("Failed to send email")):v?void(await (0,c.Nl)(t,(0,f.A)(e))?(I(),r.toast.success(z("Workspace.Shared.Section.ByEmail.Toast.Success"))):r.toast.error("Failed to send email")):void(await (0,d.Yx)(t,(0,f.A)(e))?(I(),r.toast.success(z("Workspace.Shared.Section.ByEmail.Toast.Success"))):r.toast.error("Failed to send email"))},E=!(0,u.DT)(y)&&0===N.length;return(0,s.jsx)("div",{className:"w-full",children:(0,s.jsxs)("div",{className:"flex flex-col justify-start gap-2",children:[(0,s.jsx)("div",{className:"text-label-title text-base leading-6 font-medium",children:z("Workspace.Shared.Section.ByEmail.Default")}),(0,s.jsxs)("div",{className:"flex flex-row gap-[10px]",children:[(0,s.jsxs)("div",{className:"relative w-full",children:[(0,s.jsx)(i.A,{status:A?"default":"error",onKeyDown:e=>{"Enter"===e.key&&S()},type:"email",value:y,onChange:e=>{w(e.target.value)},maxLength:60,placeholder:"Email"}),(0,s.jsx)(n.default,{type:"tertiary",onClick:S,size:"sm",className:"absolute top-1.5 right-1.5",icon:(0,s.jsx)(m.A,{stroke:1.5}),children:z("Workspace.Shared.Section.ByEmail.Add")})]}),(0,s.jsx)(n.default,{type:"primary",onClick:T,icon:(0,s.jsx)(h.A,{stroke:1.5}),disabled:E,children:z("Workspace.Shared.Section.ByEmail.Send")})]}),!A&&(0,s.jsx)("div",{className:"text-semantic-error-highlight text-sm leading-5 font-normal",children:z("Workspace.Shared.Section.ByEmail.Error")}),0!==N.length&&(0,s.jsx)("div",{className:"flex flex-wrap",children:(0,f.A)(N).map((e,t)=>(0,s.jsxs)("div",{className:"text-label-base flex h-8 w-fit cursor-default flex-row items-center justify-center gap-1 rounded-[10px] py-1 pr-1 pl-2 text-xs leading-4 font-medium hover:bg-white/5",children:[(0,s.jsx)("div",{children:e}),(0,s.jsx)(n.default,{type:"icon-tertiary",size:"xs",icon:(0,s.jsx)(x.A,{stroke:1.5,className:"size-4"}),onClick:()=>{C(N.filter((e,l)=>l!==t))}})]},t))})]})})}},61691:(e,t,l)=>{l.d(t,{Yv:()=>E,Zn:()=>O,Kw:()=>U,IW:()=>L,Ef:()=>M,Bw:()=>R,Pt:()=>F,KE:()=>P});var s,a,n=l(95155),i=l(12115);function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e}).apply(this,arguments)}let o=function(e){return i.createElement("svg",r({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),s||(s=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.622 1.602a.75.75 0 0 1 .756 0l9 5.25a.75.75 0 0 1 .372.648v9a.75.75 0 0 1-.372.648l-9 5.25a.75.75 0 0 1-.756 0l-9-5.25a.75.75 0 0 1-.372-.648v-9a.75.75 0 0 1 .372-.648l9-5.25ZM3.75 8.806v7.263l7.5 4.375v-7.263l-7.5-4.375Zm9 4.375v7.263l7.5-4.375V8.806l-7.5 4.375ZM19.512 7.5 12 11.882 4.488 7.5 12 3.118 19.512 7.5Z",fill:"currentColor"})))};var c=l(22862);function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e}).apply(this,arguments)}let u=function(e){return i.createElement("svg",d({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a||(a=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 3.5v6.292L.5 13v7l6 3.5 5.5-3.208 5.5 3.208 6-3.5v-7L18 9.792V3.5L12 0 6 3.5Zm1.2 1.395V9.81l4.2 2.45V7.345l-4.2-2.45Zm5.4 2.45v4.916l4.2-2.45V4.895l-4.2 2.45Zm3.614-3.498L12 1.39 7.786 3.847 12 6.305l4.214-2.458ZM1.7 14.395v4.916l4.2 2.45v-4.916l-4.2-2.45Zm5.4 2.45v4.916l4.2-2.45v-4.916l-4.2 2.45Zm3.614-3.498L6.5 10.89l-4.214 2.458L6.5 15.805l4.214-2.458Zm1.986 5.964v-4.916l4.2 2.45v4.916l-4.2-2.45Zm5.4 2.45v-4.916l4.2-2.45v4.916l-4.2 2.45Zm-.6-10.872 4.214 2.458-4.214 2.458-4.214-2.458L17.5 10.89Z",fill:"currentColor"})))};var m=l(52513),h=l(46834),x=l(880),f=l(98999),p=l(22317),g=l(131),b=l(48374),v=l(16680),j=l(5573),y=l(1888),w=l(46287),N=l(62906),C=l(79350),A=l(45293),k=l(58526),D=l(51947),_=l(82945),z=l(18955),S=l(20063),I=l(46512),T=l(67016);let E=e=>Object.values(e.args||{}).some(e=>null!==e),O=()=>{let e=(0,z.c3)(),t=(0,S.useRouter)(),{data:l}=(0,g.o)(),{setImageIds:s,setImageUrls:a}=(0,f.Ux)();return async n=>{try{var i,r,o,c,d,u,m,h,p,g,b,j,w,N,C,A,D;if(E(n)){let v=null==(r=n.args)||null==(i=r.draft)?void 0:i.imageUrl,D=null==(c=n.args)||null==(o=c.draft)?void 0:o.aiModel,_=(null==(u=n.args)||null==(d=u.draft)?void 0:d.imageUrl)||"",z=(0,k.A)((null==(h=n.args)||null==(m=h.draft)?void 0:m.imageUrls)||[_]).filter(Boolean),S=(null==(g=n.args)||null==(p=g.draft)?void 0:p.imageId)||"",I=(0,k.A)((null==(j=n.args)||null==(b=j.draft)?void 0:b.imageIds)||[S]).filter(Boolean).length>1,T=(null==l?void 0:l.tier)==="free",E=[...z];if(I&&(T?E=E.slice(0,1):f.Ux.setState({isUseMultiView:!0})),D&&f.Ux.setState({aiModel:D}),v){let l=E.map(async t=>{let l=await (0,y.Vk)({url:t});return l||x.toast.error(e("Component.ImageUploadArea.Toast.UploadFailure")),l}),i=await Promise.all(l),r=i.map(e=>(null==e?void 0:e.id)||""),o=i.map(e=>(null==e?void 0:e.url)||"");s(r),a(o),f.Ux.setState({imageName:null==(N=n.args)||null==(w=N.draft)?void 0:w.prompt}),t.push("/workspace#genMode-img3d")}else f.Ux.setState({prompt:null==(A=n.args)||null==(C=A.draft)?void 0:C.prompt}),t.push("/workspace#genMode-text3d");return}if(n.mode===v.nN.TextTo3D&&(f.Ux.setState({prompt:n.objectPrompt}),t.push("/workspace#genMode-text3d")),[v.nN.TextTo3DV2Coarse,v.nN.TextTo3DV2Refine].includes(n.mode)&&(f.Ux.setState({prompt:n.objectPrompt}),t.push("/workspace#genMode-text3d")),n.mode===v.nN.ImageTo3D){let e=await (0,y.Vk)({url:(null==(D=n.imageUrls)?void 0:D[0])||""});if(!e)throw Error("Failed to upload image");s([e.id]),a([e.url]),f.Ux.setState({imageName:n.name}),t.push("/workspace#genMode-img3d")}}catch(t){x.toast.error(e("Dashboard.Discover.ExampleFiles.ErrorMessage"))}}},P=e=>{let t=(0,z.c3)(),l=(0,h.oD)(e),s=l?t(l):"";return e===v.nN.ImageTo3D?{tagText:s,icon:(0,n.jsx)(C.A,{})}:e===v.nN.TextToTexture?{tagText:s,icon:(0,n.jsx)(c.A,{})}:e===v.nN.TextTo3D||e===v.nN.TextTo3DV2Coarse||e===v.nN.TextTo3DV2Refine||e===v.nN.Animation?{tagText:s,icon:(0,n.jsx)(o,{})}:e===v.nN.TextToVoxel?{tagText:s,icon:(0,n.jsx)(u,{})}:e===v.nN.Collection?{tagText:s,icon:(0,n.jsx)(A.A,{})}:{tagText:"",icon:null}},L=(e,t,l)=>{var s;let{isLoading:a,isAuthenticated:n}=(0,p.n)(),{data:i,error:r,mutate:o,size:c,setSize:d,isValidating:u,isLoading:m}=(0,T.Ay)((l,s)=>{if(a||s&&!s.length)return null;let i=JSON.stringify(e);return!t&&[i,l,n]},async t=>{let[l,s]=t;return(n?await (0,j.$0)({...e,pageNum:s+1}):await (0,N.Sz)({...e,pageNum:s+1}))||[]},{persistSize:!0,revalidateOnMount:!0,revalidateOnFocus:!1,revalidateFirstPage:!1,fallbackData:l?[l]:void 0}),h=e.pageSize,x=(null==i||null==(s=i[0])?void 0:s.length)===0,f=(0,D.A)(i),g=x||i&&f&&!(0,_.A)(f)&&f.length<h;return{data:i,error:r,mutate:o,size:c,setSize:d,isValidating:u,isLoading:m,isReachingEnd:g}},F=e=>{let{isLoading:t,isAuthenticated:l}=(0,p.n)(),{data:s,error:a,mutate:n}=(0,I.Ay)(!t&&e?["task-animation",e]:null,async e=>{let[t,s]=e;return(l?b.RB:b.qC)(s)});return{data:s,error:a,mutate:n}},M=(e,t,l,s)=>{var a;let{data:n,error:i,mutate:r,size:o,setSize:c,isValidating:d,isLoading:u}=(0,T.Ay)((a,n)=>(!n||n.length)&&("following_creator"!==e||l)?!s&&[JSON.stringify({type:e,...t}),a]:null,async s=>{let[a,n]=s;if("following_creator"!==e)return await (0,w.ZZ)(e,{...t,pageNum:n+1})||[];{let e=await (0,w.EZ)({...t,pageNum:n+1},l);return(null==e?void 0:e.result)?e.result.map(e=>e.userId):[]}},{persistSize:!0,revalidateOnMount:!0,refreshWhenHidden:!1,refreshWhenOffline:!1,shouldRetryOnError:!0,revalidateOnFocus:!1,revalidateOnReconnect:!0,revalidateFirstPage:!0}),m=t.pageSize,h=(null==n||null==(a=n[0])?void 0:a.length)===0,x=(0,D.A)(n),f=h||n&&x&&!(0,_.A)(x)&&x.length<m;return{data:n,error:i,mutate:r,size:o,setSize:c,isValidating:d,isLoading:u,isReachingEnd:f}},U=e=>M("popular_creator",e),R=e=>{let{isAuthenticated:t}=(0,p.n)();return(0,I.Ay)(e?["showcase-data",e]:null,async e=>{let[l,s]=e;if(!t)return(0,N.r4)(s);{let e=await (0,m.getAccessToken)();return(0,j.ip)(s||"",e)}})}},67196:(e,t,l)=>{l.d(t,{l:()=>x});var s=l(95155),a=l(74765),n=l(79534),i=l(64991),r=l(65633),o=l(61789),c=l(84970),d=l(28747),u=l(12115),m=l(77157),h=l(15372);let x=e=>{let{collectionId:t,isOwner:l=!1,isSubscribed:x=!1,type:f="card"}=e,[p,g]=(0,u.useState)(x),{data:b,mutate:v}=(0,n.o)({collectionId:t});return(0,s.jsxs)("div",{className:"flex items-center gap-5 select-none",onClick:e=>{e.preventDefault(),e.stopPropagation()},children:[(0,s.jsxs)("div",{className:"flex items-center gap-1 ".concat("card"===f?"text-label-muted":""),children:[(0,s.jsx)(i.A,{className:"size-4"}),(0,s.jsx)("p",{className:"text-xs",children:(null==b?void 0:b.totalShowcases)||0})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 ".concat("card"===f?"text-label-muted":""),children:[(0,s.jsx)(r.A,{className:"size-4"}),(0,s.jsx)("p",{className:"text-xs",children:(null==b?void 0:b.totalShowcaseAuthors)||0})]}),"page"===f?(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(o.A,{className:"size-4"}),(0,s.jsx)("p",{className:"text-xs",children:(null==b?void 0:b.totalSubscribers)||0})]}):p?(0,s.jsx)(m.c,{collectionId:t,dialogTrigger:(0,s.jsx)(a.default,{className:"-ml-2",type:"tertiary",size:"sm",icon:(0,s.jsx)(c.A,{className:"text-accent-base"}),children:(null==b?void 0:b.totalSubscribers)||0}),onSuccess:()=>{v(),g(!1)}}):(0,s.jsx)(a.default,{type:"tertiary",className:"-ml-2",disabled:l,size:"sm",icon:(0,s.jsx)(d.A,{}),onClick:async()=>{await (0,h.rN)(t),v(),g(!0)},children:(null==b?void 0:b.totalSubscribers)||0})]})}},68201:(e,t,l)=>{l.d(t,{a:()=>p});var s=l(95155),a=l(79124),n=l(40359),i=l(61691),r=l(8952),o=l(4054),c=l(66599),d=l(18581),u=l(15239),m=l(52619),h=l.n(m),x=l(56262),f=l(48471);let p=e=>{var t;let{collection:l,disableNavigation:i=!1,showBadges:r=!0,className:m,...p}=e,b=l.showBgImageInCommunity,v=l.backgroundVideoUrls||[],j=(0,o.useLocalizedUrl)()((0,f.n)(l.id,l.name)),y=l.isFeatured;return(0,s.jsxs)(h(),{href:j,target:"_blank",className:(0,c.cn)("bg-bg-strong group flex aspect-square cursor-pointer flex-col overflow-hidden rounded-2xl",m),...p,onClick:e=>{var t;i&&e.preventDefault(),null==(t=p.onClick)||t.call(p,e)},children:[(0,s.jsxs)("div",{className:(0,c.cn)("relative flex-1",!b&&"flex items-center overflow-hidden px-1 pt-2 pb-1.5"),children:[r&&(0,s.jsxs)("div",{className:"absolute top-0 right-4 z-20 flex gap-1",children:[(0,s.jsx)(a.qi,{type:"dashboard",eventName:l.theme,iconClassName:"size-5",showLabel:!1,className:"bg-bg-modal-overlay hover:bg-bg-base-hover flex items-center justify-center rounded-b-lg px-[3px] py-1 transition-all duration-300 ease-out"}),y&&(0,s.jsx)(n.U,{type:"collection",className:"px-[3px] py-1"})]}),b?(0,s.jsx)(u.default,{src:(null==(t=l.backgroundUrls)?void 0:t[0])||x.G,alt:l.name,className:"object-cover",fill:!0,unoptimized:!0}):(0,s.jsx)(g,{collection:l,className:"flex-1"}),v.length>0&&(0,s.jsx)("div",{className:"bg-bg-modal-overlay absolute top-1/2 left-1/2 z-10 flex h-6 w-8 -translate-x-1/2 -translate-y-1/2 items-center justify-center rounded-full group-hover:hidden",children:(0,s.jsx)(d.A,{className:"size-3"})}),(0,s.jsx)("div",{className:"to-bg-strong absolute inset-0 rounded-t-2xl bg-linear-to-b from-transparent group-hover:to-black/85"})]}),(0,s.jsx)("div",{className:"text-2xs flex-none truncate p-2 pt-1.5 text-center",children:l.name})]})},g=e=>{let{collection:t,className:l,...a}=e,{preferences:n}=(0,r.Iy)(),{data:o}=(0,i.IW)({pageSize:6,pageNum:0,communityCollectionId:t.id,includeNSFW:n.isIncludeNSFW}),d=(null==o?void 0:o.flat())||[];return(0,s.jsx)("div",{className:(0,c.cn)("grid grid-cols-3 gap-1",l),...a,children:d.slice(0,6).concat(Array.from({length:6-d.length})).map((e,t)=>e?(0,s.jsx)("div",{className:"relative aspect-square overflow-hidden rounded-lg",children:(0,s.jsx)(u.default,{src:e.thumbnailUrl,alt:e.name||e.objectPrompt,fill:!0,unoptimized:!0,className:"object-contain"})},e.id):(0,s.jsx)("div",{className:"aspect-square"},t))})}},77157:(e,t,l)=>{l.d(t,{c:()=>d});var s=l(95155),a=l(74765),n=l(20701),i=l(36627),r=l(18955),o=l(12115),c=l(15372);let d=e=>{let{collectionId:t,dialogTrigger:l,onSuccess:d}=e,[u,m]=(0,o.useState)(!1),h=(0,r.c3)();return(0,s.jsx)(n.Ay,{type:"destructive",title:h("Landing.Collections.Unsubscribe.Title"),trigger:l||(0,s.jsx)(a.default,{type:"secondary",size:"lg",icon:(0,s.jsx)(i.A,{}),children:h("Landing.Collections.Subscribed")}),description:h("Landing.Collections.Unsubscribe.Description"),submitText:h("Landing.Collections.Unsubscribe.Unsubscribe"),cancelText:h("Landing.Collections.Edit.Cancel"),onSubmit:async()=>{await (0,c.cr)(t),d&&d()},open:u,onOpenChange:m,closeOnSubmit:!0})}},77545:(e,t,l)=>{l.d(t,{A:()=>r});var s=l(95155),a=l(31233),n=l(52787),i=l(18955);function r(){let e=(0,i.c3)();return(0,s.jsx)(n.A,{title:e("App.Header.Features.Animation.Title"),children:(0,s.jsx)("div",{className:"pointer-events-none rounded-b-lg bg-white/5 p-1 text-[#DEDEDE]",children:(0,s.jsx)(a.default,{className:"size-5"})})})}},79534:(e,t,l)=>{l.d(t,{l:()=>i,o:()=>r});var s=l(33445),a=l(22317),n=l(46512);let i=e=>{let{showcaseId:t}=e,{isAuthenticated:l}=(0,a.n)();return(0,n.Ay)(t?["showcaseId-reactions",t]:null,async e=>{let[t,a]=e;return(0,s.y)(a,l)})},r=e=>{let{collectionId:t}=e,{isAuthenticated:l}=(0,a.n)();return(0,n.Ay)(t?["collectionId-reactions",t]:null,async e=>{let[t,a]=e;return(0,s.y)(a,l,"collection")})}},83013:(e,t,l)=>{l.d(t,{A:()=>i});var s=l(95155),a=l(66599),n=l(18581);function i(e){let{className:t,onClick:l}=e;return(0,s.jsx)("div",{className:(0,a.cn)("bg-bg-modal-overlay flex h-8 w-10 items-center justify-center rounded-full px-3 py-2 group-hover:hidden",t),onClick:l,children:(0,s.jsx)(n.A,{className:"size-4"})})}l(12115)},84096:(e,t,l)=>{l.d(t,{A:()=>d});var s,a,n=l(95155),i=l(12115);function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e}).apply(this,arguments)}let o=function(e){return i.createElement("svg",r({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s||(s=i.createElement("path",{d:"M11.333 2a.667.667 0 0 1 .662.589l.005.078v1.446a2 2 0 1 1 0 3.773V8a4 4 0 0 1-3.333 3.945v1.388h2a.667.667 0 0 1 .078 1.329l-.078.005H5.333a.667.667 0 0 1-.078-1.329l.078-.005h2v-1.388a4.002 4.002 0 0 1-3.33-3.795L4 8v-.114a2 2 0 0 1-2.664-1.769L1.334 6l.003-.117a2 2 0 0 1 2.664-1.77L4 2.667A.667.667 0 0 1 4.667 2h6.666Zm-8 3.333a.667.667 0 1 0 0 1.334.667.667 0 0 0 0-1.334Zm9.334 0a.667.667 0 1 0 0 1.334.667.667 0 0 0 0-1.334Z",fill:"url(#paint0_linear_3595_42944)"})),a||(a=i.createElement("defs",null,i.createElement("linearGradient",{id:"paint0_linear_3595_42944",x1:2.737,y1:5.167,x2:14.55,y2:7.62,gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#F9E855"}),i.createElement("stop",{offset:1,stopColor:"#E99430"})))))},c={ultimateChristmasSavior:{ids:["0193d217-1acf-746f-add0-2acf584be84f","01939ab4-c3c3-7c0c-8121-755aecb35dfe","01939683-a2e4-7499-935c-cf9fb589199a","0193ccb2-3938-738c-8195-1050793c29f5"],label:"Ultimate Christmas Savior Award"},santasHelper:{ids:["0193c23e-c42d-7271-b45b-dfa473de727d","0193cc16-dac2-7372-a7d7-fb4e8ef7d254","019398b6-010a-7bd8-8c8f-ec63b8b0cce4","0193afe5-9d35-726d-ac79-3dbd5f4a028b"],label:"Santa's Helper Grand Prize"},magicOrbFinder:{ids:["0193aca9-7bbf-7e37-b531-99591ef873eb","01939d5b-9bb8-7c65-9da7-4128de47bf28","0193b0fe-73d3-7b4a-b388-3bf3cbc6214c","01938751-d415-70a6-bcee-5a014be28f72","0193a1de-16c8-7cd1-b8ab-9d166eea7dae","0193d03e-ff0f-7412-ac87-4123348f04f5","01939176-fd54-73cd-98a8-7a06ec9e903f","0193bf4c-dba6-7217-987f-3d4fcbebcb56","01938de1-74ff-731e-9910-f5136638993d","0193a4d5-adbc-7d1e-ae2b-dce84963be90"],label:"Magic Orb Finder Award"},fortuneGiveaway:{ids:["0193d24a-c7a0-7472-a8a9-4d079013c5de","0193b7a8-f0bb-7cbd-80eb-2e78e2d09fa5","0193d45a-aad1-7340-b89e-749e00f68f39"],label:"Fortune Giveaway Award"},creativeSpirit:{ids:["0193d195-7668-745e-8e17-2db6ddd73dd0","0193d390-8d64-7499-a793-30a5aa21d55b"],label:"Creative Spirit Award"}};function d(e){let{collectionId:t,showLabel:l=!0}=e,s=(e=>{for(let[t,l]of Object.entries(c))if(l.ids.includes(e))return l.label;return null})(t);return s?(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(o,{className:"size-4"}),l&&(0,n.jsx)("p",{className:"bg-gradient-credit bg-clip-text text-center text-xs font-medium text-transparent select-none",children:s})]}):null}},92956:(e,t,l)=>{l.d(t,{T:()=>f});var s=l(95155),a=l(95333),n=l(74765),i=l(52787),r=l(66599),o=l(99705),c=l(21841),d=l(18331),u=l(2499),m=l(46436),h=l(18955),x=l(20063);let f=e=>{let{modelPreviewUrl:t,className:l,isSketchfab:f,contentToTwitter:p,tracking:g}=e,b=(0,h.c3)(),v=(0,a.n)(),j=(0,x.usePathname)(),y="https://twitter.com/intent/post?text=".concat(encodeURIComponent(null!=p?p:"Turn text & images into stunning 3D models! Just generated a new 3D model with @MeshyAI  the best AI 3D model generator for creators. Check it out:\n".concat(t,"\n#MeshyAI #3D #3DAI #gamedev #3DModel #3DPrinting"))),w="https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(t)),N="https://www.linkedin.com/feed/?linkOrigin=Meshy&shareActive=true&shareUrl=".concat(encodeURIComponent(t)),C="https://api.whatsapp.com/send/?text=".concat(encodeURIComponent(t)),A="https://t.me/share/url?url=".concat(encodeURIComponent(t),"&text=MeshyAI"),k=e=>{let{method:t,url:l}=e;"3d_models"===g?v("share_3d_models",{method:t,position:j.includes("workspace")?"workspace":"community"}):"collections"===g?v("share_collections",{method:t}):"user_profile"===g?v("share_user_profile",{method:t}):"tags"===g?v("share_tags",{method:t}):"events"===g&&v("share_events",{method:t}),window.open(l,"_blank")};return(0,s.jsxs)("div",{className:(0,r.cn)("flex w-full flex-col justify-start gap-2 text-base leading-6 font-medium",l),children:[(0,s.jsx)("div",{className:"text-label-title text-base leading-6 font-medium",children:b("Workspace.Shared.Section.ShareTo")}),(0,s.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,s.jsx)(i.A,{title:"X",asChild:!0,children:(0,s.jsx)(n.default,{type:"icon-secondary",size:"md",onClick:()=>{k({method:"social_x",url:y})},className:"size-10",iconSuffix:(0,s.jsx)(o.A,{size:24,stroke:1.5})})}),(0,s.jsx)(i.A,{title:"Facebook",asChild:!0,children:(0,s.jsx)(n.default,{type:"icon-secondary",size:"md",onClick:()=>{k({method:"social_facebook",url:w})},className:"size-10",iconSuffix:(0,s.jsx)(c.A,{stroke:1.5})})}),(0,s.jsx)(i.A,{title:"LinkedIn",asChild:!0,children:(0,s.jsx)(n.default,{type:"icon-secondary",size:"md",onClick:()=>{k({method:"social_linkedin",url:N})},className:"size-10",iconSuffix:(0,s.jsx)(d.A,{stroke:1.5})})}),(0,s.jsx)(i.A,{title:"WhatsApp",asChild:!0,children:(0,s.jsx)(n.default,{type:"icon-secondary",size:"md",onClick:()=>{k({method:"social_whatsapp",url:C})},className:"size-10",iconSuffix:(0,s.jsx)(u.A,{stroke:1.5})})}),(0,s.jsx)(i.A,{title:"Telegram",asChild:!0,children:(0,s.jsx)(n.default,{type:"icon-secondary",size:"md",onClick:()=>{k({method:"social_telegram",url:A})},className:"size-10",iconSuffix:(0,s.jsx)(m.A,{stroke:1.5})})})]})]})}},93652:(e,t,l)=>{l.d(t,{z:()=>b});var s=l(95155),a=l(39392),n=l(45641),i=l(19954),r=l(74765),o=l(8952),c=l(208),d=l(55247),u=l(52619),m=l.n(u),h=l(90433),x=l(72839),f=l(56841),p=l(18955),g=l(12115);let b=e=>{let{userId:t,onTrack:l=x.A}=e,[u,b]=(0,g.useState)(null),{userInfo:v,mutateUserInfo:j}=(0,o.Py)(t,!1),y=(0,p.c3)(),w=(0,h.ge)(),{data:N}=(0,n.Z)(t);return(0,s.jsxs)("div",{className:"flex w-full flex-col items-center justify-start gap-2",children:[(0,s.jsx)(m(),{href:w("/@".concat(null==v?void 0:v.uid)),onClick:l,target:"_blank",children:(0,s.jsxs)("div",{className:"focus:ring-label-title focus:ring-offset-bg-sub relative rounded-full transition duration-100 ease-out hover:cursor-pointer focus:ring-2 focus:ring-offset-2 focus:outline-hidden",children:[(0,s.jsx)(i.A,{src:null==v?void 0:v.avatarUrl,size:"xl",alt:(null==v?void 0:v.nickname)||"",color:Object.values(i.o)[((null==v?void 0:v.nickname)||"").split("").reduce((e,t)=>e+t.charCodeAt(0),0)%Object.keys(i.o).length]}),(0,s.jsx)(d.w,{tier:null==v?void 0:v.tier,size:"lg"})]})}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,s.jsx)(m(),{href:w("/@".concat(null==v?void 0:v.uid)),onClick:l,children:(0,s.jsx)("div",{className:"text-label-base text-base font-semibold",children:null==v?void 0:v.nickname})}),(0,s.jsx)("div",{className:"flex max-w-[280px] flex-wrap gap-2",children:N.map((e,l)=>l<5&&(0,s.jsx)(a.R,{data:e,userId:t,className:"size-8"},e.id))}),(0,s.jsxs)("div",{className:"text-label-muted flex flex-row items-center justify-center gap-3 text-xs",children:[(null==v?void 0:v.totalFollowing)!==void 0&&(0,s.jsx)(r.default,{onClick:()=>{b("Following")},type:"tertiary",size:"sm",children:"".concat(null==v?void 0:v.totalFollowing," ").concat(y((0,f.A)(null==v?void 0:v.totalFollowing,1)?"Dashboard.Community.Profile.Following":"Dashboard.Community.Profile.Followings"))}),(0,s.jsx)("div",{className:"bg-bg-border h-4 w-px"}),(null==v?void 0:v.totalFollowers)!==void 0&&(0,s.jsx)(r.default,{onClick:()=>{b("Follower")},type:"tertiary",size:"sm",children:"".concat(null==v?void 0:v.totalFollowers," ").concat(y((0,f.A)(null==v?void 0:v.totalFollowers,1)?"Dashboard.Community.Profile.Follower":"Dashboard.Community.Profile.Followers"))})]})]}),(0,s.jsx)(c._,{userInfo:v,mutateUserInfo:j,selectedSection:u,setSelectedSection:b})]})}},95227:(e,t,l)=>{l.d(t,{_:()=>r});var s=l(95155),a=l(66599),n=l(61691),i=l(70957);let r=e=>{let{type:t,isViewer:l=!0,blur:r=!1,className:o}=e,c=(0,n.KE)(t);return l?(0,s.jsxs)("div",{className:(0,a.cn)("inline-flex h-8 items-center justify-center gap-2 rounded-lg bg-black/20 px-2",{"backdrop-blur-lg":r},o),children:[(0,s.jsx)("div",{className:"flex size-4 flex-none items-center justify-center",children:c.icon}),(0,s.jsx)("div",{className:"text-xs font-medium",children:c.tagText})]}):(0,s.jsx)(i.A,{text:c.tagText,icon:c.icon,shape:"rectangular",style:"fill",size:"sm",className:(0,a.cn)("",o)})}},96751:(e,t,l)=>{l.r(t),l.d(t,{Dialog:()=>i,DialogClose:()=>c,DialogContent:()=>u,DialogDescription:()=>x,DialogFooter:()=>m,DialogOverlay:()=>d,DialogPortal:()=>o,DialogTitle:()=>h,DialogTrigger:()=>r});var s=l(95155),a=l(66599),n=l(64364);function i(e){let{...t}=e;return(0,s.jsx)(n.bL,{"data-slot":"dialog",...t})}function r(e){let{className:t,...l}=e;return(0,s.jsx)(n.l9,{"data-slot":"dialog-trigger",className:(0,a.cn)("outline-hidden",t),...l})}function o(e){let{...t}=e;return(0,s.jsx)(n.ZL,{"data-slot":"dialog-portal",...t})}function c(e){let{className:t,...l}=e;return(0,s.jsx)(n.bm,{"data-slot":"dialog-close",className:(0,a.cn)("outline-hidden",t),...l})}function d(e){let{className:t,...l}=e;return(0,s.jsx)(n.hJ,{"data-slot":"dialog-overlay",className:(0,a.cn)("bg-bg-modal-overlay data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50",t),...l})}function u(e){let{className:t,children:l,overlayClassName:i,...r}=e;return(0,s.jsxs)(o,{"data-slot":"dialog-portal",children:[(0,s.jsx)(d,{className:i}),(0,s.jsx)(n.UC,{"data-slot":"dialog-content",className:(0,a.cn)("border-bg-border bg-bg-sub data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 max-h-[calc(100%-2rem)] w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] overflow-hidden rounded-3xl border-[0.5px] shadow-xl outline-hidden duration-200 sm:max-w-[560px]",t),...r,children:l})]})}function m(e){let{className:t,...l}=e;return(0,s.jsx)("div",{"data-slot":"dialog-footer",className:(0,a.cn)("flex flex-col-reverse gap-4 sm:flex-row sm:justify-end",t),...l})}function h(e){let{className:t,...l}=e;return(0,s.jsx)(n.hE,{"data-slot":"dialog-title",className:(0,a.cn)("text-label-title text-2xl/8 font-semibold",t),...l})}function x(e){let{className:t,...l}=e;return(0,s.jsx)(n.VY,{"data-slot":"dialog-description",className:(0,a.cn)("text-sm/5",t),...l})}l(12115)},98803:(e,t,l)=>{l.d(t,{C:()=>m});var s=l(95155),a=l(95333),n=l(74765),i=l(880),r=l(66599),o=l(52172),c=l(18955),d=l(20063),u=l(12115);let m=e=>{let{modelPreviewUrl:t,className:l,contentToCopy:m,tracking:h}=e,x=(0,c.c3)(),[f,p]=(0,u.useState)(!1),g=(0,a.n)(),b=(0,d.usePathname)();return(0,s.jsxs)("div",{className:(0,r.cn)("flex w-full flex-col justify-start gap-2 text-base leading-6 font-medium",l),children:[(0,s.jsx)("div",{className:"text-label-title text-base leading-6 font-medium",children:x("Workspace.Shared.Section.ByLink.Default")}),(0,s.jsxs)("div",{className:"flex flex-row gap-[10px]",children:[(0,s.jsx)("div",{className:"border-bg-border bg-bg-shade text-label-base flex-1 overflow-scroll rounded-xl border px-3 py-2 text-sm leading-5 font-normal whitespace-nowrap selection:bg-[#C5F955]/30",children:t}),(0,s.jsx)(n.default,{type:"primary",onClick:()=>{navigator.clipboard.writeText(m||t),"3d_models"===h?g("share_3d_models",{method:"link",position:b.includes("workspace")?"workspace":"community"}):"collections"===h?g("share_collections",{method:"link"}):"user_profile"===h?g("share_user_profile",{method:"link"}):"tags"===h?g("share_tags",{method:"link"}):"events"===h&&g("share_events",{method:"link"}),"collections"===h?i.toast.success(x("Landing.Collections.LinkCopied")):i.toast.success(x("Workspace.Shared.WorkspaceToolbar.SuccessMessage.LinkCopied")),p(!0),setTimeout(()=>{p(!1)},4e3)},disabled:f,icon:(0,s.jsx)(o.A,{stroke:1.5}),children:f?x("Workspace.Shared.Section.ByLink.Copied"):x("Workspace.Shared.Section.ByLink.CopyLink")})]})]})}},99338:(e,t,l)=>{l.d(t,{Dialogs:()=>c,DialogsProvider:()=>o,d:()=>i});var s=l(95155),a=l(48077),n=l(12115);let i=n.createContext(null),r=n.createContext([]);function o(e){let{unmountAfter:t=1e3,children:l}=e,[o,c]=n.useState([]),d=n.useId(),u=n.useRef(0),m=n.useRef(new WeakMap),h=(0,a.A)(function(e,t){let l,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{onClose:a=async()=>{}}=s,n=new Promise(e=>{l=e});if(!l)throw Error("resolve not set");let i="".concat(d,"-").concat(u.current);u.current+=1;let r={key:i,open:!0,promise:n,Component:e,payload:t,onClose:a,resolve:l};return m.current.set(n,r),c(e=>[...e,r]),n}),x=(0,a.A)(function(e){c(t=>t.map(t=>t.promise===e?{...t,open:!1}:t)),setTimeout(()=>{c(t=>t.filter(t=>t.promise!==e))},t)}),f=(0,a.A)(async function(e,t){let l=m.current.get(e);if(!l)throw Error("dialog not found");try{await l.onClose(t)}finally{l.resolve(t),x(e)}return e}),p=n.useMemo(()=>({open:h,close:f}),[h,f]);return(0,s.jsx)(i,{value:p,children:(0,s.jsx)(r,{value:o,children:l})})}function c(){let e=n.useContext(i),t=n.useContext(r);if(!e||!t)throw Error("Dialogs must be used within a DialogsProvider");let{close:l}=e;return(0,n.useMemo)(()=>t.map(e=>{let{key:t,open:a,Component:n,payload:i,promise:r}=e;return(0,s.jsx)(n,{payload:i,open:a,onClose:async e=>{await l(r,e)}},t)}),[t,l])}}}]);