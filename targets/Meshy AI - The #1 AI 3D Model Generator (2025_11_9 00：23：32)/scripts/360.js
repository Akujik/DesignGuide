try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="d71bef84-9c29-4b31-8bcf-0c2d21e71b24",e._sentryDebugIdIdentifier="sentry-dbid-d71bef84-9c29-4b31-8bcf-0c2d21e71b24")}()}catch(e){}!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[(new e.Error).stack]=function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];if(null!=a)for(var l in a)a.hasOwnProperty(l)&&(e[l]=a[l])}return e}({},e._sentryModuleMetadata[(new e.Error).stack],{"_sentryBundlerPluginAppKey:bWVzaHktd2ViYXBwLSMx":!0})}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5657],{530:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var l,s=a(12115);function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(this,arguments)}let n=function(e){return s.createElement("svg",r({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l||(l=s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.395 19h6.4v-8.754l-6.4-2.527v11.28ZM10.395 1v5.64l6.4 2.529V1h-6.4ZM3 1v11.28l6.4-2.527V1H3ZM3 18.997h6.4v-8.169L3 13.357v5.64Z",fill:"#4EAB50"})))}},1495:(e,t,a)=>{"use strict";a.d(t,{E1:()=>r,jE:()=>s.useQueryClient,n_:()=>s.useMutation});var l=a(10075),s=a(96018);class r extends l.E{getMutationState(e){return super.getMutationCache().findAll(e)}constructor(e){super(e)}}},2462:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var l=a(95155),s=a(5302),r=a(69095),n=a(58944),o=a(68642),i=a(12115),c=a(75889),d=a(52787);let p=e=>{let{min:t,max:a,step:p,defaultValue:m,value:u,onChange:h,onCommit:f,name:x,side:g="bottom",disabled:b=!1,className:w,portaledLabel:v,...y}=e,j=void 0!==u;if(j&&void 0!==m)throw Error("Slider should be either controlled or uncontrolled, not both.");let[k,N]=(0,i.useState)(null!=m?m:[0]),[A,C]=(0,i.useState)(!1),[T,S]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{j&&N(u)},[j,u]),(0,l.jsxs)(s.bL,{className:(0,r.A)((0,c.QP)("group relative z-10 flex h-7 w-full touch-none items-center rounded-lg select-none",w),{"pointer-events-none opacity-40":b}),value:k,min:t,max:a,step:p,name:x,disabled:b,onValueChange:e=>{j?h&&h(e):N(e)},onValueCommit:e=>{j?f&&f(e):N(e)},...y,children:[(0,l.jsx)(s.CC,{className:"bg-bg-shade absolute h-7 w-full overflow-hidden rounded-lg",children:(0,l.jsx)(s.Q6,{className:(0,c.QP)("bg-bg-border group-hover:bg-bg-border group-active:bg-accent-bg absolute h-full min-w-[16px] rounded-l-lg rounded-r transition duration-100 ease-out",A&&"bg-bg-border")})}),(0,l.jsxs)(s.zi,{onFocus:()=>C(!0),onBlur:()=>C(!1),onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),className:"bg-bg-border-strong group-hover:bg-label-muted group-active:bg-accent-base focus:bg-label-muted absolute flex h-7 w-4 translate-x-[-8px] translate-y-[-14px] cursor-ew-resize items-center justify-center gap-0.5 rounded-sm shadow-sm transition duration-100 ease-out focus:outline-hidden",children:[(0,l.jsx)("div",{className:"bg-bg-shade h-[14px] w-px rounded-full opacity-40"}),(0,l.jsx)("div",{className:"bg-bg-shade h-[14px] w-px rounded-full opacity-40"}),(0,l.jsx)("div",{className:"bg-bg-shade h-[14px] w-px rounded-full opacity-40"}),v&&(0,l.jsx)(d.A,{title:k,open:T,asChild:!0,side:g,sideOffset:4,align:"center",arrow:!1,children:(0,l.jsx)("div",{className:"absolute top-0 left-0 size-full"})}),!v&&(0,l.jsx)(n.N,{children:T&&(0,l.jsx)(o.P.div,{initial:{opacity:0,y:"bottom"===g?32:-32},animate:{opacity:1,y:"bottom"===g?36:-36},exit:{opacity:0,y:"bottom"===g?32:-32},transition:{duration:.2,ease:[.16,1,.3,1]},className:"data-[side=bottom]:animate-slide-up-and-fade data-[side=left]:animate-slide-right-and-fade data-[side=right]:animate-slide-left-and-fade data-[side=top]:animate-slide-down-and-fade border-bg-border absolute flex flex-col items-center justify-center rounded-lg border-[0.5px] bg-black px-3 py-2 shadow-sm will-change-[transform,opacity]",children:(0,l.jsx)("div",{className:"text-label-base text-xs font-normal break-normal whitespace-normal",children:k})})})]})]})}},6105:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var l,s,r,n,o=a(12115);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(this,arguments)}let c=function(e){return o.createElement("svg",i({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l||(l=o.createElement("path",{d:"M0 2.953c1.08-.65 2.156-1.305 3.24-1.948.002 4.975-.006 9.95.003 14.926-.49.305-.99.596-1.482.898-.587.35-1.17.709-1.759 1.056C-.002 12.908.002 7.93 0 2.953Z",fill:"#7DC6DD"})),s||(s=o.createElement("path",{d:"M3.24 1.005c4.719-.008 9.44-.001 14.16-.003.582-.035 1.13.462 1.132 1.05.01.771 0 1.544.004 2.317-.001 3.853.002 7.705-.002 11.559-5.096.005-10.194-.002-15.29.003-.01-4.975-.002-9.95-.005-14.926Z",fill:"#37A5CC"})),r||(r=o.createElement("path",{d:"M6.607 4.339c.871.002 1.743 0 2.615 0 .556 2.199 1.097 4.4 1.66 6.597.584-2.197 1.165-4.396 1.74-6.596.846.003 1.692-.008 2.537.005-.009 2.759 0 5.517-.004 8.275h-1.974c-.002-1.75.004-3.5-.002-5.25-.472 1.749-.92 3.503-1.387 5.252-.648-.004-1.297 0-1.945-.002-.49-1.826-.949-3.662-1.452-5.484v5.484h-1.79c.001-2.76-.002-5.52.002-8.281Z",fill:"#fff"})),n||(n=o.createElement("path",{d:"M18.536 4.369H20c-.003 4.966.006 9.933-.004 14.899H2.878c-.203-.029-.414-.06-.592-.17a1.067 1.067 0 0 1-.524-.912c-.003-.452.002-.905-.001-1.357.492-.302.991-.593 1.482-.898 5.097-.005 10.195.002 15.291-.003.004-3.854.001-7.706.002-11.56Z",fill:"#36697F"})))}},6233:(e,t,a)=>{"use strict";a.d(t,{P:()=>s,e:()=>r});var l=a(12115);let s=(e,t)=>{if(!e)return;let a=document.createElement("a");a.href=e,a.download=t||"",document.body.appendChild(a),a.click(),a.remove()},r=()=>{let[e,t]=(0,l.useState)(!1),[a,r]=(0,l.useState)(null);return{download:async(e,a)=>{t(!0);try{if(!e)throw Error("URL is required");let t=await fetch(e),l=await t.blob(),r=URL.createObjectURL(l);s(r,a),URL.revokeObjectURL(r)}catch(e){r(e)}finally{t(!1)}},isDownloading:e,error:a}}},8070:(e,t,a)=>{"use strict";a.d(t,{$l:()=>i,TA:()=>n,Uc:()=>o,dp:()=>r}),a(95155),a(530),a(18049),a(74970),a(14039),a(6105),a(27930),a(99264),a(74765);var l=a(880);a(52787),a(8952),a(50710),a(52619),a(12115);let s={blender:5324,bambu:5324,godot:5325,unity:5326,unreal:5327,maya:5328,"3DS Max":5329},r={blender:"glb",godot:"glb",unity:"fbx",unreal:"fbx",maya:"fbx","3DS Max":"fbx"},n=async e=>{let{dcc:t}=e,a=s[t];try{let e=await fetch("http://localhost:".concat(a,"/status"),{signal:AbortSignal.timeout(5e3),method:"GET",headers:{Accept:"application/json"}});if(!e.ok)throw Error("Server resp onded with status: ".concat(e.status));return!0}catch(t){l.toast.error(e.t("Workspace.Shared.DownloadDialog.SendToDCCFailed",{dcc:e.dcc}))}return!1},o=async e=>{let{modelUrl:t,dcc:a,fileFormat:r,frameRate:n,fileName:o}=e,i=s[a];try{let a=await fetch("http://localhost:".concat(i,"/import"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({url:t,format:r,name:null!=o?o:"",frameRate:null!=n?n:30})});if(!a.ok)throw Error("Import failed with status: ".concat(a.status));let s=await a.json();if("ok"===s.status)return l.toast.success(e.t("Workspace.Shared.DownloadDialog.SendToDCCSuccess",{dcc:e.dcc})),!0;throw Error(s.message||"Failed to send to Blender")}catch(t){return console.error("Error:",t),l.toast.error(e.t("Workspace.Shared.DownloadDialog.SendToDCCFailed",{dcc:e.dcc})),!1}},i=async e=>{let{modelUrl:t}=e,a="";try{a=decodeURIComponent(t||"").split("uploads/")[1].split(".3mf")[0]}catch(e){a="meshy_model"}a="".concat(a,".3mf");let l="".concat(t,"&name=").concat(a),s=/Macintosh|MacIntel|MacPPC|Mac68K|Mac OS X/i.test(navigator.userAgent),r=encodeURIComponent(l);window.location.href=s?"bambustudioopen://".concat(r):"bambustudio://open?file=".concat(r)}},10746:(e,t,a)=>{"use strict";a.d(t,{d:()=>c});var l=a(95155),s=a(60311),r=a(74765),n=a(52787),o=a(88549),i=a(18955);let c=e=>{let{isAnimation:t,taskId:a,activePreviewName:c,type:d="icon-tertiary",size:p="xs"}=e,m=(0,i.c3)(),{popoverComponent:u,openPopover:h,closePopover:f,open:x}=(0,o.c)({taskId:a,isAnimation:t,position:"community_showcase_card",activePreviewName:c,popoverProps:{modal:!1,trigger:(0,l.jsx)(n.A,{title:m("Workspace.Tool.Plugin.Tooltip.Title"),asChild:!0,children:(0,l.jsx)("div",{className:"relative inline-flex",children:(0,l.jsx)(r.default,{size:p,type:d,icon:(0,l.jsx)(s.A,{width:16,height:16,stroke:"1.5"})})})}),side:"top",align:"start",sideOffset:12,alignOffset:-72,className:"bg-bg-sub relative border-none"}});return u}},12189:(e,t,a)=>{"use strict";a.d(t,{T:()=>j});var l,s,r,n,o,i,c=a(95155),d=a(12115);function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(this,arguments)}let m=function(e){return d.createElement("svg",p({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l||(l=d.createElement("rect",{x:2.5,y:.5,width:15,height:19,rx:7.5,fill:"#303030",stroke:"#4F4F4F"})),s||(s=d.createElement("path",{d:"M5 6.84A3.84 3.84 0 0 1 8.84 3a.16.16 0 0 1 .16.16V6.4c0 .56 0 .84-.109 1.054a1 1 0 0 1-.437.437C8.24 8 7.96 8 7.4 8H5.2a.2.2 0 0 1-.2-.2v-.96Z",fill:"currentColor"})))};function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(this,arguments)}let h=function(e){return d.createElement("svg",u({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=d.createElement("rect",{x:2.5,y:.5,width:15,height:19,rx:7.5,fill:"#303030",stroke:"#4F4F4F"})),n||(n=d.createElement("rect",{x:9,y:4,width:2,height:5,rx:1,fill:"currentColor"})))};function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(this,arguments)}let x=function(e){return d.createElement("svg",f({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o||(o=d.createElement("path",{d:"M17.5 8a7.5 7.5 0 0 0-15 0v4a7.5 7.5 0 0 0 15 0V8Z",fill:"#303030",stroke:"#4F4F4F"})),i||(i=d.createElement("path",{d:"M15 6.84A3.84 3.84 0 0 0 11.16 3a.16.16 0 0 0-.16.16V6.4c0 .56 0 .84.109 1.054a1 1 0 0 0 .437.437C11.76 8 12.04 8 12.6 8h2.2a.2.2 0 0 0 .2-.2v-.96Z",fill:"currentColor"})))};var g=a(14669),b=a(69095),w=a(18955),v=a(64079),y=a.n(v);function j(e){let{initialDelay:t,interactionType:a="model-viewer"}=e,l=(0,w.c3)(),s={"model-viewer":[{icon:m,text:l("Tool.Interaction.Mouse.Gesture.Rotate")},{icon:h,text:l("Tool.Interaction.Mouse.Gesture.Zoom")},{icon:x,text:l("Tool.Interaction.Mouse.Gesture.Pan")}],"image-crop":[{icon:m,text:l("Tool.Interaction.Mouse.Gesture.Pan")},{icon:h,text:l("Tool.Interaction.Mouse.Gesture.Zoom")}],"image-crop-3d":[{icon:m,text:l("Tool.Interaction.Mouse.Gesture.Rotate")},{icon:h,text:l("Tool.Interaction.Mouse.Gesture.Zoom")}]},[r,n]=(0,d.useState)("initial");return(0,d.useEffect)(()=>{n("open"),setTimeout(()=>{n("close")},5e3)},[]),(0,c.jsx)("div",{className:(0,b.A)(y().AnimateRoot,{[y().InitialAnimateWithDelay||""]:t}),"data-animate-status":r,onMouseEnter:()=>{"open"===r&&n("close")},style:{transitionDelay:t},children:(0,c.jsxs)("div",{className:(0,b.A)("flex items-center justify-center p-1.5","border-bg-border bg-bg-base-hover rounded-[10px] border-[0.5px] shadow-md",y().wrapper),children:[(0,c.jsx)(g.A,{className:"text-accent-base size-4"}),(0,c.jsx)("div",{className:y().hint,children:(0,c.jsxs)("div",{className:"flex items-center select-none",children:[(0,c.jsx)("div",{className:"px-4",children:(0,c.jsx)("div",{className:"bg-bg-border h-4 w-1 rounded-[2px]"})}),(0,c.jsx)("div",{className:"flex items-center gap-x-6",children:s[a].map(e=>{let{icon:t,text:a}=e;return(0,c.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,c.jsx)(t,{className:"text-accent-base"}),(0,c.jsx)("span",{className:"text-label-base text-xs font-medium whitespace-nowrap",children:a})]},a)})})]})})]})})}},14039:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var l,s,r,n,o=a(12115);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(this,arguments)}let c=function(e){return o.createElement("svg",i({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l||(l=o.createElement("path",{d:"M0 2.953c1.08-.65 2.156-1.305 3.24-1.948.002 4.975-.006 9.95.003 14.926-.49.305-.99.596-1.482.898-.587.35-1.17.709-1.759 1.056C-.002 12.908.002 7.93 0 2.953Z",fill:"#7DC6DD"})),s||(s=o.createElement("path",{d:"M3.24 1.005c4.719-.008 9.44-.001 14.16-.003.582-.035 1.13.462 1.132 1.05.01.771 0 1.544.004 2.317-.001 3.853.002 7.705-.002 11.559-5.096.005-10.194-.002-15.29.003-.01-4.975-.002-9.95-.005-14.926Z",fill:"#37A5CC"})),r||(r=o.createElement("path",{d:"M18.536 4.369H20c-.003 4.966.006 9.933-.004 14.899H2.878c-.203-.029-.414-.06-.592-.17a1.067 1.067 0 0 1-.524-.912c-.003-.452.002-.905-.001-1.357.492-.302.991-.593 1.482-.898 5.097-.005 10.195.002 15.291-.003.004-3.854.001-7.706.002-11.56Z",fill:"#36697F"})),n||(n=o.createElement("path",{d:"m11.692 4.024.032.003c.24.024.48.074.71.147l.102.029c.068.019.131.044.196.073l.047.02c.26.11.495.256.706.442l.018.014a1.709 1.709 0 0 1 .589 1.33v.349c-.001.225-.034.432-.15.627l-.012.02a1.665 1.665 0 0 1-.18.243l-.026.03c-.276.31-.677.512-1.077.61l.032.008c.36.09.703.205 1.008.423l.018.012c.342.247.6.59.682 1.006l.006.03c.018.1.019.198.019.299v.055a22.373 22.373 0 0 1 0 .233c.003.558.003.558-.088.811a1.333 1.333 0 0 1-.127.304l-.012.022a1.7 1.7 0 0 1-.18.273l-.024.03a2.304 2.304 0 0 1-.401.395c-.247.192-.533.339-.827.446l-.02.008a3.928 3.928 0 0 1-.68.18 3.793 3.793 0 0 1-.799.057h-.093c-.228 0-.452-.008-.676-.048a2.91 2.91 0 0 1-.527-.102l-.03-.008a1.375 1.375 0 0 1-.163-.056.999.999 0 0 0-.065-.023 2.544 2.544 0 0 1-.734-.386l-.028-.02c-.54-.414-.84-1.032-.933-1.693C8 10.178 8 10.178 8 10.146h1.931c.025.09.05.18.074.273.047.109.09.207.17.294l.022.026c.224.258.54.336.87.363.067.003.134.002.2 0l.042-.001c.286-.012.57-.112.776-.314l.022-.022a.905.905 0 0 0 .213-.423l.006-.02c.03-.128.026-.263.027-.394V9.85c.002-.275-.06-.529-.258-.733-.21-.184-.47-.278-.742-.325l-.023-.005a2.384 2.384 0 0 0-.467-.032 38.097 38.097 0 0 0-.491-.003h-.077c-.055-.001-.055-.001-.067-.013a.926.926 0 0 1-.001-.053V7.89l.001-.505h.03a51.185 51.185 0 0 0 .428-.002c.231 0 .451-.008.677-.061l.035-.008a.93.93 0 0 0 .194-.068l.026-.012a.724.724 0 0 0 .412-.495c.031-.11.028-.223.027-.338v-.206a.777.777 0 0 0-.036-.217l-.006-.022a.677.677 0 0 0-.354-.409 1.214 1.214 0 0 0-.557-.109h-.023c-.26 0-.518.057-.715.235l-.03.026a.993.993 0 0 0-.295.634c-.004.033-.004.033-.014.044H9.79a100.7 100.7 0 0 1-.625 0 583.367 583.367 0 0 0-1.07 0l-.001-.071v-.04c0-.037.006-.07.016-.106.007-.031.01-.063.015-.094.014-.1.036-.196.077-.287.011-.027.02-.054.029-.082.021-.064.047-.124.077-.184l.015-.032c.045-.09.096-.176.153-.26l.014-.019c.06-.088.125-.166.199-.243l.039-.045c.06-.068.124-.126.195-.183l.059-.047c.235-.197.521-.35.813-.446.039-.013.039-.013.073-.029.172-.074.365-.114.55-.142l.034-.006a4.854 4.854 0 0 1 1.24-.036Z",fill:"#FEFEFE"})))}},17504:(e,t,a)=>{"use strict";a.d(t,{N:()=>d,V:()=>p});var l=a(48077),s=a(71851),r=a(18955),n=a(7261),o=a(880),i=a(38143),c=a(99290);let d=(e,t)=>!((0,s.A)(t)?t(e):t),p=()=>{let e=(0,r.c3)(),t=(0,i.j)(e=>e.getCreditDialogRef),{alert:a}=(0,n.b9)();return(0,l.A)((l,s)=>{(0,c.HY)(l)?((e,t)=>{var a;(0,c.$E)(e,t),null!=t&&t.suppressLoginDialog||null==(a=i.j.getState().loginDialogRef.current)||a.open()})(l,s):(0,c.d7)(l)?((l,s)=>{var r,n;let i=(0,c.HW)({t:e,code:c.I.UNKNOWN,customCodeMessageMap:null==s?void 0:s.apiCodeMessageMap}),p=(0,c.Cz)(l.code)&&null!=(r=(0,c.HW)({t:e,code:l.code,customCodeMessageMap:null==s?void 0:s.apiCodeMessageMap}))?r:i;(0,c.V$)(l,{message:p.message,options:s}),l.code===c.I.INSUFFICIENT_CREDITS?null==(n=t.current)||n.open({position:"insufficient_credits",showReason:!0}):l.code===c.I.FORBIDDEN_FOR_INTELLECTUAL_PROPERTY?a(e("Workspace.Shared.Sidebar.ErrorMessage.ForbiddenForIntellectualProperty",{reason:(null==l?void 0:l.message)||"Unknown reason"}),{title:e("Workspace.Shared.Sidebar.ErrorMessage.ForbiddenForIntellectualPropertyTitle")}):p.message&&d(l,null==s?void 0:s.suppressErrorToast)&&o.toast[p.type](p.message)})(l,s):(0,c.ty)(l)?((t,a)=>{(0,c.Lx)(t),d(t,a)&&o.toast.error(e("Common.RequestTimeout"))})(l,null==s?void 0:s.suppressErrorToast):((t,a)=>{console.error(t),d(t,a)&&o.toast.error(e("App.ClientError.Title"))})(l,null==s?void 0:s.suppressErrorToast)})}},17748:(e,t,a)=>{"use strict";a.d(t,{L:()=>o,o:()=>i});var l=a(85072),s=a(99290),r=a(18955),n=a(16680);let o=e=>{let t=(0,r.c3)();return(0,l.t)(t=>({method:"get",url:"".concat("https://api.meshy.ai/web").concat(n.MF.TasksV2,"/").concat(e,"/asset-url"),params:t,needsToken:!0}),{customErrorMessages:{[s.I.LIMIT_EXCEEDED]:t("Workspace.Shared.DownloadDialog.LimitExceeded"),[s.I.UNKNOWN]:t("Workspace.Shared.DownloadDialog.DownloadFailed")}})},i=e=>{let t=(0,r.c3)();return(0,l.t)({method:"post",url:"".concat("https://api.meshy.ai/web").concat(n.MF.TasksV2,"/batch-assets-url"),needsToken:!0},{customErrorMessages:{[s.I.LIMIT_EXCEEDED]:t("Workspace.Shared.DownloadDialog.LimitExceeded"),[s.I.UNKNOWN]:t("Workspace.Shared.DownloadDialog.DownloadFailed")}})}},18049:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var l,s,r,n=a(12115);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(this,arguments)}let i=function(e){return n.createElement("svg",o({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l||(l=n.createElement("path",{d:"M7.547 11.004c.07-1.291.69-2.433 1.63-3.24a5.36 5.36 0 0 1 3.507-1.278c1.348 0 2.582.485 3.5 1.279.94.806 1.557 1.948 1.63 3.24.072 1.325-.452 2.563-1.368 3.478-.939.93-2.267 1.518-3.762 1.518-1.496 0-2.83-.584-3.763-1.518-.918-.915-1.441-2.146-1.368-3.472l-.006-.007Z",fill:"#fff"})),s||(s=n.createElement("path",{d:"M10.357 10.846c.036-.664.354-1.25.837-1.665a2.754 2.754 0 0 1 1.803-.657 2.75 2.75 0 0 1 1.799.657c.482.415.8 1.001.837 1.665a2.345 2.345 0 0 1-.703 1.788 2.735 2.735 0 0 1-1.933.78 2.72 2.72 0 0 1-1.934-.78 2.325 2.325 0 0 1-.703-1.784l-.003-.004Z",fill:"#265787"})),r||(r=n.createElement("path",{d:"M6.22 12.251c.005.26.087.766.209 1.16a6.137 6.137 0 0 0 1.295 2.286 6.732 6.732 0 0 0 2.268 1.661 7.211 7.211 0 0 0 2.978.633 7.155 7.155 0 0 0 2.978-.643 6.752 6.752 0 0 0 2.268-1.669 6.153 6.153 0 0 0 1.296-2.293 5.9 5.9 0 0 0 .203-2.55 5.963 5.963 0 0 0-.827-2.305 6.31 6.31 0 0 0-1.51-1.693h.002l-6.1-4.778-.017-.012c-.4-.314-1.075-.313-1.513.001-.444.318-.496.843-.1 1.174l-.001.001 2.547 2.111-7.755.009h-.01c-.641 0-1.258.428-1.379.973-.125.551.31 1.011.979 1.011l-.001.003 3.929-.008-7.031 5.48-.027.02C.24 13.339.026 14.2.443 14.741c.424.551 1.323.555 1.992.003l3.825-3.196s-.055.432-.05.688l.01.015Zm9.858 1.444c-.79.818-1.896 1.285-3.088 1.285-1.196.002-2.303-.456-3.092-1.275a3.782 3.782 0 0 1-.844-1.345 3.559 3.559 0 0 1-.194-1.503c.042-.503.189-.984.424-1.416.23-.425.548-.811.938-1.138a4.327 4.327 0 0 1 2.764-.983 4.313 4.313 0 0 1 2.767.976c.39.325.707.71.938 1.135.235.432.382.91.424 1.415a3.57 3.57 0 0 1-.195 1.504 3.757 3.757 0 0 1-.844 1.348l.002-.003Z",fill:"#EA7600"})))}},19181:(e,t,a)=>{"use strict";a.d(t,{TS:()=>N,qO:()=>A,rh:()=>j,uA:()=>k});var l=a(95155),s=a(7106),r=a(73768),n=a(41871),o=a(12209),i=a(36834),c=a(60252),d=a(92214),p=a(65335),m=a(45361),u=a(44995),h=a(99729),f=a(83157),x=a(23796),g=a(98278),b=a(94748),w=a(70626),v=a(69095),y=a(18955);let j=[{key:"Showcase.Tag.Animals",value:"Animals",sketchfabValue:"animals-pets",icon:s.A},{key:"Showcase.Tag.Architecture",value:"Architecture",sketchfabValue:"architecture",icon:r.A},{key:"Showcase.Tag.ArtAbstract",value:"ArtAbstract",sketchfabValue:"art-abstract",icon:n.A},{key:"Showcase.Tag.Characters",value:"Characters",sketchfabValue:"characters-creatures",icon:o.A},{key:"Showcase.Tag.CultureHistory",value:"CultureHistory",sketchfabValue:"cultural-heritage-history",icon:i.A},{key:"Showcase.Tag.Electronics",value:"Electronics",sketchfabValue:"electronics-gadgets",icon:c.A},{key:"Showcase.Tag.FashionStyle",value:"FashionStyle",sketchfabValue:"fashion-style",icon:d.A},{key:"Showcase.Tag.FoodDrink",value:"FoodDrink",sketchfabValue:"food-drink",icon:p.A},{key:"Showcase.Tag.FurnitureHome",value:"FurnitureHome",sketchfabValue:"furniture-home",icon:m.A},{key:"Showcase.Tag.Music",value:"Music",sketchfabValue:"music",icon:u.A},{key:"Showcase.Tag.NaturePlants",value:"NaturePlants",sketchfabValue:"nature-plants",icon:h.A},{key:"Showcase.Tag.PlacesTravel",value:"PlacesTravel",sketchfabValue:"places-travel",icon:f.A},{key:"Showcase.Tag.ScienceTechnology",value:"ScienceTechnology",sketchfabValue:"science-technology",icon:x.A},{key:"Showcase.Tag.SportsFitness",value:"SportsFitness",sketchfabValue:"sports-fitness",icon:g.A},{key:"Showcase.Tag.Vehicles",value:"Vehicles",sketchfabValue:"cars-vehicles",icon:b.A},{key:"Showcase.Tag.WeaponsMilitary",value:"WeaponsMilitary",sketchfabValue:"weapons-military",icon:w.A}],k=[{key:"Showcase.Tag.All",value:"All",sketchfabValue:"all",icon:null},...j],N=e=>e.map(e=>{let t=j.find(t=>t.value===e);return null==t?void 0:t.sketchfabValue}),A=e=>{let{value:t,active:a,disabled:s}=e,r=(0,y.c3)(),n=k.find(e=>e.value===t);if(!n)return null;let o=n.icon,i=r(n.key);return(0,l.jsxs)("div",{className:(0,v.A)("inline-flex h-7 cursor-pointer items-center justify-center gap-1 rounded-[10px] px-2 text-xs font-medium",{"border-bg-border bg-bg-base-hover text-label-base hover:bg-bg-shade":!a&&!s,"border-accent-base bg-accent-base text-accent-label":a&&!s,"cursor-not-allowed opacity-50":s}),children:[o&&(0,l.jsx)(o,{stroke:1.5,className:(0,v.A)("flex size-4 items-center justify-center",{"opacity-50":s})}),(0,l.jsx)("div",{className:"select-none",children:i})]})}},20578:(e,t,a)=>{"use strict";a.d(t,{i:()=>i});var l=a(95155),s=a(74765),r=a(880),n=a(26195),o=a(18955);let i=e=>{let{text:t,...a}=e,i=(0,o.c3)();return t?(0,l.jsx)(s.default,{onClick:()=>{navigator.clipboard.writeText(t),r.toast.success(i("Toast.Message.Success.CopyToClipboard"))},type:"icon-tertiary",icon:(0,l.jsx)(n.A,{stroke:1.5}),size:"xs",...a}):null}},27930:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var l,s,r,n,o=a(12115);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(this,arguments)}let c=function(e){return o.createElement("svg",i({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l||(l=o.createElement("path",{d:"M18.841 14V4.667L10.758 0v3.583l3.167 1.834c.124.083.124.25 0 .291l-3.75 2.167c-.126.083-.25.042-.334 0l-3.75-2.167c-.125-.041-.125-.25 0-.291l3.167-1.834V0L1.133 4.667V14l3.083-1.792V8.542c0-.125.167-.209.25-.167l3.75 2.167c.125.083.167.166.167.291v4.334c0 .125-.167.208-.25.166L4.966 13.5l-3.083 1.792L9.966 20l8.083-4.667-3.083-1.791-3.166 1.833c-.126.083-.25 0-.25-.167v-4.333a.35.35 0 0 1 .166-.292l3.75-2.166c.125-.084.25 0 .25.166v3.667L18.841 14Z",fill:"#4C4C4C"})),s||(s=o.createElement("path",{d:"m9.966 20 8.083-4.667-3.083-1.791-3.166 1.833c-.126.083-.25 0-.25-.167v-4.333a.35.35 0 0 1 .166-.292l3.75-2.166c.125-.084.25 0 .25.166v3.667l3.083 1.792V4.667L9.966 9.792V20Z",fill:"#000"})),r||(r=o.createElement("path",{d:"M10.758 0v3.583l3.167 1.834c.124.083.124.25 0 .291l-3.75 2.167c-.126.083-.25.042-.334 0l-3.75-2.167c-.125-.041-.125-.25 0-.291l3.167-1.834V0L1.133 4.667l8.833 5.125L18.8 4.667 10.758 0Z",fill:"gray"})),n||(n=o.createElement("path",{d:"m8.174 15.375-3.166-1.833-3.084 1.791L10.008 20V9.792L1.133 4.667V14l3.083-1.792V8.542c0-.125.167-.209.25-.167l3.75 2.167c.125.083.167.166.167.291v4.334c.041.166-.084.291-.209.208Z",fill:"#4C4C4C"})))}},28367:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var l,s=a(12115);function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(this,arguments)}let n=function(e){return s.createElement("svg",r({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l||(l=s.createElement("path",{d:"M4.933 6.272h1.06V2.938c0-.366.3-.666.667-.666h2.667c.366 0 .666.3.666.666v3.334h1.06c.594 0 .894.72.474 1.14l-3.06 3.06a.665.665 0 0 1-.94 0l-3.06-3.06c-.42-.42-.127-1.14.466-1.14Zm-1.6 6.395c0 .366.3.666.667.666h8c.367 0 .667-.3.667-.666 0-.367-.3-.667-.667-.667H4c-.367 0-.667.3-.667.667Z",fill:"#000"})))}},28649:(e,t,a)=>{"use strict";a.d(t,{no:()=>f,wX:()=>x});var l=a(95155),s=a(28367),r=a(57315),n=a(95333),o=a(74765),i=a(52787),c=a(89537),d=a(42114),p=a(68411),m=a(48077),u=a(18955),h=a(12115);let f=e=>(0,l.jsx)(o.default,{icon:(0,l.jsx)(s.A,{width:16,height:16,stroke:"1.5"}),...e}),x=e=>{let{isV2:t,triggerProps:a,taskMode:s,...o}=e,x=(0,u.c3)(),{popoverComponent:g}=(e=>{let{isSelfModel:t=!0,...a}=e,l=(0,n.n)(),s=(0,m.A)(()=>{l("download_model_intent",{isShowcase:!0,position:"community_download_panel"}),r.j.reportAll()}),{data:o}=(0,c.ZE)(t&&a.taskId||null),{availableCount:i,totalCount:u,limitStatus:f,limited:x,tooltip:g,mutate:b}=(0,p.t)(o,t),w=(0,d.H)({isLimited:x,limitStatus:f,premiumPosition:t?void 0:"community_download_panel",downloadPosition:"community_download_panel",availableCount:i,downloadTooltip:g,...a,onDownloadCallback:async e=>{var l,s;null==(l=a.onDownloadCallback)||l.call(a,e),t&&"limitCount"===f&&(null!=(s=await b())?s:0)>=u&&w.closePopover()}});return(0,h.useEffect)(()=>{w.open&&s()},[w.open,s]),w})({taskMode:s,...o,popoverProps:{trigger:(0,l.jsx)(i.A,{title:x("Dashboard.Shared.Download"),children:(0,l.jsx)(f,{size:"sm",type:"icon-primary",...a})}),side:"top",align:"end",sideOffset:12,...o.popoverProps}});return t?(0,l.jsx)(l.Fragment,{children:g}):null}},36501:(e,t,a)=>{"use strict";a.d(t,{D:()=>c});var l=a(95155),s=a(75786),r=a(74765),n=a(52787),o=a(49645),i=a(18955);let c=e=>{let{canPrint3DModel:t,taskId:a,type:c="icon-tertiary",size:d="xs",isSelfTask:p}=e,m=(0,i.c3)(),{popoverComponent:u}=(0,o.U)({taskId:a,canPrint3DModel:t,isSelfTask:p,position:"community_showcase_card",premiumPosition:"community_download_panel",popoverProps:{modal:!1,trigger:(0,l.jsx)(n.A,{title:m("Dashboard.Discover.CommunityShowcase.ShowcaseCard.Print"),asChild:!0,children:(0,l.jsx)(r.default,{size:d,type:c,icon:(0,l.jsx)(s.default,{width:16,height:16,stroke:"1.5"})})}),side:"top",align:"start",sideOffset:12,alignOffset:-48,className:"bg-bg-sub relative border-none"}});return(0,l.jsx)(l.Fragment,{children:u})}},39201:(e,t,a)=>{"use strict";a.d(t,{N:()=>h,f:()=>f});var l=a(95155),s=a(28367),r=a(57315),n=a(95333),o=a(74765),i=a(284),c=a(70957),d=a(84636),p=a(89537),m=a(42114),u=a(68411);let h=e=>{let{count:t,showPro:a}=e,{isPremiumTooltipRedesign:s}=(0,i.f)();return a?s?(0,l.jsx)(d.E,{hasBackground:!0}):(0,l.jsx)(c.A,{text:"PRO",shape:"jelly-bean",style:"premium",size:"xs"}):t>0&&(0,l.jsx)(c.A,{shape:"jelly-bean",style:"overlay",size:"xs",text:"x".concat(t)})},f=()=>{var e;let{data:t}=(0,p.YQ)(),a=(0,n.n)(),{totalCount:i,availableCount:c,limitStatus:d,mutate:h,limited:f,tooltip:x}=(0,u.t)(t),{popoverComponent:g,openPopover:b,closePopover:w}=(0,m.H)({taskId:(null==t?void 0:t.id)||"",taskMode:(null==t?void 0:t.mode)||"draft",isLimited:f,isExample:null==t||null==(e=t.result)?void 0:e.isExample,downloadTooltip:x,limitStatus:d,availableCount:c,popoverProps:{trigger:(0,l.jsx)("div",{className:"pointer-events-none"}),align:"center",side:"top",sideOffset:16},onDownloadCallback:async()=>{if("limitCount"===d){var e;(null!=(e=await h())?e:0)>=i&&w()}}});return(0,l.jsxs)("div",{className:"relative inline-flex",children:[g,(0,l.jsx)(o.default,{size:"sm",type:"primary",onClick:()=>{var e;(null==t||null==(e=t.result)?void 0:e.isExample)||a("download_model_intent",{isShowcase:!1,position:"workspace_download_panel"}),r.j.reportAll(),b()},className:"border-0",children:(0,l.jsx)(s.A,{width:16,height:16,stroke:"1.5"})})]})}},42114:(e,t,a)=>{"use strict";a.d(t,{T:()=>q,H:()=>Q});var l=a(95155),s=a(95333),r=a(15260),n=a(74765),o=a(284),i=a(93800),c=a(82525),d=a(880),p=a(52787),m=a(47474),u=a(98999),h=a(6233),f=a(66292),x=a(67781),g=a(54496),b=a(78540),w=a(18955),v=a(12115);let y=e=>{let{allAnimation:t,onAllAnimationChange:a,includeAnimation:s,onIncludeAnimationChange:r,includeRiggedCharacter:n,onIncludeRiggedCharacterChange:o,withoutSkin:i,onWithoutSkinChange:c,framesPerSecond:d,onFramesPerSecondChange:m,meshFormat:u,canDownloadAllAnimation:h,disabled:v,singleFile:y,onSingleFileChange:j,showLimitAlert:k}=e,N=(0,w.c3)();return h?(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[("fbx"===u||"glb"===u)&&(0,l.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,l.jsxs)("div",{className:"text-label-base flex items-center gap-1 text-xs font-normal select-none",children:[(0,l.jsx)("span",{children:N("Workspace.Shared.WorkspaceToolbar.DownloadSettings.Mesh.RiggedCharacter.Title")}),(0,l.jsx)(p.A,{title:(0,l.jsx)("div",{className:"whitespace-pre-wrap",children:N.rich("Workspace.Shared.WorkspaceToolbar.DownloadSettings.Mesh.RiggedCharacter.Tooltip",{highlight:e=>(0,l.jsx)("span",{className:"text-accent-base",children:e})})}),children:(0,l.jsx)(g.A,{className:"text-label-faint hover:text-label-muted size-3 transition duration-100 ease-out"})})]}),(0,l.jsx)(x.A,{checked:n,onChange:o,size:"sm",disabled:v})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,l.jsxs)("div",{className:"text-label-base flex items-center gap-1 text-xs font-normal select-none",children:[(0,l.jsx)("span",{children:N("Workspace.Shared.WorkspaceToolbar.DownloadSettings.Mesh.Animation")}),(0,l.jsx)(p.A,{title:(0,l.jsx)("div",{className:"whitespace-pre-wrap",children:"glb"===u?N.rich("Workspace.Shared.WorkspaceToolbar.DownloadSettings.Mesh.Animations.GLBTooltip",{highlight:e=>(0,l.jsx)("span",{className:"text-accent-base",children:e})}):N.rich("Workspace.Shared.WorkspaceToolbar.DownloadSettings.Mesh.Animations.Tooltip",{highlight:e=>(0,l.jsx)("span",{className:"text-accent-base",children:e})})}),children:(0,l.jsx)(g.A,{className:"text-label-faint hover:text-label-muted size-3 transition duration-100 ease-out"})})]}),"glb"!==u&&(0,l.jsx)(x.A,{checked:s,onChange:r,size:"sm",disabled:v})]}),s&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(f.A,{size:"small",options:[{value:"current",text:N("Workspace.Shared.WorkspaceToolbar.DownloadSettings.Mesh.Animations.Current")},{value:"all",text:N("Workspace.Shared.WorkspaceToolbar.DownloadSettings.Mesh.Animations.AllAdded")}],value:t?"all":"current",onChange:e=>{a("all"===e)},disabled:v}),!!k&&(0,l.jsxs)("div",{className:"bg-semantic-error-bg border-semantic-error-border text-semantic-warning-highlight mt-4 flex w-[248px] items-center gap-3 rounded-xl border px-3 py-2 text-xs",children:[(0,l.jsx)(b.A,{className:"flex-none",stroke:1.5,size:20}),N("Workspace.Shared.DownloadDialog.AnimationExceedLimit")]})]})]}),t&&(0,l.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,l.jsx)("div",{className:"text-label-base flex items-center gap-1 text-xs font-normal select-none",children:(0,l.jsx)("span",{children:N("Workspace.Shared.WorkspaceToolbar.DownloadSettings.Mesh.SingleFile.Title")})}),(0,l.jsx)(x.A,{checked:y,onChange:j,size:"sm",disabled:v})]}),s&&"fbx"===u&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)("div",{className:"text-xs font-normal select-none",children:N("Workspace.Shared.WorkspaceToolbar.DownloadSettings.Mesh.Animations.Skin")}),(0,l.jsx)(f.A,{size:"small",options:[{value:"false",text:N("Workspace.Shared.WorkspaceToolbar.DownloadSettings.Mesh.Animations.WithSkin")},{value:"true",text:N("Workspace.Shared.WorkspaceToolbar.DownloadSettings.Mesh.Animations.WithoutSkin")}],value:i?"true":"false",onChange:e=>{c("true"===e)},disabled:v})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)("div",{className:"text-xs font-normal select-none",children:N("Workspace.Shared.WorkspaceToolbar.DownloadSettings.Mesh.Animations.FramesPerSecond")}),(0,l.jsx)(f.A,{size:"small",options:[{value:"24",text:"24"},{value:"25",text:"25"},{value:"30",text:"30"},{value:"60",text:"60"}],value:(null==d?void 0:d.toString())||"30",onChange:e=>{m(Number(e))},disabled:v})]})]})]}):null};var j=a(93285),k=a(50710),N=a(69095);let A=[{label:"fbx",fileType:"fbx"},{label:"obj",fileType:"obj"},{label:"glb",fileType:"glb"},{label:"usdz",fileType:"usdz"},{label:"stl",fileType:"stl"},{label:"blend",fileType:"blend"},{label:"3mf",fileType:"3mf"}],C=[{label:"fbx",fileType:"fbx"},{label:"glb",fileType:"glb"},{label:"usdz",fileType:"usdz"}],T=[{label:"stl",fileType:"stl"},{label:"3mf",fileType:"3mf"},{label:"obj",fileType:"obj"},{label:"glb",fileType:"glb"}],S=e=>{let{isAnimation:t,isPlatform:a,onChange:s,disabled:r}=e,n=(0,w.c3)(),{lastDownloadMeshFormat:o,setLastDownloadMeshFormat:i}=(0,k.M)(e=>({lastDownloadMeshFormat:e.lastDownloadMeshFormat,setLastDownloadMeshFormat:e.setLastDownloadMeshFormat})),c=A;t?c=C:a&&(c=T);let d=c.findIndex(e=>{let{fileType:t}=e;return t===o});-1===d&&(d=c.findIndex(e=>{let{fileType:t}=e;return a?"stl"===t:"glb"===t})),-1===d&&(d=0);let[p,m]=(0,v.useState)(d),u=c[p].fileType;return(0,v.useEffect)(()=>{s(u)},[u,s]),(0,l.jsxs)("div",{className:"flex w-full flex-wrap items-center justify-between gap-2",children:[(0,l.jsx)("div",{className:"text-label-base text-xs font-normal select-none",children:n("Workspace.Shared.WorkspaceToolbar.DownloadSettings.Mesh.Format")}),(0,l.jsx)("div",{className:(0,N.A)("flex items-center justify-center",{"w-full":c.length>1}),children:(0,l.jsx)(j.l6,{name:"grid",size:"sm",className:"w-full",value:u,options:c.map(e=>{let{label:t,fileType:a}=e;return{value:a,label:t}}),onChange:e=>{m(c.findIndex(t=>{let{fileType:a}=t;return a===e})),i(e)},disabled:r})})]})};var _=a(95387),M=a(70957),E=a(84636),P=a(54622),D=a(38143),F=a(131),O=a(23369),W=a(86427),L=a(30947),z=a(78171),I=a(85983);function Z(e){var t;let{enabled:a,height:s,origin:r,onEnableChange:i,onHeightChange:c,onOriginChange:d,taskId:m,showProTag:u=!1,showOrigin:h=!0}=e,{isPremiumTooltipRedesign:b}=(0,o.f)(),y=(0,w.c3)(),j=(0,D.j)(e=>e.getCreditDialogRef),k=[{icon:(0,l.jsx)(W.A,{stroke:1.5}),value:"1",text:y("Workspace.Shared.WorkspaceToolbar.DownloadSettings.Mesh.OriginParam.Bottom")},{icon:(0,l.jsx)(L.A,{stroke:1.5}),value:"2",text:y("Workspace.Shared.WorkspaceToolbar.DownloadSettings.Mesh.OriginParam.Center")}],A=[{value:"0.001",label:"mm",decimals:0},{value:"0.01",label:"cm",decimals:1},{value:"1",label:"m",decimals:3},{value:"0.0254",label:"in",decimals:1},{value:"0.3048",label:"ft",decimals:2}],[C,T]=(0,v.useState)("1"),[S,Z]=(0,v.useState)(()=>(Number(s)/Number(C)).toFixed(2)),[R,U]=(0,v.useState)(!1),B=async()=>{if(m){U(!0);try{let e=await (0,O.m9)(m);if(e){let t=e.match(/(\d+\.?\d*)\s*(cm|m|mm)/);if(t){let[e,a,l]=t,s=0;switch(l){case"cm":s=.01*Number(a);break;case"mm":s=.001*Number(a);break;case"m":s=Number(a)}isNaN(s)||G((s/Number(C)).toFixed(2))}}}finally{U(!1)}}},{data:V}=(0,F.o)(),G=e=>{if(!isNaN(Number(e))||""===e||e.includes(".")){let t=Number(e),a=e.toString();Z(a),c("0"===a?"0":(t*Number(C)).toString())}};return(0,l.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,l.jsxs)("div",{className:"relative flex w-full justify-between",children:[(0,l.jsxs)("div",{className:"text-label-base flex items-center gap-1 text-xs font-normal select-none",children:[y("Workspace.Shared.WorkspaceToolbar.DownloadSettings.Mesh.Resize.Title"),(0,l.jsx)(p.A,{className:"z-50",side:"top",title:y("Workspace.Shared.WorkspaceToolbar.DownloadSettings.Mesh.Resize.Tooltip"),children:(0,l.jsx)(g.A,{className:"text-label-faint hover:text-label-muted size-4 transition duration-100 ease-out"})})]}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[u&&(b?(0,l.jsx)(E.E,{hasBackground:!1}):(0,l.jsx)("div",{className:"pointer-events-none absolute -top-3 -right-2 ml-2 flex",children:(0,l.jsx)(M.A,{text:"PRO",style:"premium",shape:"jelly-bean",size:"xs"})})),(0,l.jsx)(x.A,{checked:a,onChange:e=>{if("free"===V.tier){var t;null==(t=j.current)||t.open({position:"mesh_resize"})}else i(e)}})]})]}),(0,l.jsxs)("div",{className:"flex flex-col items-start gap-2",children:[(0,l.jsx)("div",{className:(0,N.A)("text-xs font-normal select-none",a?"text-label-base":"text-label-muted"),children:y("Workspace.Shared.WorkspaceToolbar.DownloadSettings.Mesh.Resize.Height")}),(0,l.jsxs)("div",{className:"flex w-full items-center gap-2",children:[(0,l.jsx)(P.A,{size:"sm",value:S,onChange:e=>G(e.target.value),className:"flex-1",disabled:!a||R}),(0,l.jsx)(_.rI,{size:"sm",className:"z-50",align:"end",disabled:!a,trigger:(0,l.jsx)(n.default,{type:"secondary",size:"sm",className:"min-w-[60px] justify-between",iconSuffix:(0,l.jsx)(z.A,{stroke:1.5}),disabled:!a||R,children:null==(t=A.find(e=>{let{value:t}=e;return t===C}))?void 0:t.label}),children:(0,l.jsx)(_.I,{size:"sm",children:A.map(e=>(0,l.jsx)(_._2,{size:"sm",label:e.label,onSelect:()=>{let t=Number(S)*Number(C),a=(t/Number(e.value)).toFixed(e.decimals);T(e.value),Z(a),c(0===Number(a)?"0":t.toFixed(3))}},e.value))})}),m&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"bg-bg-border h-4 w-[0.5px]"}),(0,l.jsx)(p.A,{title:y("Workspace.Shared.WorkspaceToolbar.DownloadSettings.Mesh.Resize.AutoSize.Tooltip"),className:"z-50",asChild:!0,children:(0,l.jsx)(n.default,{type:"icon-secondary",size:"sm",icon:(0,l.jsx)(I.A,{stroke:1.5}),onClick:B,disabled:!a,loading:R})})]})]})]}),h&&(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)("div",{className:(0,N.A)("text-xs font-normal select-none",a?"text-label-base":"text-label-muted"),children:y("Workspace.Shared.WorkspaceToolbar.DownloadSettings.Mesh.Origin")}),(0,l.jsx)(f.A,{size:"small",options:k,value:r,onChange:d,disabled:!a})]})]})}var R=a(22317),U=a(17748),B=a(66599),V=a(4996),G=a(11172),H=a(39201),X=a(89537);let q=e=>{let{isLoading:t,taskId:a,isAnimation:s,downloadFn:c,buttonProps:m,downloadTooltip:f,platformUrl:x,isLimited:g,limitStatus:b,availableCount:j,premiumPosition:k,onDownloadCallback:N}=e,A=(0,w.c3)(),{data:C}=(0,F.o)(),{isAuthenticated:T}=(0,R.n)(),{isPremiumTooltipRedesign:_}=(0,o.f)(),[M,E]=(0,v.useState)(!1),[P,O]=(0,v.useState)(""),{includeRiggedCharacter:W,setIncludeRiggedCharacter:L,withoutSkin:z,setWithoutSkin:I,framesPerSecond:U,setFramesPerSecond:q,includeAnimation:Q,setIncludeAnimation:K,allAnimation:Y,setAllAnimation:$,resetAnimationState:J,singleFile:ee,setSingleFile:et}=(()=>{let[e,t]=(0,v.useState)(!0),[a,l]=(0,v.useState)(!1),[s,r]=(0,v.useState)(!1),[n,o]=(0,v.useState)(!1),[i,c]=(0,v.useState)(30),[d,p]=(0,v.useState)(!1);return{includeRiggedCharacter:s,setIncludeRiggedCharacter:r,includeAnimation:e,setIncludeAnimation:e=>{t(e),e||(l(!1),o(!1),c(30))},allAnimation:a,setAllAnimation:l,withoutSkin:n,setWithoutSkin:o,framesPerSecond:i,setFramesPerSecond:c,resetAnimationState:()=>{t(!0),l(!1),r(!1),o(!1),c(30),p(!1)},singleFile:d,setSingleFile:p}})(),ea=(0,D.j)(e=>e.getCreditDialogRef),[el,es]=(0,v.useState)("10"),[er,en]=(0,v.useState)("1"),[eo,ei]=(0,v.useState)(!1),ec=(0,u.aQ)(e=>e.currentAction),ed=eo&&(.001>Number(el)||isNaN(Number(el))||Number(el)>1e4),ep=!["usdz"].includes(P),{data:em}=(0,X.ZE)(s&&a||null),eu=(0,v.useMemo)(()=>{var e,t,a,l;return!!em&&!!Y&&(null!=(l=null==em||null==(a=em.result)||null==(t=a.animate)||null==(e=t.actions)?void 0:e.length)?l:0)>20},[em,Y]),eh=(0,l.jsxs)("div",{className:"flex w-full flex-col gap-4",children:[!s&&(0,l.jsx)(Z,{enabled:eo,height:el,origin:er,onEnableChange:ei,onHeightChange:es,onOriginChange:en,taskId:a,showProTag:"free"===C.tier,showOrigin:!x}),(0,l.jsx)(S,{isAnimation:s,isPlatform:!!x,onChange:e=>{e!==P&&(O(e),J(),"glb"===e?(K(!0),$(!0)):"usdz"===e&&K(!0))},disabled:M}),s&&(0,l.jsx)(y,{canDownloadAllAnimation:ep,meshFormat:P,allAnimation:Y,onAllAnimationChange:$,includeRiggedCharacter:W,onIncludeRiggedCharacterChange:L,withoutSkin:z,onWithoutSkinChange:I,framesPerSecond:U,onFramesPerSecondChange:q,includeAnimation:Q,onIncludeAnimationChange:K,disabled:M,singleFile:ee,onSingleFileChange:et,showLimitAlert:eu})]}),ef=s&&!Q&&!W,ex=ef?A("Workspace.Shared.DownloadDialog.DownloadButtonTooltip"):f,eg=(0,l.jsx)("div",{className:"relative flex items-center gap-2",children:(0,l.jsx)(p.A,{title:ex,disabled:!ex,asChild:!0,children:(0,l.jsxs)("div",{className:"relative w-full",children:[(0,l.jsx)(n.default,{size:"md",icon:(0,l.jsx)(V.A,{stroke:1.5}),disabled:M||ed||ef||eu,loading:M,block:!0,onClick:()=>{eb()},...m,children:A("Workspace.Shared.WorkspaceToolbar.Download")}),"noLimit"!==b&&(0,l.jsx)("div",{className:(0,B.cn)("absolute flex items-center justify-center",_?"-top-1 -right-1":"-top-3.5 -right-2"),children:(0,l.jsx)(H.N,{count:null!=j?j:0,showPro:g})})]})})}),eb=async()=>{if(!T)return void(0,r.j)();if(g){var e;null==(e=ea.current)||e.open({position:k||("limitCount"===b?"workspace_download_limit_hit":"workspace_download_new_model_no_download")});return}if(t||M)return;E(!0);let a=Date.now(),[l,n]=await (0,G.Tk)(c)({format:P,height:eo?Number(el):void 0,pivot:eo?parseInt(er):void 0,includeAnimation:s?Q:void 0,action:s?Y&&ep?"all":ec||void 0:void 0,includeRiggedCharacter:s?W:void 0,withoutSkin:s?z:void 0,framesPerSecond:s?U:void 0,singleFile:s?ee:void 0,platformUrl:x}),o=Date.now();if(E(!1),l)return void d.toast.error(A("Workspace.Shared.DownloadDialog.DownloadFailed"));n&&("string"==typeof n?(0,h.P)(n):s&&n.zipUrl&&(0,h.P)(n.zipUrl)),null==N||N({meshFormat:P,enableResize:eo,downloadTime:Math.round((o-a)/1e3)})},ew=(0,l.jsx)("div",{className:"flex size-full items-center justify-center",children:(0,l.jsx)("div",{className:"text-label-muted text-xs",children:(0,l.jsx)(i.A,{type:"dots"})})});return{component:t?ew:eh,button:eg,isDownloading:M}},Q=e=>{let{popoverProps:t,...a}=e,r=(0,w.c3)(),[n,o]=(0,v.useState)(!1),{component:i,button:d}=(e=>{let{isExample:t,downloadPosition:a,taskId:l,taskMode:r,onDownloadCallback:n,matrices:o,...i}=e,{trigger:c}=(0,U.L)(l||""),d=(0,s.n)();return q({...i,taskId:l,isLoading:!l,isAnimation:"animate"===r,downloadFn:e=>c({...e,matrices:o}),onDownloadCallback:e=>{let{meshFormat:s,enableResize:o,downloadTime:i}=e;t||d("download_model",{meshFormat:s,enableResize:o,downloadTime:i,isShowcase:"community_download_panel"===a,phase:r,position:a||"workspace_download_panel"}),m.syncBus.emit("task_list_updated",{returnToPageOne:!1,triggerByTaskId:l}),m.syncBus.emit("first_event_dialog_triggered",{eventAction:"first-download",position:"download"}),null==n||n(e)}})})({...a,taskId:n?a.taskId:""});return{popoverComponent:(0,l.jsxs)(c.A,{open:n,onOpenChange:o,...t,children:[(0,l.jsx)("div",{className:"border-bg-border flex h-10 min-w-[280px] items-center justify-start border-b px-4",children:(0,l.jsx)("div",{className:"text-label-title text-sm font-medium select-none",children:r("Workspace.Shared.WorkspaceToolbar.DownloadSettings.Title")})}),(0,l.jsx)("div",{className:"border-bg-border flex w-full flex-col gap-5 border-b p-4 last:border-none",children:i}),(0,l.jsx)("div",{className:"p-4",children:d})]}),openPopover:()=>{o(!0)},closePopover:()=>{o(!1)},open:n}}},43013:(e,t,a)=>{"use strict";a.d(t,{M:()=>l});let l={default:{name:"Decor Shop",previewUrl:"https://cdn.meshy.ai/webapp-assets/viewer/hdri/decor_shop_2k_Lower45Sat.webp",hdrUrl:"https://cdn.meshy.ai/webapp-assets/viewer/hdri/decor_shop_2k_Lower45Sat.exr"}}},49645:(e,t,a)=>{"use strict";a.d(t,{U:()=>eV});var l,s,r,n,o,i,c,d,p,m,u,h,f=a(95155),x=a(530),g=a(95333),b=a(52513),w=a(74765),v=a(284),y=a(95387),j=a(82525),k=a(70957),N=a(84636),A=a(99397),C=a(18955);let T=e=>{let{isHighlighted:t=!1,hoverClassName:a,onClick:l}=e,s=(0,C.c3)();return(0,f.jsx)(w.default,{type:"tertiary",size:"sm",icon:(0,f.jsx)(A.A,{className:a,stroke:"1.5"}),className:"px-sm group relative z-0 flex w-full items-center justify-start gap-2 text-sm transition-colors ".concat(t?"bg-bg-translucent text-label-title":""),style:{boxShadow:"none"},onClick:()=>{null==l||l()},children:(0,f.jsx)("span",{className:"text-xs",children:s("Workspace.AddPlatform.Title")})})};var S=a(7261),_=a(48077),M=a(57315),E=a(12189),P=a(20701),D=a(5129),F=a(2462),O=a(54622),W=a(880),L=a(52787),z=a(38143),I=a(2186),Z=a(4996),R=a(76076),U=a(15239),B=a(48891),V=a(12115),G=a(66027),H=a(42114),X=a(68411),q=a(39201),Q=a(54769),K=a(89537),Y=a(43013),$=a(81977),J=a(16750),ee=a(30258),et=a(53531),ea=a(22056),el=a(73063),es=a(87548),er=a(75731),en=a(89863);let eo=[{type:"Classic",platforms:[{name:"Cracked",img:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Cracked.webp",modelUrl:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Cracked_Platform.glb"},{name:"Gridstone",img:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Gridstone.webp",modelUrl:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Gridstone_Platform.glb"},{name:"SolidWood",img:"https://cdn.meshy.ai/webapp-assets/workspace/platform/SolidWood.webp",modelUrl:"https://cdn.meshy.ai/webapp-assets/workspace/platform/SolidWood_Platform.glb"},{name:"Golden",img:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Golden.webp",modelUrl:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Golden_Platform.glb"}]},{type:"Roman",platforms:[{name:"Round",img:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Round.webp",modelUrl:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Round_Plinth.glb"},{name:"Column",img:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Column.webp",modelUrl:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Column_Platform.glb"},{name:"Temple",img:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Temple.webp",modelUrl:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Temple_Platform.glb"},{name:"Ionic",img:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Ionic.webp",modelUrl:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Ionic_Platform.glb"}]},{type:"Adorable",platforms:[{name:"Stump",img:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Stump.webp",modelUrl:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Stump_Platform.glb"},{name:"Gear",img:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Gear.webp",modelUrl:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Gear_Platform.glb"},{name:"Cake",img:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Cake.webp",modelUrl:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Cake_Platform.glb"},{name:"Heart",img:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Heart.webp",modelUrl:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Heart_Platform.glb"}]},{type:"Nature",platforms:[{name:"Rune",img:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Rune.webp",modelUrl:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Rune_Platform.glb"},{name:"Grassy",img:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Grassy.webp",modelUrl:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Grassy_Platform.glb"},{name:"Paved",img:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Paved.webp",modelUrl:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Paved_Platform.glb"},{name:"Magic",img:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Magic.webp",modelUrl:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Magic_Platform.glb"}]},{type:"Fantasy",platforms:[{name:"Stone",img:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Stone.webp",modelUrl:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Stone_Platform.glb"},{name:"Tomb",img:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Tomb.webp",modelUrl:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Tomb_Platform.glb"},{name:"Arena",img:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Arena.webp",modelUrl:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Arena_Platform.glb"},{name:"Spiked",img:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Spiked.webp",modelUrl:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Spiked_Platform.glb"}]},{type:"BoardGame",platforms:[{name:"Merit",img:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Merit_Platform.webp",modelUrl:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Merit_Platform.glb"},{name:"Hall",img:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Hall_Platform.webp",modelUrl:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Hall_Platform.glb"},{name:"Urn",img:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Urn_Platform.webp",modelUrl:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Urn_Platform.glb"},{name:"Wisdom",img:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Wisdom_Platform.webp",modelUrl:"https://cdn.meshy.ai/webapp-assets/workspace/platform/Wisdom_Platform.glb"}]}],ei={platformMatrix:void 0,modelMatrix:void 0,platformType:eo[0].type,platform:eo[0].platforms[0],rotation:0,scale:1,translate:[0,0,0]},ec=(0,er.vt)((0,en.kg)(ei,e=>({setMatrix:(t,a)=>{e({platformMatrix:t,modelMatrix:a})},setModelUrl:t=>{e({modelUrl:t})},setPlatformType:t=>{e({platformType:t})},setPlatform:t=>{e({platform:t})},setRotation:t=>{e({rotation:t})},setScale:t=>{e({scale:t})},resetPlatform:()=>{e({platformType:eo[0].type,platform:eo[0].platforms[0]})},resetParams:()=>{e({rotation:0,scale:1,translate:[0,0,0]})}}))),ed=new es.MeshMatcapMaterial({color:0xbbbbbb,side:es.DoubleSide}),ep=new es.Raycaster,em=new es.Matrix4,eu=new es.Vector3,eh=new es.Quaternion,ef=new es.Vector3,ex=()=>{let{modelUrl:e,platform:t,translate:a,rotation:l,scale:s,setMatrix:r}=ec(),[n,o]=(0,V.useState)(!1),i=(0,et.p)(e),c=(0,et.p)(t.modelUrl,"https://cdn.meshy.ai/webapp-assets/workspace/draco/"),d=(0,V.useMemo)(()=>{let e=i.meshes[Object.keys(i.meshes)[0]].clone();return e.material instanceof es.MeshStandardMaterial&&(e.material.map?e.material=e.material.clone():e.material=ed),e},[i]),p=(0,V.useMemo)(()=>{let e=c.meshes[Object.keys(c.meshes)[0]].clone();return e.position.set(0,0,0),e.material=e.material.clone(),e.name="platform",e},[c]),m=(0,V.useMemo)(()=>new es.Box3().setFromObject(i.scene),[i.scene]),u=(0,V.useRef)(null),h=(0,V.useRef)(null);(0,el.C)(()=>{if(!u.current||!h.current)return;let e=u.current,t=h.current,n=m.getCenter(new es.Vector3);e.position.set(-n.x,-m.min.y,-n.z),t.position.fromArray(a),t.scale.set(s,s,s),t.rotation.y=Math.PI/180*l,t.updateMatrixWorld(),t.updateMatrixWorld(),e.updateMatrixWorld(),r(t.matrixWorld.toArray().map(e=>Math.round(1e8*e)/1e8),e.matrixWorld.toArray().map(e=>Math.round(1e8*e)/1e8)),em.makeTranslation(a[0],a[1],a[2])});let{camera:x,scene:g,gl:b}=(0,el.A)();return(0,V.useEffect)(()=>{function e(e){let{clientX:t,clientY:a}=e,{left:l,top:s}=b.domElement.getBoundingClientRect(),r=new es.Vector2((t-l)/b.domElement.clientWidth*2-1,-(a-s)/b.domElement.clientHeight*2+1);ep.setFromCamera(r,x),g.updateMatrixWorld(!0),ep.intersectObjects(g.children).filter(e=>"platform"===e.object.name).length>0?o(!0):o(!1)}return b.domElement.addEventListener("click",e),()=>{b.domElement.removeEventListener("click",e)}},[b.domElement,x,g,o]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("group",{ref:u,children:(0,f.jsx)(V.Suspense,{fallback:null,children:(0,f.jsx)("primitive",{object:d})})}),(0,f.jsx)(ea.n,{enabled:n,fixed:!0,matrix:em,onDrag:e=>{e.decompose(eu,eh,ef),ec.setState({translate:eu.toArray()})},scale:100,depthTest:!1,disableRotations:!0,disableScaling:!0,disableSliders:!0}),(0,f.jsx)("group",{ref:h,children:(0,f.jsx)(V.Suspense,{fallback:null,children:(0,f.jsx)("primitive",{object:p})})})]})},eg=()=>(0,f.jsxs)(ee.Hl,{camera:{fov:35,position:[5,3,5]},children:[(0,f.jsx)(ex,{}),(0,f.jsx)("ambientLight",{intensity:Math.PI}),(0,f.jsx)($.OH,{files:Y.M.default.hdrUrl}),(0,f.jsx)(J.N,{enableDamping:!1,makeDefault:!0,target:[0,.5,0],maxDistance:10,minDistance:1})]});var eb=a(66599),ew=a(47522);let ev=()=>{let e=(0,C.c3)(),[t,a]=(0,V.useState)(!1);return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:"absolute inset-x-0 top-0 z-10 flex flex-col gap-2 overflow-hidden rounded-t-xl",children:!t&&(0,f.jsxs)("div",{className:(0,eb.cn)("bg-bg-modal-overlay flex items-center gap-3 px-4 py-3 text-xs/4"),children:[(0,f.jsx)("div",{className:"flex-1",children:e("Workspace.AddPlatform.Tips.AdjustModel")}),(0,f.jsx)(w.default,{size:"xs",type:"secondary",icon:(0,f.jsx)(ew.A,{stroke:1.5}),onClick:()=>{a(!0)},children:e("Workspace.TextureEditor.GotIt")})]})})})},ey=e=>{let{open:t,onClose:a,payload:{taskId:l,isSelfTask:s=!0,premiumPosition:r}}=e,n=(0,C.c3)(),[o,i]=(0,V.useState)(!1),c=ec(e=>e.resetPlatform),d=ec(e=>e.resetParams);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(S.lG,{open:t,onOpenChange:e=>{e||i(!0)},children:(0,f.jsx)(S.Cf,{className:"sm:max-w-[1104px]",onInteractOutside:e=>e.preventDefault(),onOpenAutoFocus:e=>e.preventDefault(),onCloseAutoFocus:e=>e.preventDefault(),children:(0,f.jsx)(D.F,{orientation:"both",className:"flex flex-1 [&_[data-slot=scroll-area-scrollbar]]:py-4",children:(0,f.jsx)(D.B,{className:"max-h-[95vh] flex-1",children:(0,f.jsxs)("div",{className:"flex flex-col gap-3 p-6",children:[(0,f.jsxs)(S.L3,{className:"flex items-center justify-between",children:[(0,f.jsx)("div",{className:"text-xl-plus flex items-center gap-2",children:n("Workspace.AddPlatform.Title")}),(0,f.jsx)(w.default,{type:"icon-secondary",size:"xs",icon:(0,f.jsx)(I.A,{stroke:1.5}),onClick:()=>{i(!0)},style:{boxShadow:"none"}})]}),(0,f.jsx)(ej,{taskId:l,isSelfTask:s,premiumPosition:r})]})})})})}),(0,f.jsx)(P.Ay,{title:n("Workspace.AddPlatform.Close.Title"),onOpenChange:i,open:o,submitText:n("Workspace.AddPlatform.Close.Close"),onSubmit:async()=>{a(),i(!1),c(),d()},onClose:()=>{i(!1)},children:(0,f.jsx)("div",{className:"text-label-base text-sm font-medium",children:n("Workspace.AddPlatform.Close.Description")})})]})},ej=e=>{var t;let{taskId:a,isSelfTask:l,premiumPosition:s}=e,r=(0,C.c3)(),{data:n}=(0,K.ZE)(l?a:null),{data:o}=(0,K.G2)(l?null:a),i=l?n:o,{modelUrl:c}=(0,Q.t)(i),{platformType:d,platform:p,rotation:m,scale:u,setModelUrl:h,setPlatformType:x,setPlatform:g,setRotation:b,setScale:v,resetParams:y}=ec((0,G.k)(e=>({rotation:e.rotation,scale:e.scale,setModelUrl:e.setModelUrl,setPlatformType:e.setPlatformType,setPlatform:e.setPlatform,setRotation:e.setRotation,setScale:e.setScale,platformType:e.platformType,platform:e.platform,resetParams:e.resetParams}))),[j,k]=(0,V.useState)(u.toFixed(1)),[N,A]=(0,V.useState)(!1);return(0,V.useEffect)(()=>{N||k(u.toFixed(1))},[u,N]),(0,V.useEffect)(()=>{c&&h(c)},[c,h]),(0,f.jsxs)("div",{className:"z-0 flex gap-6",children:[(0,f.jsxs)("div",{className:"border-bg-border relative h-[680px] flex-1 rounded-xl border",children:[(0,f.jsx)(ev,{}),(0,f.jsx)("div",{className:"absolute bottom-4 left-4 z-50",children:(0,f.jsx)(E.T,{initialDelay:".4s"})}),!!i&&(0,f.jsx)(eg,{})]}),(0,f.jsxs)("div",{className:"flex w-[320px] flex-col justify-between",children:[(0,f.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,f.jsx)("p",{className:"font-semibold",children:r("Workspace.AddPlatform.PlatformLibrary.Title")}),(0,f.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,f.jsx)(B.bL,{className:"bg-bg-base grid w-full grid-cols-3 gap-2 rounded-xl p-2",value:d,onValueChange:x,children:eo.map(e=>(0,f.jsx)(B.q7,{value:e.type,asChild:!0,children:(0,f.jsx)(w.default,{type:d===e.type?"primary":"tertiary",size:"sm",className:"w-full",children:r("Workspace.AddPlatform.PlatformLibrary.Type.".concat(e.type))})},e.type))}),(0,f.jsx)(B.bL,{className:"grid grid-cols-2 gap-3",value:p.name,onValueChange:e=>{var t;let a=null==(t=eo.find(e=>e.type===d))?void 0:t.platforms.find(t=>t.name===e);a&&g(a)},children:null==(t=eo.find(e=>e.type===d))?void 0:t.platforms.map(e=>(0,f.jsxs)(B.q7,{value:e.name,className:"relative flex aspect-square w-full flex-col rounded-xl border ".concat(e===p?"border-accent-base":"border-bg-border hover:border-accent-secondary"),children:[(0,f.jsx)("div",{className:"relative flex-1 overflow-hidden rounded-xl bg-cover bg-center",style:{backgroundImage:"url(https://cdn.meshy.ai/webapp-assets/workspace/platform/background.webp)"},children:(0,f.jsx)(U.default,{src:e.img,alt:e.name,fill:!0,className:"object-cover p-5 transition-opacity duration-200",unoptimized:!0,onError:e=>{e.currentTarget.style.opacity="0"}})}),(0,f.jsx)("div",{className:"bg-bg-modal-overlay absolute bottom-0 w-full rounded-b-xl py-1 text-xs font-medium",children:r("Workspace.AddPlatform.PlatformLibrary.Name.".concat(e.name))})]},e.name))})]}),(0,f.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,f.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,f.jsx)("p",{className:"text-label-title text-xs font-medium",children:r("Workspace.AddPlatform.Rotation")}),(0,f.jsxs)("div",{className:"flex items-center gap-3",children:[(0,f.jsx)(F.A,{min:0,max:360,step:1,value:[m],onChange:e=>b(e[0])}),(0,f.jsx)(O.A,{value:m.toString(),onChange:e=>{b(Math.max(0,Math.min(360,parseInt("string"==typeof e?e:e.target.value)||0)))},suffix:"\xb0",onFocus:e=>{e.target.select()},size:"sm",className:"max-w-12"})]})]}),(0,f.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,f.jsx)("p",{className:"text-label-title text-xs font-medium",children:r("Workspace.AddPlatform.Scale")}),(0,f.jsxs)("div",{className:"flex items-center gap-3",children:[(0,f.jsx)(F.A,{min:.1,max:3,step:.1,value:[u],onChange:e=>v(e[0])}),(0,f.jsx)(O.A,{value:j,suffix:"x",type:"number",onChange:e=>{let t="string"==typeof e?e:e.target.value;if(""===t||/^\d*\.?\d{0,1}$/.test(t)){k(t);let e=parseFloat(t);isNaN(e)||v(Math.max(.1,Math.min(3,e)))}},onFocus:e=>{e.target.select(),A(!0)},onBlur:()=>{A(!1),k(u.toFixed(1))},size:"sm",className:"max-w-12"})]})]})]})]}),(0,f.jsxs)("div",{className:"border-bg-border flex items-center gap-2 border-t pt-3",children:[(0,f.jsx)(w.default,{type:"secondary",size:"md",className:"w-full",onClick:y,children:r("Workspace.AddPlatform.Reset")}),(0,f.jsx)(ek,{taskId:a,isSelfTask:l,premiumPosition:s})]})]})]})},ek=e=>{var t;let{taskId:a,isSelfTask:l,premiumPosition:s}=e,r=(0,C.c3)(),{data:n}=(0,K.ZE)(l?a:null),{data:o}=(0,K.G2)(l?null:a),i=l?n:o,c=(0,z.j)(e=>e.getCreditDialogRef),d=(0,g.n)(),{availableCount:p,totalCount:m,limitStatus:u,limited:h,tooltip:x,mutate:b}=(0,X.t)(i,l),{platformMatrix:v,modelMatrix:y,platform:j}=ec.getState(),k=[v,y].filter(e=>void 0!==e).map(e=>(0,R.A)(e,4)),{popoverComponent:N,openPopover:A,closePopover:T,open:S}=(0,H.H)({taskId:(null==i?void 0:i.id)||"",taskMode:(null==i?void 0:i.mode)||"draft",platformUrl:j.modelUrl,isExample:null==i||null==(t=i.result)?void 0:t.isExample,matrices:JSON.stringify(k),availableCount:p,limitStatus:u,popoverProps:{trigger:(0,f.jsx)("div",{className:"pointer-events-none"}),align:"start",side:"top",zIndex:50},onDownloadCallback:async()=>{if("limitCount"===u){var e;(null!=(e=await b())?e:0)>=m&&T()}}});return(0,f.jsxs)("div",{className:"relative inline-flex w-full",children:[N,(()=>{let e=(0,f.jsx)(w.default,{size:"md",icon:(0,f.jsx)(Z.A,{stroke:1.5}),type:"primary",onClick:()=>{(()=>{var e,t;if((null==i||null==(e=i.result)?void 0:e.isExample)||d("download_model_intent",{isShowcase:!1,position:"community_download_panel"===s?"community_addPlatform_panel":"workspace_addPlatform_panel"}),M.j.reportAll(),h){null==(t=c.current)||t.open({position:s&&!l?s:"limitCount"===u?"workspace_download_limit_hit":"workspace_download_new_model_no_download"});return}A()})()},className:"w-full",disabled:S,children:r("Workspace.Shared.WorkspaceToolbar.Download")});return"noLimit"===u?e:(0,f.jsx)(L.A,{asChild:!0,title:x,disabled:!x,disableHoverableContent:!0,children:(0,f.jsxs)("div",{className:"relative inline-flex w-full",children:[e,(0,f.jsx)("div",{className:"absolute -top-1 -right-1 flex items-center justify-center",children:(0,f.jsx)(q.N,{count:p,showPro:h})})]})})})()]})};var eN=a(8070),eA=a(131),eC=a(54820),eT=a(64516),eS=a(71201);function e_(){return(e_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(this,arguments)}let eM=function(e){return V.createElement("svg",e_({width:14,height:12,viewBox:"0 0 14 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l||(l=V.createElement("path",{d:"M10 9.363a6.5 6.5 0 0 1 3.25.87.5.5 0 1 1-.5.867 5.5 5.5 0 0 0-5.5 0 .5.5 0 0 1-.5 0 5.5 5.5 0 0 0-5.5 0 .5.5 0 0 1-.5-.866A6.5 6.5 0 0 1 7 10.097a6.5 6.5 0 0 1 3-.734Z",fill:"url(#paint0_linear_5063_4971)"})),s||(s=V.createElement("path",{d:"M10 .696a6.5 6.5 0 0 1 3.25.871.5.5 0 0 1-.5.866 5.5 5.5 0 0 0-5.5 0 .5.5 0 0 1-.5 0 5.5 5.5 0 0 0-5.5 0 .5.5 0 0 1-.5-.866A6.5 6.5 0 0 1 7 1.43a6.5 6.5 0 0 1 3-.734Z",fill:"url(#paint1_linear_5063_4971)"})),r||(r=V.createElement("path",{d:"M.5 10.667V2a.5.5 0 0 1 1 0v8.667a.5.5 0 0 1-1 0Z",fill:"url(#paint2_linear_5063_4971)"})),n||(n=V.createElement("path",{d:"M6.5 10.667V2a.5.5 0 0 1 1 0v8.667a.5.5 0 0 1-1 0Z",fill:"url(#paint3_linear_5063_4971)"})),o||(o=V.createElement("path",{d:"M12.5 10.667V2a.5.5 0 0 1 1 0v8.667a.5.5 0 0 1-1 0Z",fill:"url(#paint4_linear_5063_4971)"})),i||(i=V.createElement("defs",null,V.createElement("linearGradient",{id:"paint0_linear_5063_4971",x1:.5,y1:5.931,x2:13.5,y2:5.931,gradientUnits:"userSpaceOnUse"},V.createElement("stop",{stopColor:"#B6FF19"}),V.createElement("stop",{offset:1,stopColor:"#FF6FAA"})),V.createElement("linearGradient",{id:"paint1_linear_5063_4971",x1:.5,y1:5.931,x2:13.5,y2:5.931,gradientUnits:"userSpaceOnUse"},V.createElement("stop",{stopColor:"#B6FF19"}),V.createElement("stop",{offset:1,stopColor:"#FF6FAA"})),V.createElement("linearGradient",{id:"paint2_linear_5063_4971",x1:.5,y1:5.931,x2:13.5,y2:5.931,gradientUnits:"userSpaceOnUse"},V.createElement("stop",{stopColor:"#B6FF19"}),V.createElement("stop",{offset:1,stopColor:"#FF6FAA"})),V.createElement("linearGradient",{id:"paint3_linear_5063_4971",x1:.5,y1:5.931,x2:13.5,y2:5.931,gradientUnits:"userSpaceOnUse"},V.createElement("stop",{stopColor:"#B6FF19"}),V.createElement("stop",{offset:1,stopColor:"#FF6FAA"})),V.createElement("linearGradient",{id:"paint4_linear_5063_4971",x1:.5,y1:5.931,x2:13.5,y2:5.931,gradientUnits:"userSpaceOnUse"},V.createElement("stop",{stopColor:"#B6FF19"}),V.createElement("stop",{offset:1,stopColor:"#FF6FAA"})))))};function eE(){return(eE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(this,arguments)}let eP=function(e){return V.createElement("svg",eE({width:14,height:12,viewBox:"0 0 14 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),c||(c=V.createElement("path",{d:"M10 9.363a6.5 6.5 0 0 1 3.25.87.5.5 0 1 1-.5.867 5.5 5.5 0 0 0-5.5 0 .5.5 0 0 1-.5 0 5.5 5.5 0 0 0-5.5 0 .5.5 0 0 1-.5-.866A6.5 6.5 0 0 1 7 10.097a6.5 6.5 0 0 1 3-.734Z",fill:"url(#paint0_linear_4859_319)"})),d||(d=V.createElement("path",{d:"M10 .696a6.5 6.5 0 0 1 3.25.871.5.5 0 0 1-.5.866 5.5 5.5 0 0 0-5.5 0 .5.5 0 0 1-.5 0 5.5 5.5 0 0 0-5.5 0 .5.5 0 0 1-.5-.866A6.5 6.5 0 0 1 7 1.43a6.5 6.5 0 0 1 3-.734Z",fill:"url(#paint1_linear_4859_319)"})),p||(p=V.createElement("path",{d:"M.5 10.667V2a.5.5 0 0 1 1 0v8.667a.5.5 0 0 1-1 0Z",fill:"url(#paint2_linear_4859_319)"})),m||(m=V.createElement("path",{d:"M6.5 10.667V2a.5.5 0 0 1 1 0v8.667a.5.5 0 0 1-1 0Z",fill:"url(#paint3_linear_4859_319)"})),u||(u=V.createElement("path",{d:"M12.5 10.667V2a.5.5 0 0 1 1 0v8.667a.5.5 0 0 1-1 0Z",fill:"url(#paint4_linear_4859_319)"})),h||(h=V.createElement("defs",null,V.createElement("linearGradient",{id:"paint0_linear_4859_319",x1:.5,y1:5.931,x2:13.5,y2:5.931,gradientUnits:"userSpaceOnUse"},V.createElement("stop",{stopColor:"#C5F955"}),V.createElement("stop",{offset:1,stopColor:"#FF97C2"})),V.createElement("linearGradient",{id:"paint1_linear_4859_319",x1:.5,y1:5.931,x2:13.5,y2:5.931,gradientUnits:"userSpaceOnUse"},V.createElement("stop",{stopColor:"#C5F955"}),V.createElement("stop",{offset:1,stopColor:"#FF97C2"})),V.createElement("linearGradient",{id:"paint2_linear_4859_319",x1:.5,y1:5.931,x2:13.5,y2:5.931,gradientUnits:"userSpaceOnUse"},V.createElement("stop",{stopColor:"#C5F955"}),V.createElement("stop",{offset:1,stopColor:"#FF97C2"})),V.createElement("linearGradient",{id:"paint3_linear_4859_319",x1:.5,y1:5.931,x2:13.5,y2:5.931,gradientUnits:"userSpaceOnUse"},V.createElement("stop",{stopColor:"#C5F955"}),V.createElement("stop",{offset:1,stopColor:"#FF97C2"})),V.createElement("linearGradient",{id:"paint4_linear_4859_319",x1:.5,y1:5.931,x2:13.5,y2:5.931,gradientUnits:"userSpaceOnUse"},V.createElement("stop",{stopColor:"#C5F955"}),V.createElement("stop",{offset:1,stopColor:"#FF97C2"})))))},eD={src:"https://cdn.meshy.ai/webapp-build-assets/production/_next/static/media/marketiger-example-4.1a52b3c4.png"};var eF=a(9967),eO=a(93285),eW=a(8952),eL=a(53034),ez=a(79054),eI=a(54496),eZ=a(44517),eR=a(46512);let eU=e=>{let{open:t,onClose:a,payload:{showProTag:l,taskId:s,isSelfTask:r}}=e,n=(0,C.c3)(),o=n("ToolBar.Marketiger.Info.Tooltip"),{component:i,button:c}=eB({onClosePopover:a,showProTag:l,taskId:s,isSelfTask:r});return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(S.lG,{open:t,onOpenChange:e=>{e||a()},children:(0,f.jsx)(S.Cf,{className:"bg-bg-base sm:max-h-1000 sm:max-w-168",onOpenAutoFocus:e=>e.preventDefault(),onCloseAutoFocus:e=>e.preventDefault(),children:(0,f.jsxs)("div",{className:"gap-2xl p-2xl flex items-center",children:[(0,f.jsxs)("div",{className:"bg-bg-base relative flex h-auto min-h-[372px] w-[279px] items-center justify-center rounded-2xl [background:radial-gradient(42.68%_41.59%_at_50%_50%,rgba(90,86,86,0.60)_0%,rgba(61,59,59,0.73)_29.33%,rgba(24,24,24,0.90)_100%),rgba(24,24,24,1)]",children:[(0,f.jsx)(ez.A,{className:"-translate-y-1/12 object-contain",src:eD.src,alt:"Marketiger",width:225,height:256}),(0,f.jsx)(w.default,{type:"tertiary",size:"sm",onClick:()=>window.open("https://youtu.be/YaiwNbYeNr0","_blank"),className:"group bg-bg-translucent absolute bottom-4 left-1/2 -translate-x-1/2",children:(0,f.jsxs)("div",{className:"flex w-full items-center justify-center gap-1",children:[(0,f.jsx)(eM,{className:"hidden group-hover:block",width:16}),(0,f.jsx)(eP,{className:"group-hover:hidden",width:16}),(0,f.jsx)("span",{className:"bg-gradient-new-feature hover:bg-gradient-new-feature-hover bg-clip-text font-normal text-transparent",children:o})]})})]}),(0,f.jsxs)("div",{className:"flex h-auto min-h-[372px] w-80 flex-col items-center justify-between gap-2",children:[(0,f.jsxs)("div",{className:"flex h-full w-full flex-col items-center gap-3",children:[(0,f.jsxs)("div",{className:"pb-md border-bg-border flex w-full items-center justify-between border-b",children:[(0,f.jsx)("div",{className:"text-label-title text-lg-plus select-none",children:n("ToolBar.Marketiger.Info.Title")}),(0,f.jsx)(S.HM,{asChild:!0,children:(0,f.jsx)(w.default,{type:"icon-secondary",size:"xs",icon:(0,f.jsx)(I.A,{}),onClick:()=>a()})})]}),(0,f.jsx)("div",{children:i})]}),c]})]})})})})},eB=e=>{let{onClosePopover:t,showProTag:a,taskId:l,isSelfTask:s=!0}=e,r=(0,C.c3)(),{isPremiumTooltipRedesign:n}=(0,v.f)(),{data:o}=(0,K.ZE)(s?l:null),{data:i}=(0,K.G2)(s?null:l),c=s?o:i,{myInfo:d}=(0,eW.Iy)(),{quadJsonUrl:p}=(0,Q.t)(c),m=(0,z.j)(e=>e.getCreditDialogRef),{data:u}=(0,eR.Ay)(p||null,e=>fetch(e).then(e=>e.json())),h=(0,g.n)(),[x,y]=(0,V.useState)("50"),[j,A]=(0,V.useState)(!0),[T,S]=(0,V.useState)(!1),_=async()=>{if(a){var e;null==(e=m.current)||e.open({position:"send_to_marketiger"});return}if((null==u?void 0:u.faces_count)>1e6)return void eZ.Ay.custom((0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:"border-semantic-error-border bg-semantic-error-bg flex items-center justify-center gap-3 rounded-xl border px-3 py-2",children:[(0,f.jsx)(eI.A,{color:"#F6992B"}),(0,f.jsx)("div",{className:"text-semantic-warning-highlight text-xs",children:r("ToolBar.Marketiger.Toast.Warning")})]})}));S(!0);let t={format:"obj",pivot:Number("1"),height:Number(x)},l=await (0,b.getAccessToken)(),s=await (await fetch("/api/upload-model-to-marketiger",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:null==d?void 0:d.email,taskId:null==c?void 0:c.id,token:l,...t})})).json();s.error?(console.error(s.error),W.toast.error(r("ToolBar.Marketiger.Toast.FailAndRetray"))):(h("marketiger_model_upload_success",{user_id:null==d?void 0:d.userId,email:null==d?void 0:d.email,print_height_mm:x,polygons_count:null==u?void 0:u.faces_count,model_id:null==c?void 0:c.id,associated_task_id:null==c?void 0:c.id,time_model_uploaded_to_marketiger_api:s.time}),W.toast.success(r("ToolBar.Marketiger.Toast.Success")),window.location.href=s.url),S(!1)};return{component:(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:"gap-md flex flex-col",children:[(0,f.jsx)("div",{className:"bg-gradient-marketiger text-label-base p-md w-full rounded-lg text-xs font-normal text-wrap",children:r("ToolBar.Marketiger.Info.Intro")}),(0,f.jsxs)("div",{className:"gap-sm flex flex-col",children:[(0,f.jsx)("div",{className:"text-label-base text-xs",children:r("ToolBar.Marketiger.Info.Height")}),(0,f.jsxs)("div",{className:"flex flex-1 justify-between gap-2",children:[(0,f.jsx)(O.A,{size:"sm",value:x,className:"text-label-base text-xs",disabled:!0,onChange:()=>{}}),(0,f.jsx)(eO.l6,{size:"sm",value:"mm",className:"w-20",options:[{label:"mm",value:"mm"}],onChange:()=>{},disabled:!0})]})]}),(0,f.jsx)(eF.A,{className:"h-12 w-full justify-evenly gap-0 py-2 pl-3 text-xs",type:"info",message:(0,f.jsx)("div",{className:"ml-3 w-full pr-3 text-xs",children:r.rich("ToolBar.Marketiger.Info.PermissionWithLink",{link:e=>(0,f.jsx)("span",{className:"text-semantic-info-highlight cursor-pointer underline",onClick:()=>{window.open(eL.AS,"_blank")},children:e})})})})]})}),button:(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:"pt-md border-bg-border flex w-full flex-col border-t",children:[(0,f.jsxs)("div",{className:(0,eb.cn)("w-full flex-col items-center justify-center",{"mb-4":T,hidden:!T}),children:[(0,f.jsx)("div",{className:(0,eb.cn)({hidden:!T},"text-2xs text-label-muted flex w-auto items-center justify-center font-normal"),children:r("Workspace.Shared.WorkspaceToolbar.Waiting.Downloading")}),(0,f.jsx)("div",{className:(0,eb.cn)({hidden:!T},"text-2xs text-label-muted w-[280px] text-center align-middle"),children:r.rich("Workspace.Shared.WorkspaceToolbar.Waiting.DownloadingGuide",{link:e=>(0,f.jsx)("span",{className:"text-semantic-info-highlight cursor-pointer underline",onClick:()=>{window.open(eL.HF,"_blank")},children:e})})})]}),(0,f.jsxs)("div",{className:"gap-lg flex w-full flex-row items-center justify-between",children:[(0,f.jsx)(w.default,{size:"md",type:"secondary",className:"flex-1",onClick:t,disabled:T,children:r("ToolBar.Marketiger.Cancel")}),(0,f.jsxs)("div",{className:"relative inline-flex items-center",children:[(0,f.jsx)(w.default,{size:"md",type:"primary",className:"flex-1",disabled:T||!j,loading:T,onClick:_,children:r("ToolBar.Marketiger.Send")}),a&&(0,f.jsx)("div",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center",children:n?(0,f.jsx)(N.E,{hasBackground:!0}):(0,f.jsx)(k.A,{text:"PRO",shape:"jelly-bean",style:"premium",size:"xs"})})]})]})]})})}},eV=e=>{let{taskId:t,canPrint3DModel:a,popoverProps:l,position:s,premiumPosition:r,isSelfTask:n=!0}=e,{isPremiumTooltipRedesign:o}=(0,v.f)(),i=(0,C.c3)(),c=(0,g.n)(),[d,p]=(0,V.useState)(!1),[m,u]=(0,V.useState)(null),[h,M]=(0,V.useState)(!1),E=(0,z.j)(e=>e.getCreditDialogRef),{data:P}=(0,eA.o)(),D=(e=>{let{open:t}=(0,S.b9)();return(0,_.A)(()=>{t(ey,e)})})({taskId:t,isSelfTask:n,premiumPosition:r}),F="free"===P.tier||"anonymous"===P.tier,O=d&&"mesh"===m,W=(e=>{let{open:t}=(0,S.b9)();return(0,_.A)(()=>{t(eU,e)})})({showProTag:!n&&F,taskId:t,isSelfTask:n}),L=async()=>{try{if("free"===P.tier||"anonymous"===P.tier){var e;null==(e=E.current)||e.open({position:"dcc_bridge"});return}M(!0);let a=await (0,b.getAccessToken)(),l=await (0,eC.Pc)(t,a,{format:"3mf"});l&&"string"==typeof l&&(await (0,eN.$l)({modelUrl:l}),c("send_to_dcc",{dcc:"bambu",task:"model",success:!0,position:s}))}catch(e){console.error(e)}finally{M(!1)}},I=e=>{let{hoverClassName:t,className:l}=e;return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:(0,eb.cn)("bg-bg-sub border-bg-border flex min-w-[228px] flex-col gap-1 rounded-md border-[0.5px] p-1",l),children:[(0,f.jsx)("div",{className:"w-full",onMouseEnter:()=>u("mesh"),onMouseLeave:()=>u(null),onClick:()=>{p(!1)},children:(0,f.jsx)(T,{isHighlighted:O,hoverClassName:t,onClick:()=>{c("open_addPlatform_panel",{position:s}),D()}})}),a&&(0,f.jsx)("div",{className:"group relative w-full",onMouseEnter:()=>u("Send to Bam"),onMouseLeave:()=>u(null),children:(0,f.jsx)(w.default,{size:"sm",type:"tertiary",className:"px-sm flex w-full justify-start gap-2 text-sm",icon:(0,f.jsx)(eT.A,{className:t,stroke:"1.5"}),onClick:()=>{W(),p(!1)},children:(0,f.jsx)("span",{className:"text-xs",children:i("ToolBar.Marketiger.Title")})})}),(0,f.jsxs)("div",{className:"group relative w-full",onMouseEnter:()=>u("Send to Bambu"),onMouseLeave:()=>u(null),children:[(0,f.jsx)(w.default,{size:"sm",type:"tertiary",onClick:async()=>{h||await L()},disabled:h,className:"px-sm flex w-full justify-start gap-2 text-sm",icon:(0,f.jsx)(x.A,{width:16,height:16}),children:(0,f.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,f.jsxs)("div",{className:"flex items-center gap-1 text-xs",children:[i("ToolBar.Print.Bambu.Title"),o&&(0,f.jsx)(N.E,{hasBackground:!1})]}),h&&(0,f.jsx)("div",{className:"flex items-center",children:(0,f.jsx)(eS.A,{className:"animate-spin",size:16})})]})}),F&&!o&&(0,f.jsx)("div",{className:"hidden group-hover:block",children:(0,f.jsx)(k.A,{className:"absolute -top-2 -right-3.5 z-50",text:"PRO",icon:!1,style:"premium",shape:"jelly-bean",size:"xs"})})]})]})})};return{popoverComponent:(0,f.jsx)(j.A,{open:d,onOpenChange:e=>{p(e)},...l,children:I({})}),printContent:I,printDropDownContent:e=>{let{hoverClassName:t,className:l}=e;return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:(0,eb.cn)("flex flex-col",l),children:[(0,f.jsx)(y._2,{size:"xs",className:"text-sm [&>*]:gap-2!",icon:(0,f.jsx)(A.A,{width:20,height:20,className:"text-label-muted group-hover/item:text-label-title",stroke:1.5}),label:i("Workspace.AddPlatform.Title"),onSelect:e=>{c("open_addPlatform_panel",{position:s}),D()}}),a&&(0,f.jsx)(y._2,{size:"xs",className:"text-sm [&>*]:gap-2!",icon:(0,f.jsx)(eT.A,{width:20,height:20,className:"text-label-muted group-hover/item:text-label-title",stroke:1.5}),label:i("ToolBar.Marketiger.Title"),onSelect:e=>{W()}}),(0,f.jsx)(y._2,{size:"xs",className:"text-sm [&>*]:gap-2!",icon:(0,f.jsx)(x.A,{width:20,height:20,className:"text-label-muted group-hover/item:text-label-title"}),label:(0,f.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,f.jsxs)("div",{className:"flex items-center gap-1",children:[(0,f.jsx)("span",{children:i("ToolBar.Print.Bambu.Title")}),o&&(0,f.jsx)(N.E,{hasBackground:!1}),!o&&F&&(0,f.jsx)(k.A,{text:"PRO",icon:!1,style:"premium",shape:"jelly-bean",size:"xs"})]}),h&&(0,f.jsx)(eS.A,{className:"animate-spin",size:16})]}),disabled:h,onSelect:async e=>{null==e||e.preventDefault(),h||await L()}})]})})},openPopover:()=>{p(!0)},closePopover:()=>{p(!1)},open:d,sendToBambu:L,isSendingToBambu:h}}},52210:(e,t,a)=>{"use strict";a.d(t,{E:()=>f});var l=a(95155),s=a(19742),r=a(42073),n=a(95333),o=a(61691),i=a(74765),c=a(52787),d=a(79534),p=a(16680),m=a(5573),u=a(18955),h=a(12115);let f=e=>{var t,a;let{showcaseData:f,size:x="sm",type:g="secondary",className:b}=e,w=(0,u.c3)(),v=(0,n.n)(),[y,j]=(0,h.useState)(!1),k=(0,o.Zn)();(0,d.l)({showcaseId:f.id});let N=w("Dashboard.Discover.CommunityShowcase.ShowcaseCard.Remix");("text-prompt"===f.mode||"concept-art"===f.mode)&&(N=w("Dashboard.Discover.CommunityShowcase.ShowcaseCard.Retexture"));let A=!!(null==(a=f.args)||null==(t=a.generate)?void 0:t.modelId)||[p.nN.TextToTexture,p.nN.ImageToTexture].includes(f.mode),C="text-to-voxel"===f.mode,T=A?w("Dashboard.Discover.CommunityShowcase.ShowcaseCard.RemixDisabled"):N;return(0,l.jsx)(c.A,{disabled:!T,title:T,asChild:!0,children:(0,l.jsx)(i.default,{type:g,className:b,size:x,icon:y?(0,l.jsx)(s.A,{className:"animate-spin"}):(0,l.jsx)(r.A,{className:"size-6"}),disabled:A||C,onClick:async()=>{j(!0),[p.nN.TextToTexture,p.nN.ImageToTexture].includes(f.mode)?v("retexture_button_click",{position:"community_showcase_card"}):v("remix_button_click",{position:"community_showcase_card"}),(0,m.qm)(f.id).catch(()=>{}),await k(f),j(!1)},children:N})})}},57315:(e,t,a)=>{"use strict";a.d(t,{j:()=>l});let l={reportGoogleAds:()=>{try{gtag("event","download_model")}catch(e){}},reportTikTokAds:()=>{try{ttq.track("DownloadModel")}catch(e){}},reportFacebookAds:()=>{try{fbq("trackCustom","DownloadModel")}catch(e){}},reportRedditAds:()=>{try{rdt("track","Custom",{customEventName:"DownloadModel"})}catch(e){}},reportAmazonAds:()=>{try{amzn("trackEvent","DownloadModel")}catch(e){}},reportXAds:()=>{try{twq("event","tw-onb3z-qpu4l")}catch(e){}},reportAll:()=>{l.reportGoogleAds(),l.reportTikTokAds(),l.reportFacebookAds(),l.reportRedditAds(),l.reportAmazonAds(),l.reportXAds()}}},59192:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var l,s=a(12115);function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(this,arguments)}let n=function(e){return s.createElement("svg",r({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l||(l=s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.47 9.78a.75.75 0 0 0 1.06 0l4-4a.75.75 0 1 0-1.06-1.06L12 8.19 8.53 4.72a.75.75 0 0 0-1.06 1.06l4 4ZM7.47 18.75a.75.75 0 0 0 1.06 0L12 15.28l3.47 3.47a.75.75 0 1 0 1.06-1.06l-4-4a.75.75 0 0 0-1.06 0l-4 4a.75.75 0 0 0 0 1.06Z",fill:"currentColor"})))}},60311:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var l,s,r=a(12115);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(this,arguments)}let o=function(e){return r.createElement("svg",n({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l||(l=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.17 3.646a.5.5 0 0 1 .707 0l5.477 5.477a.5.5 0 0 1 0 .707l-1.366 1.366a4.373 4.373 0 1 1-6.184-6.184L6.17 3.646Zm.353 1.061L5.508 5.723 5.5 5.73a3.373 3.373 0 1 0 4.77 4.77l.006-.008 1.016-1.015-4.77-4.77Z",fill:"#DEDEDE"})),s||(s=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.354 10.646a.5.5 0 0 1 0 .707L3.02 13.688a.5.5 0 1 1-.707-.707l2.334-2.334a.5.5 0 0 1 .707 0ZM10.354 2.313a.5.5 0 0 1 0 .707L8.02 5.354a.5.5 0 0 1-.707-.708l2.334-2.333a.5.5 0 0 1 .707 0ZM13.687 5.646a.5.5 0 0 1 0 .708l-2.333 2.333a.5.5 0 1 1-.707-.707l2.333-2.334a.5.5 0 0 1 .707 0Z",fill:"#DEDEDE"})))}},64079:e=>{e.exports={AnimateRoot:"hint_AnimateRoot__aj5jj",InitialAnimateWithDelay:"hint_InitialAnimateWithDelay__F2Byq",wrapper:"hint_wrapper__36mp0",hint:"hint_hint__ZLhPV"}},67781:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var l=a(95155),s=a(69095),r=a(12115),n=a(59767),o=a(48322),i=a(66599),c=a(6964);let d=e=>{let{label:t,name:a,required:d,disabled:p,defaultChecked:m,checked:u,onChange:h,className:f,id:x,size:g="md",pro:b}=e,w=(0,r.useId)(),v=x||w;return(0,l.jsxs)("div",{className:(0,s.A)("group text-label-base flex items-center gap-4 text-sm font-normal",{"pointer-events-none touch-none opacity-40 select-none":p},f),children:[t&&(0,l.jsx)(n.J,{htmlFor:v,children:t}),(0,l.jsx)(o.m,{pro:b,children:(0,l.jsx)(c.bL,{className:(0,i.cn)("bg-bg-border hover:bg-bg-border-strong focus:ring-accent-base focus:ring-offset-bg-base radix-state-checked:bg-accent-base radix-state-checked:hover:bg-accent-highlight relative cursor-pointer rounded-full outline-hidden transition duration-100 ease-out focus:ring-offset-2 focus:outline-hidden",{"h-4 w-[26px] focus:ring-1":"sm"===g,"h-5 w-8 focus:ring-2":"md"===g}),id:v,name:a,required:d,disabled:p,defaultChecked:m,checked:u,onCheckedChange:h,onMouseDown:e=>e.preventDefault(),children:(0,l.jsx)(c.zi,{className:(0,i.cn)("block rounded-full bg-white shadow-xs transition-transform duration-100 ease-out will-change-transform",{"radix-state-checked:translate-x-[12px] size-3 translate-x-[2px]":"sm"===g,"radix-state-checked:translate-x-[15px] size-[14px] translate-x-[3px]":"md"===g})})})})]})}},68411:(e,t,a)=>{"use strict";a.d(t,{t:()=>h});var l=a(95155),s=a(11397),r=a(131),n=a(16680),o=a(8945),i=a(7016),c=a(18955),d=a(46512),p=a(80609);let m=new Date("2025-08-15T23:59:59Z").getTime(),u=function(){var e,t,a,l,s;let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,c=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{data:d}=(0,r.o)(),{isLatestModel:u}=(0,p.IL)(),h="free"===d.tier||"anonymous"===d.tier,f=new Date().getTime()>m||i.Xx;if(null==o||null==(e=o.result)?void 0:e.isExample)return{limitStatus:"noLimit",isLimitNewModel:f};if(h){if(!c)return{limitStatus:"limitNewModel",isLimitNewModel:f};if(f&&(null==o?void 0:o.license)===n.JW.PRIVATE)return{limitStatus:"noLimit",isLimitNewModel:f};let e=f&&(u(null==o||null==(a=o.args)||null==(t=a.draft)?void 0:t.aiModel)||u(null==o||null==(s=o.args)||null==(l=s.texture)?void 0:l.aiModel));if(e)return{limitStatus:"limitNewModel",isLimitNewModel:f};if(o&&!e)return{limitStatus:"limitCount",isLimitNewModel:f}}return{limitStatus:"noLimit",isLimitNewModel:f}},h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],a=s.el,{limitStatus:r,isLimitNewModel:n}=u(e,t),i=(0,c.c3)(),{data:p,mutate:m}=(0,d.Ay)("limitCount"===r?"download-count":null,o.kc),h=a-(p||0),{limited:f,tooltip:x}="noLimit"===r?{limited:!1,tooltip:""}:t?"limitNewModel"===r?{limited:!0,tooltip:i.rich("Workspace.Shared.Task.Download.Tooltip.LimitNewModel",{count:a})}:h<=0?{limited:!0,tooltip:i("Workspace.Shared.Task.Download.Tooltip.NoRemaining")}:n?{limited:!1,tooltip:i.rich("Workspace.Shared.Task.Download.Tooltip.NewRemaining",{count:h,strong:()=>(0,l.jsx)("strong",{className:"text-accent-base font-normal",children:h})})}:{limited:!1,tooltip:i.rich("Workspace.Shared.Task.Download.Tooltip.Remaining",{count:h,strong:()=>(0,l.jsx)("strong",{className:"text-accent-base font-normal",children:h})})}:{limited:!0,tooltip:""};return{mutate:m,totalCount:a,availableCount:h,limitStatus:r,limited:f,tooltip:x}}},74970:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var l,s,r,n,o,i,c,d=a(12115);function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(this,arguments)}let m=function(e){return d.createElement("svg",p({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l||(l=d.createElement("path",{d:"M17.954 13.148s-.026-.163-.042-.161l-2.941.284a.478.478 0 0 0-.433.443l-.08 1.159-2.276.162-.155-1.05a.482.482 0 0 0-.475-.41H8.448a.482.482 0 0 0-.475.41l-.154 1.05-2.276-.162-.081-1.159a.478.478 0 0 0-.432-.443l-2.943-.284c-.016-.002-.027.16-.042.16l-.004.637 2.493.402.081 1.169a.482.482 0 0 0 .444.445l3.135.223.035.002c.235 0 .439-.176.473-.41l.16-1.08h2.277l.159 1.08a.482.482 0 0 0 .508.408l3.135-.223a.482.482 0 0 0 .444-.445l.082-1.169 2.491-.403-.004-.635Z",fill:"#fff"})),s||(s=d.createElement("path",{d:"M2.045 8.347v4.801h.026l2.943.284a.317.317 0 0 1 .286.294l.09 1.299 2.567.183.177-1.199a.317.317 0 0 1 .314-.27h3.104c.158 0 .29.115.314.27l.177 1.2 2.567-.184.09-1.3a.317.317 0 0 1 .286-.293l2.942-.283a.326.326 0 0 1 .026-.001v-.383h.001V8.346c.415-.521.807-1.097 1.108-1.58-.46-.783-1.023-1.482-1.625-2.13-.558.281-1.1.6-1.612.938-.256-.254-.544-.463-.828-.68-.278-.224-.592-.388-.89-.58.089-.659.133-1.309.15-1.987-.767-.386-1.586-.642-2.415-.827-.33.556-.633 1.158-.896 1.747a6.13 6.13 0 0 0-.94-.076H9.993a6.132 6.132 0 0 0-.94.076A17.06 17.06 0 0 0 8.156 1.5c-.828.185-1.647.44-2.415.827.017.678.061 1.328.15 1.988-.298.191-.612.355-.89.579-.283.217-.572.426-.829.68a15.86 15.86 0 0 0-1.612-.937C1.96 5.285 1.397 5.984.938 6.766c.36.567.748 1.137 1.107 1.581Z",fill:"#478CBF"})),r||(r=d.createElement("path",{d:"m15.314 14.038-.091 1.306a.317.317 0 0 1-.294.293l-3.134.224-.023.001a.317.317 0 0 1-.313-.27l-.18-1.22H8.72l-.18 1.22a.317.317 0 0 1-.336.27l-3.134-.225a.317.317 0 0 1-.294-.293l-.09-1.306-2.647-.256c.001.285.005.596.005.658 0 2.795 3.545 4.138 7.95 4.154h.01c4.405-.016 7.949-1.359 7.949-4.154 0-.063.004-.373.005-.658l-2.645.256Z",fill:"#478CBF"})),n||(n=d.createElement("path",{d:"M7.602 10.296a1.773 1.773 0 1 1-3.547 0 1.773 1.773 0 0 1 3.547 0Z",fill:"#fff"})),o||(o=d.createElement("path",{d:"M7.175 10.401a1.177 1.177 0 1 1-2.353 0 1.177 1.177 0 0 1 2.353 0Z",fill:"#414042"})),i||(i=d.createElement("path",{d:"M10 12.23c-.316 0-.571-.232-.571-.518V10.08c0-.286.255-.518.57-.518.316 0 .572.232.572.518v1.633c0 .287-.256.519-.571.519ZM12.398 10.296a1.773 1.773 0 1 0 3.547 0 1.773 1.773 0 0 0-3.547 0Z",fill:"#fff"})),c||(c=d.createElement("path",{d:"M12.825 10.401a1.176 1.176 0 1 0 2.353 0 1.176 1.176 0 0 0-2.353 0Z",fill:"#414042"})))}},76433:(e,t,a)=>{"use strict";a.d(t,{d:()=>r,k:()=>s});var l=a(16680);let s=e=>{switch(e){case l.jZ.NanoBanana:return"Nano Banana";case l.jZ.Flux1ProNew:return"Flux.1 Pro New";case l.jZ.FluxDev:return"Flux Dev";case l.jZ.FluxKontext:return"Flux Kontext";case l.jZ.Meshy5:return"Meshy 5 Preview";case l.jZ.Meshy5_1:return"Meshy 5";case l.jZ.Meshy5_3:return"Meshy 6 Preview";case l.jZ.MeshyResearchNG:return"Meshy Research NG";case l.jZ.Meshy3Turbo:return"Meshy-3 Turbo";case l.jZ.Meshy4:return"Meshy-4";case l.jZ.Meshy3:return"Meshy-3";default:return""}},r=(e,t,a)=>e!==t&&t?e?a("Workspace.AIModelPicker.AIModelLabelWithTexture",{aiModel:s(e),textureAiModel:s(t)}):a("Workspace.AIModelPicker.AIModelLabelOnlyTexture",{textureAiModel:s(t)}):s(e)},80609:(e,t,a)=>{"use strict";a.d(t,{IL:()=>o,xX:()=>i});var l=a(16680),s=a(7016),r=a(59634),n=a(12115);let o=e=>{let t=(0,r.useGateValue)("meshy_6_preview_texture"),[a,o]=(0,n.useState)([]),i=a[0];return(0,n.useEffect)(()=>{(null==e?void 0:e.genMode)==="text3d-draft"||(null==e?void 0:e.genMode)==="img3d-draft"?o([l.jZ.Meshy5_3,l.jZ.Meshy5_1,l.jZ.Meshy4,...s.Xx?[l.jZ.MeshyResearchNG]:[]]):o([...t?[l.jZ.Meshy5_3]:[],l.jZ.Meshy5_1,l.jZ.Meshy4,...s.Xx?[l.jZ.MeshyResearchNG]:[]])},[null==e?void 0:e.genMode,t]),{menuItems:a,defaultModel:i,isLatestModel:e=>e===l.jZ.Meshy5_1||e===l.jZ.Meshy5_3}},i=()=>{let e=(0,r.useGateValue)("nano_banana"),[t,a]=(0,n.useState)([]);return(0,n.useEffect)(()=>{e?a([l.jZ.NanoBanana,l.jZ.FluxKontext,l.jZ.FluxDev]):a([l.jZ.FluxKontext,l.jZ.FluxDev])},[e]),{imageMenuItems:t,imageDefaultModel:t[0]}}},85072:(e,t,a)=>{"use strict";a.d(t,{t:()=>c});var l=a(16680),s=a(99290),r=a(60919),n=a(51470),o=a(52977),i=a(17504);let c=function(e){let{onError:t,customErrorMessages:a,key:c,...d}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=(0,i.V)();return(0,o.A)(c||("function"==typeof e?e().url:e.url)||null,async(t,a)=>{let{arg:o}=a,i="function"==typeof e?e(o):e;try{var c;let{data:t}=await (0,l.MA)({throwErrorOnNoToken:!0,...i,url:(null==(c=i.url)?void 0:c.startsWith("/"))?"".concat("https://api.meshy.ai/web").concat(i.url):i.url,data:"function"==typeof e?i.data:{...i.data,...o}});if((0,s.gX)(t))return t.result;return t}catch(e){if(e instanceof r.pe&&e.response)throw new s.hD({code:(0,s.gX)(e.response.data)?e.response.data.code:s.I.UNKNOWN,message:(0,s.gX)(e.response.data)&&(0,n.A)(e.response.data.result)?e.response.data.result:"",status:e.response.status,url:e.response.config.url,rawResponse:e.response,rawData:e.response.data});throw e}},{onError:(e,l,s)=>{p(e,{apiCodeMessageMap:a}),null==t||t(e,l,s)},...d,..."throwOnError"in d&&d.throwOnError?{throwOnError:!0}:{throwOnError:!1}})}},88549:(e,t,a)=>{"use strict";a.d(t,{c:()=>L});var l,s=a(95155),r=a(18049),n=a(12115);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(this,arguments)}let i=function(e){return n.createElement("svg",o({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l||(l=n.createElement("path",{d:"M4.933 6.272h1.06V2.938c0-.366.3-.666.667-.666h2.667c.366 0 .666.3.666.666v3.334h1.06c.594 0 .894.72.474 1.14l-3.06 3.06a.663.663 0 0 1-.94 0l-3.06-3.06c-.42-.42-.127-1.14.466-1.14Zm-1.6 6.395c0 .366.3.666.667.666h8c.367 0 .667-.3.667-.666 0-.367-.3-.667-.667-.667H4c-.367 0-.667.3-.667.667Z",fill:"#DEDEDE"})))};var c=a(74970),d=a(14039),p=a(6105),m=a(27930),u=a(99264),h=a(95333),f=a(52513),x=a(15260),g=a(74765),b=a(284),w=a(4230),v=a(95387),y=a(82525),j=a(70957),k=a(84636),N=a(52787),A=a(98999),C=a(8070),T=a(53034),S=a(22317),_=a(38143),M=a(131),E=a(54820),P=a(66599),D=a(64519),F=a(78013),O=a(54496),W=a(18955);let L=e=>{let{taskId:t,isAnimation:a,position:l,activePreviewName:o,popoverProps:L}=e,{isPremiumTooltipRedesign:z}=(0,b.f)(),I=(0,W.c3)(),[Z,R]=(0,n.useState)(!1),{isAuthenticated:U}=(0,S.n)(),{data:B}=(0,M.o)(),V=(0,_.j)(e=>e.getCreditDialogRef),G=(0,h.n)(),H=(0,A.aQ)(e=>e.currentAction),X="free"===B.tier||"anonymous"===B.tier,q=()=>{var e;null==(e=V.current)||e.open({position:"dcc_bridge"})},[Q,K]=(0,n.useState)(!1),[Y,$]=(0,n.useState)(!1),[J,ee]=(0,n.useState)(!1),[et,ea]=(0,n.useState)(!1),[el,es]=(0,n.useState)(!1),[er,en]=(0,n.useState)(!1),eo=(e,t)=>{window.open(t,"_blank")},ei=(e,t)=>{window.open(t,"_blank")},ec=async(e,s)=>{if(!U)return void(0,x.j)();switch(e){case"blender":K(!0);break;case"godot":$(!0);break;case"unity":ee(!0);break;case"unreal":ea(!0);break;case"maya":es(!0);break;case"3DS Max":en(!0)}try{let s=C.dp[e];if(!await (0,C.TA)({dcc:e,t:I}))return;let r=o||H,n=await (0,f.getAccessToken)();if(a){let a=await (0,E.Pc)(t,n,{format:s,includeAnimation:!0,action:r,includeRiggedCharacter:!1,withoutSkin:!1,framesPerSecond:30,singleFile:!1});if(a&&"object"==typeof a&&"zipUrl"in a){let t=await (0,C.Uc)({modelUrl:a.zipUrl,dcc:e,fileFormat:s,fileName:null!=H?H:void 0,frameRate:30,t:I});G("send_to_dcc",{dcc:e,task:"animation",success:t,position:l})}}else{let a;if((a=await (0,E.Pc)(t,n,{format:s}))&&"string"==typeof a){let t=await (0,C.Uc)({modelUrl:a,dcc:e,fileFormat:s,t:I});G("send_to_dcc",{dcc:e,task:"model",success:t,position:l})}}}catch(e){console.error(e)}finally{switch(e){case"blender":K(!1);break;case"godot":$(!1);break;case"unity":ee(!1);break;case"unreal":ea(!1);break;case"maya":es(!1);break;case"3DS Max":en(!1)}}},ed=e=>{let{dccType:t,icon:a,label:l,pluginLink:r,documentationLink:n,isLoading:o,onSendToDCC:c}=e;return(0,s.jsxs)("div",{className:"group relative w-full",children:[(0,s.jsx)(g.default,{size:"sm",type:"tertiary",onClick:()=>{X?q():c()},className:"group px-sm flex w-full justify-start gap-2 text-sm",icon:a,disabled:o,children:(0,s.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,s.jsxs)("div",{className:"text-label-base flex items-center gap-1 text-xs",children:[l,z&&(0,s.jsx)(k.E,{hasBackground:!1})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[o&&(0,s.jsx)(D.A,{width:12,height:12,className:"text-label-base animate-spin"}),!o&&(0,s.jsxs)("div",{className:"hidden items-center group-hover:flex",children:[(0,s.jsx)(N.A,{title:I("Workspace.Tool.Plugin.Tooltip.DownloadPlugin"),side:"top",sideOffset:4,children:(0,s.jsx)(g.default,{size:"xs",type:"icon-tertiary",icon:(0,s.jsx)(i,{width:16,height:16}),onClick:e=>{e.stopPropagation(),eo(t,r)}})}),(0,s.jsx)(w.A,{direction:"vertical"}),(0,s.jsx)(N.A,{title:I("Workspace.Tool.Plugin.Tooltip.Guide"),side:"top",sideOffset:4,children:(0,s.jsx)(g.default,{size:"xs",type:"icon-tertiary",icon:(0,s.jsx)(F.A,{width:16,height:16,className:"text-label-base"}),onClick:e=>{e.stopPropagation(),ei(t,n)}})})]})]})]})}),X&&!z&&(0,s.jsx)("div",{className:"hidden group-hover:block",children:(0,s.jsx)(j.A,{className:"absolute -top-2 -right-3.5 z-50",text:"PRO",icon:!1,style:"premium",shape:"jelly-bean",size:"xs"})})]})},ep=e=>{let{hasTitle:t=!0,className:a}=e;return(0,s.jsxs)("div",{className:(0,P.cn)("bg-bg-sub border-bg-border flex w-64 min-w-[228px] flex-col rounded-lg border-[0.5px]",a),children:[t&&(0,s.jsxs)("div",{className:"border-bg-border pb-md gap-md flex w-full items-center border-b px-3 pt-3",children:[(0,s.jsx)("span",{className:"text-sm-plus text-label-title",children:I("Workspace.Tool.Plugin.Tooltip.Title")}),(0,s.jsx)(N.A,{title:(0,s.jsx)("span",{className:"text-label-base text-xs",children:I("Workspace.Tool.Plugin.Tooltip.info")}),asChild:!0,sideOffset:4,side:"top",children:(0,s.jsx)(O.A,{size:16,strokeWidth:1.5,className:"text-label-faint"})})]}),(0,s.jsxs)("div",{className:"px-xs py-sm gap-xs flex flex-col",children:[(0,s.jsx)(ed,{dccType:"blender",icon:(0,s.jsx)(r.A,{width:16,height:16}),label:I("Workspace.Tool.Plugin.Tooltip.Blender"),pluginLink:T.uS,documentationLink:T.Fk,isLoading:Q,onSendToDCC:()=>ec("blender")}),(0,s.jsx)(ed,{dccType:"godot",icon:(0,s.jsx)(c.A,{width:16,height:16}),label:I("Workspace.Tool.Plugin.Tooltip.Godot"),pluginLink:T.ZO,documentationLink:T.eC,isLoading:Y,onSendToDCC:()=>ec("godot")}),(0,s.jsx)(ed,{dccType:"unity",icon:(0,s.jsx)(m.A,{width:16,height:16}),label:I("Workspace.Tool.Plugin.Tooltip.Unity"),pluginLink:T.zP,documentationLink:T.OO,isLoading:J,onSendToDCC:()=>ec("unity")}),(0,s.jsx)(ed,{dccType:"unreal",icon:(0,s.jsx)(u.A,{width:16,height:16}),label:I("Workspace.Tool.Plugin.Tooltip.Unreal"),pluginLink:T.dA,documentationLink:T.Up,isLoading:et,onSendToDCC:()=>ec("unreal")}),(0,s.jsx)(ed,{dccType:"maya",icon:(0,s.jsx)(p.A,{width:16,height:16}),label:I("Workspace.Tool.Plugin.Tooltip.Maya"),pluginLink:T.av,documentationLink:T.HC,isLoading:el,onSendToDCC:()=>ec("maya")}),(0,s.jsx)(ed,{dccType:"3DS Max",icon:(0,s.jsx)(d.A,{width:16,height:16}),label:I("Workspace.Tool.Plugin.Tooltip.3DSMax"),pluginLink:T.AN,documentationLink:T.XB,isLoading:er,onSendToDCC:()=>ec("3DS Max")})]})]})},em=e=>{let{dccType:t,icon:a,label:l,pluginLink:r,documentationLink:n,isLoading:o,onSendToDCC:c}=e;return(0,s.jsx)(v._2,{size:"xs",className:"group/plugin w-62 pr-0 text-sm [&>*]:gap-2!",icon:a,label:(0,s.jsxs)("div",{className:"flex w-full items-center justify-between gap-1 pr-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("span",{children:l}),z&&(0,s.jsx)(k.E,{hasBackground:!1}),!z&&X&&(0,s.jsx)(j.A,{text:"PRO",icon:!1,style:"premium",shape:"jelly-bean",size:"xs"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[o&&(0,s.jsx)(D.A,{width:16,height:16,className:"text-label-base animate-spin"}),!o&&(0,s.jsxs)("div",{className:"hidden items-center gap-0.5 group-hover/plugin:flex",children:[(0,s.jsx)(N.A,{title:I("Workspace.Tool.Plugin.Tooltip.DownloadPlugin"),side:"top",sideOffset:4,children:(0,s.jsx)(g.default,{size:"xs",type:"icon-tertiary",icon:(0,s.jsx)(i,{width:16,height:16}),onClick:e=>{e.stopPropagation(),eo(t,r)}})}),(0,s.jsx)(w.A,{direction:"vertical",className:"h-3"}),(0,s.jsx)(N.A,{title:I("Workspace.Tool.Plugin.Tooltip.Guide"),side:"top",sideOffset:4,children:(0,s.jsx)(g.default,{size:"xs",type:"icon-tertiary",icon:(0,s.jsx)(F.A,{width:16,height:16,className:"text-label-base"}),onClick:e=>{e.stopPropagation(),ei(t,n)}})})]})]})]}),disabled:o,onSelect:e=>{null==e||e.preventDefault(),X?q():c()}})};return{popoverComponent:(0,s.jsx)(y.A,{open:Z,onOpenChange:R,...L,children:ep({})}),openPopover:()=>{R(!0)},closePopover:()=>{R(!1)},open:Z,renderPluginContent:ep,renderPluginDropdownContent:e=>{let{className:t}=e;return(0,s.jsxs)("div",{className:(0,P.cn)("flex flex-col",t),children:[(0,s.jsx)(em,{dccType:"blender",icon:(0,s.jsx)(r.A,{width:20,height:20,className:"text-label-muted group-hover/item:text-label-title"}),label:I("Workspace.Tool.Plugin.Tooltip.Blender"),pluginLink:T.uS,documentationLink:T.Fk,isLoading:Q,onSendToDCC:()=>ec("blender")}),(0,s.jsx)(em,{dccType:"godot",icon:(0,s.jsx)(c.A,{width:20,height:20,className:"text-label-muted group-hover/item:text-label-title"}),label:I("Workspace.Tool.Plugin.Tooltip.Godot"),pluginLink:T.ZO,documentationLink:T.eC,isLoading:Y,onSendToDCC:()=>ec("godot")}),(0,s.jsx)(em,{dccType:"unity",icon:(0,s.jsx)(m.A,{width:20,height:20,className:"text-label-muted group-hover/item:text-label-title"}),label:I("Workspace.Tool.Plugin.Tooltip.Unity"),pluginLink:T.zP,documentationLink:T.OO,isLoading:J,onSendToDCC:()=>ec("unity")}),(0,s.jsx)(em,{dccType:"unreal",icon:(0,s.jsx)(u.A,{width:20,height:20,className:"text-label-muted group-hover/item:text-label-title"}),label:I("Workspace.Tool.Plugin.Tooltip.Unreal"),pluginLink:T.dA,documentationLink:T.Up,isLoading:et,onSendToDCC:()=>ec("unreal")}),(0,s.jsx)(em,{dccType:"maya",icon:(0,s.jsx)(p.A,{width:20,height:20,className:"text-label-muted group-hover/item:text-label-title"}),label:I("Workspace.Tool.Plugin.Tooltip.Maya"),pluginLink:T.av,documentationLink:T.HC,isLoading:el,onSendToDCC:()=>ec("maya")}),(0,s.jsx)(em,{dccType:"3DS Max",icon:(0,s.jsx)(d.A,{width:20,height:20,className:"text-label-muted group-hover/item:text-label-title"}),label:I("Workspace.Tool.Plugin.Tooltip.3DSMax"),pluginLink:T.AN,documentationLink:T.XB,isLoading:er,onSendToDCC:()=>ec("3DS Max")})]})}}}},89068:(e,t,a)=>{"use strict";a.d(t,{K:()=>s,p:()=>r});var l=a(12115);let s=(0,l.createContext)({taskId:"",isPublic:!0});function r(){let e=(0,l.useContext)(s);if(!e)throw Error("useShowCaseDetailContext must be used within a ShowCaseDetailContext");return e}},89537:(e,t,a)=>{"use strict";a.d(t,{G2:()=>x,OP:()=>m,YQ:()=>g,ZE:()=>h,bp:()=>f,fU:()=>u});var l=a(52513),s=a(1495),r=a(16680),n=a(54820),o=a(46512),i=a(31342),c=a(75731),d=a(53610);let p={currentTaskId:""},m=(0,c.vt)((e,t)=>({...p,reset(){e(p)}})),u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,{data:a,error:s,isLoading:i,isValidating:c}=(0,o.Ay)(e?["task-status",e]:null,async e=>{let[t,a]=e,s=await (0,l.getAccessToken)();return(0,n._U)(a||"",s)},{refreshInterval:e=>(null==e?void 0:e.status)===r.FX.Pending||(null==e?void 0:e.status)===r.FX.InProgress?t:6e4*((null==e?void 0:e.status)!==r.FX.Succeeded&&(null==e?void 0:e.status)!==r.FX.Failed&&(null==e?void 0:e.status)!==r.FX.Canceled),revalidateOnFocus:!1,revalidateOnReconnect:!1,dedupingInterval:200});return{data:a,error:s,isLoading:i,isValidating:c}},h=e=>{let{list:t}=(0,d.RI)(),a=t.find(t=>t.id===e),{data:s,error:i,mutate:c,isLoading:p}=(0,o.Ay)(e?["task-data",e]:null,async e=>{let[t,a]=e,s=await (0,l.getAccessToken)();return(0,n.Uk)(a,s)},{refreshInterval:e=>1e3*((null==e?void 0:e.status)===r.FX.InProgress),fallbackData:a});return{data:s,error:i,mutate:c,isLoading:!a&&p}},f=e=>(0,s.n_)(t=>{let{rating:a}=t;return{method:"PUT",url:"/v2/tasks/".concat(e,"/rating"),data:{rating:a}}},{onSuccess:()=>{(0,i.j)(["task-data",e])}}),x=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",{data:a,error:l,isLoading:s}=(0,o.Ay)(e?["task-data-public-v2",e,t]:null,async e=>{let[t,a,l]=e;return(0,n.t9)(a||"",!1,l)});return{data:a,error:l,isLoading:s}},g=()=>h(m(e=>e.currentTaskId))},96018:(e,t,a)=>{"use strict";let l;a.r(t),a.d(t,{QueryClientProvider:()=>y,useMutation:()=>j,useQueryClient:()=>w});var s=a(95155),r=a(99776),n=a(34975),o=a(25022),i=a(34049),c=a(80549),d=a(48077),p=a(51470),m=a(18955),u=a(880),h=a(99290),f=a(17504),x=a(96239),g=a(1495);let b={queries:{staleTime:6e4,retry:(e,t)=>!((0,h.HY)(t)||(0,h.ty)(t))&&!(e>3)}},w=()=>(0,r.useQueryClient)();function v(){let{mutationCacheConfig:e,queryCacheConfig:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new g.E1({defaultOptions:b,mutationCache:new n.q(e),queryCache:new o.$(t)})}function y(e){let{children:t}=e,a=(0,f.V)(),n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.S$?v(e):(l||(l=v(e)),l)}({mutationCacheConfig:{onError:(e,t,l,s)=>{a(e,s.meta)}},queryCacheConfig:{onError:(e,t)=>{a(e,{suppressErrorToast:!0,suppressLoginDialog:!0,...t.meta})}}});return(0,s.jsx)(r.QueryClientProvider,{client:n,children:t})}function j(e){let{warningMessageMap:t,errorMessageMap:a,suppressErrorToast:l,suppressLoginDialog:s,onError:r,meta:n,...o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(()=>{let e=(0,m.c3)();return(0,d.A)(function(t){let{apiCodeMessageMap:a,suppressErrorToast:l,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.code;if(!(0,h.bo)(r)){let n=(0,h.HW)({t:e,code:r,customCodeMessageMap:a});if(n){let e=new h.hD({code:r,message:(0,p.A)(t.result)?t.result:"",...s});(0,h.V$)(e,{level:"warn",message:n.message,options:{suppressErrorToast:l,apiCodeMessageMap:a}}),n.message&&(0,f.N)(e,l)&&u.toast[n.type](n.message)}}})})();return(0,c.useMutation)({meta:{suppressErrorToast:l,suppressLoginDialog:s,apiCodeMessageMap:a,...n},...o,mutationFn:async a=>{let l="function"==typeof e?e(a):e,s=await (0,x.Z)({...l,data:"function"==typeof e?l.data:{...l.data,...a}});return(0,h.gX)(s.data)?(i(s.data,{url:s.config.url,rawData:s.data,rawResponse:s.rawResponse,apiCodeMessageMap:Object.fromEntries(Object.entries(null!=t?t:{}).map(e=>{let[t,a]=e;return[t,{message:a,type:"warning"}]})),status:s.status}),s.data.result):s.data}})}},99264:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var l,s,r=a(12115);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(this,arguments)}let o=function(e){return r.createElement("svg",n({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l||(l=r.createElement("g",{clipPath:"url(#clip0_1_25)"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 20c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Zm2.558-4.44c2.445-1.155 3.212-3.288 3.384-4.12-.894.916-1.883 1.844-2.548 1.202 0 0-.037-3.429-.037-4.835 0-1.89 1.793-3.3 1.793-3.3-.986.176-2.17.527-3.427 1.76a4.66 4.66 0 0 0-.322.355c-.539-.413-1.237-.289-1.237-.289.378.207.754.81.754 1.31v4.91s-.822.724-1.456.724a.896.896 0 0 1-.733-.371.96.96 0 0 1-.123-.213V6.626c-.188.155-.82.282-.82-.769 0-.653.47-1.431 1.307-1.909a6.174 6.174 0 0 0-3.108 1.434 6.085 6.085 0 0 0-2.106 4.665s.612-1.915 1.38-2.092a.742.742 0 0 1 .93.742v4.495c0 .456-.294.555-.565.55a2.387 2.387 0 0 1-.542-.102 6.118 6.118 0 0 0 4.837 2.481l1.657-1.665.982 1.104Z",fill:"#fff"}))),s||(s=r.createElement("defs",null,r.createElement("clipPath",{id:"clip0_1_25"},r.createElement("path",{fill:"#fff",d:"M0 0h20v20H0z"})))))}}}]);