try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="eef28c71-66aa-4939-9ec1-1685a3e4ab80",e._sentryDebugIdIdentifier="sentry-dbid-eef28c71-66aa-4939-9ec1-1685a3e4ab80")}()}catch(e){}!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[(new e.Error).stack]=function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];if(null!=a)for(var n in a)a.hasOwnProperty(n)&&(e[n]=a[n])}return e}({},e._sentryModuleMetadata[(new e.Error).stack],{"_sentryBundlerPluginAppKey:bWVzaHktd2ViYXBwLSMx":!0})}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8411],{1888:(e,t,a)=>{"use strict";a.d(t,{E0:()=>i,Vk:()=>s,gM:()=>c,hq:()=>d});var n=a(27458),r=a(52513),o=a(16680);let l=async e=>{let t,a=await (0,r.getAccessToken)(),n=[e.skipNameGeneration?"skipNameGeneration":"",e.removeBackground?"removeBackground":""].filter(e=>""!==e).join("&");try{t=(await (0,o.MA)((0,o.bt)({method:"post",url:"".concat("https://api.meshy.ai/web").concat(o.MF.FilesV1,"/images").concat(n?"?".concat(n):""),data:e.file?{file:e.file}:void 0,params:{url:e.url},headers:{"Content-Type":e.file?"multipart/form-data":void 0},signal:e.signal},a))).data.result}catch(e){return console.error("Fail to upload image: ".concat(e)),null}return t},s=e=>l({url:e.url,removeBackground:e.removeBackground,skipNameGeneration:e.skipNameGeneration,signal:e.signal}),c=e=>l({file:e.file,removeBackground:e.removeBackground,skipNameGeneration:e.skipNameGeneration,signal:e.signal}),i=async(e,t,a,n)=>{let r;try{r=(await (0,o.MA)((0,o.bt)({method:"post",url:"".concat("https://api.meshy.ai/web").concat(o.MF.FilesV1,"/upload-url-for-public"),data:{prefixes:t,filename:e.name}},a))).data.result}catch(e){return console.error("Fail to get upload url: ".concat(e)),null}try{await (0,o.MA)({method:"put",url:r.url,data:e,headers:{"Content-Disposition":'attachment; filename="'.concat(encodeURIComponent(e.name),'"')},signal:n})}catch(e){return console.error("Fail to upload image: ".concat(e)),null}return"https://cdn.meshy.ai/".concat(r.key)},d=async(e,t,a)=>{try{return(await (0,o.MA)((0,o.bt)({method:"post",url:"".concat("https://api.meshy.ai/web").concat(o.MF.FilesV2,"/models"),data:{file:e},headers:{"Content-Type":"multipart/form-data"},cancelToken:a.token},t))).data}catch(t){let e={id:"",url:""};if(n.A.isCancel(t))return{code:o.b9.Unknown,result:e};if(n.A.isAxiosError(t)){var r;return null==(r=t.response)?void 0:r.data}return console.error("Fail to upload model: ".concat(t)),{code:o.b9.Unknown,result:e}}}},5573:(e,t,a)=>{"use strict";a.d(t,{$0:()=>l,FS:()=>g,Fk:()=>s,H5:()=>w,RU:()=>p,Rg:()=>m,ag:()=>i,dY:()=>f,in:()=>c,ip:()=>d,nk:()=>u,qm:()=>y,sE:()=>o,zc:()=>h});var n=a(52513),r=a(16680),o=function(e){return e.Popularity="public_popularity",e.CreatedAt="created_at",e.UpdatedAt="updated_at",e.Reaction="total_emoji_count",e.Downloaded="downloads",e.Following="is_from_my_followings",e.Featured="is_featured",e.Printable="is_3d_printable",e.PopularCreator="popular_creator",e.NewestCreator="newest_creator",e.TopCreator="top_creator",e.FollowingCreator="following_creator",e}(o||{});let l=async e=>{let t=await (0,n.getAccessToken)();try{var a,o;return(await (0,r.MA)((0,r.bt)({method:"get",url:"".concat("https://api.meshy.ai/web").concat(r.MF.ShowcaseV1),params:{...e,categories:null==(a=e.categories)?void 0:a.join(","),tags:null==(o=e.tags)?void 0:o.join(",")}},t))).data.result}catch(e){return console.error("Fail to list showcases: ".concat(e)),null}};var s=function(e){return e.ThumbUp="thumbUp",e.Smile="smile",e.Heart="heart",e.ROFL="rofl",e}(s||{});let c=new Map([["thumbUp","\uD83D\uDC4D"],["smile","\uD83D\uDE04"],["heart","❤️"],["rofl","\uD83E\uDD23"]]),i=async e=>{let t=await (0,n.getAccessToken)();try{return(await (0,r.MA)((0,r.bt)({method:"get",url:"".concat("https://api.meshy.ai/web").concat(r.MF.ShowcaseV1,"/reactions"),params:{ids:e.join(",")}},t))).data.result}catch(e){return console.error("Fail to get reactions: ".concat(e)),null}},d=async(e,t)=>{try{return(await (0,r.MA)((0,r.bt)({method:"get",url:"".concat("https://api.meshy.ai/web").concat(r.MF.ShowcaseV1,"/").concat(e)},t))).data.result}catch(e){return console.error("Fail to get showcase: ".concat(e)),null}},u=async(e,t,a)=>{try{return await (0,r.MA)((0,r.bt)({method:"post",url:"".concat("https://api.meshy.ai/web").concat(r.MF.ShowcaseV1,"/").concat(e,"/reaction"),data:{emoji:t}},a)),!0}catch(e){return console.error("Fail to add reaction to showcase: ".concat(e)),!1}},h=async(e,t,a)=>{try{return await (0,r.MA)((0,r.bt)({method:"delete",url:"".concat("https://api.meshy.ai/web").concat(r.MF.ShowcaseV1,"/").concat(e,"/reaction"),data:{emoji:t}},a)),!0}catch(e){return console.error("Fail to remove reaction from showcase: ".concat(e)),!1}},m=async(e,t)=>{try{return await (0,r.MA)({method:"post",url:"".concat("https://api.meshy.ai/web").concat(r.MF.ShowcaseV1,"/").concat(e,"/collect"),data:{collectionId:t},needsToken:!0}),!0}catch(e){return console.error("Fail to add showcase to my collections: ".concat(e)),!1}},p=async(e,t)=>{try{return await (0,r.MA)({method:"delete",url:"".concat("https://api.meshy.ai/web").concat(r.MF.ShowcaseV1,"/").concat(e,"/collect"),needsToken:!0,data:{collectionId:t}}),!0}catch(e){return console.error("Fail to remove showcase from my collections: ".concat(e)),!1}},g=async e=>{let t=await (0,n.getAccessToken)();try{return await (0,r.MA)((0,r.bt)({method:"patch",url:"".concat("https://api.meshy.ai/web").concat(r.MF.ShowcaseV1,"/").concat(e,"/views")},t)),!0}catch(e){return console.error("Fail to patch showcase views: ".concat(e)),!1}},y=async e=>{let t=await (0,n.getAccessToken)();try{return await (0,r.MA)((0,r.bt)({method:"patch",url:"".concat("https://api.meshy.ai/web").concat(r.MF.ShowcaseV1,"/").concat(e,"/remixes")},t)),!0}catch(e){return console.error("Fail to patch showcase remixes: ".concat(e)),!1}},f=async e=>{let t=await (0,n.getAccessToken)();try{return(await (0,r.MA)((0,r.bt)({method:"post",url:"".concat("https://api.meshy.ai/web").concat(r.MF.ClassifyPromptV1),params:{prompt:e}},t))).data.result}catch(e){return console.error("Fail to classify prompt: ".concat(e)),null}},w=async(e,t)=>{let a=await (0,n.getAccessToken)();try{return(await (0,r.MA)((0,r.bt)({method:"post",url:"".concat("https://api.meshy.ai/web").concat(r.MF.ClassifyPromptToTagsV1),params:{prompt:e,imageId:t}},a))).data.result}catch(e){return console.error("Fail to classify prompt to tags: ".concat(e)),null}}},6746:(e,t,a)=>{"use strict";a.d(t,{h:()=>n});let n=(e,t)=>{if(!e)return"";let a=e.value;if(!document)return a;let n=document.activeElement===e,r=a;if(n){let n=0,o=0,{selectionStart:l,selectionEnd:s}=e,c=a.slice(0,l),i=a.slice(s);l===s?0==c.length?(r="".concat(t,", ").concat(i),n=t.length+2,o=t.length+2):c.length>0&&0==i.length?(n=(r=c.endsWith(", ")?"".concat(c).concat(t):"".concat(c,", ").concat(t)).length,o=r.length):c.endsWith(", ")?(r="".concat(c).concat(t,", ").concat(i),n=c.length+t.length+2,o=c.length+t.length+2):i.startsWith(", ")?(r="".concat(c,", ").concat(t).concat(i),n=c.length+t.length+2,o=c.length+t.length+2):(r="".concat(c,", ").concat(t,", ").concat(i),n=c.length+t.length+4,o=c.length+t.length+4):(r="".concat(c).concat(t,", ").concat(i),n=c.length,o=c.length+t.length+2),setTimeout(()=>{try{e.selectionStart=n,e.selectionEnd=o}catch(e){}},0)}else r=a?"".concat(a,", ").concat(t):t,setTimeout(()=>{e.blur(),e.focus()},0);let o=e.maxLength;return o>-1&&r.length>o?r.slice(0,o):r}},10103:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(95155),r=a(18955),o=a(15239),l=a(12115),s=a(41240);function c(e){let{videoIdOrLink:t,isPlay:a=!1}=e,c=(0,s.qT)(t),[i,d]=(0,l.useState)(!1),u=(0,r.c3)();return a?(0,n.jsx)(n.Fragment,{children:c?(0,n.jsx)(n.Fragment,{children:i?(0,n.jsx)("div",{className:"flex h-full items-center justify-center rounded-lg",children:(0,n.jsx)("span",{className:"text-gray-500",children:u("Landing.Collections.Toast.Form.InvalidLinkOrId")})}):(0,n.jsx)("video",{src:t,preload:"metadata",playsInline:!0,controls:!0,autoPlay:!0,className:"mx-auto max-h-full max-w-full overflow-hidden rounded-lg object-cover",onContextMenu:e=>e.preventDefault(),onError:()=>{d(!0)}})}):(0,n.jsx)("iframe",{className:"size-full flex-none rounded-3xl object-cover",title:"YouTube video",src:"https://www.youtube.com/embed/".concat(t,"?controls=1&amp;modestbranding=1&amp;rel=0&amp;autoplay=1&amp;mute=1"),allow:"autoplay; encrypted-media",allowFullScreen:!0,tabIndex:0})}):(0,n.jsx)(n.Fragment,{children:c?(0,n.jsx)("video",{src:t,preload:"metadata",muted:!0,playsInline:!0,controls:!1,className:"pointer-events-none mx-auto max-h-full max-w-full rounded-lg object-cover",onContextMenu:e=>e.preventDefault()}):(0,n.jsx)(o.default,{fill:!0,className:"size-full overflow-hidden rounded-lg object-cover",src:"https://img.youtube.com/vi/".concat(t,"/maxresdefault.jpg"),alt:"cover",unoptimized:!0})})}},15372:(e,t,a)=>{"use strict";a.d(t,{E$:()=>b,HF:()=>p,RG:()=>g,UM:()=>v,cr:()=>x,i0:()=>y,lE:()=>f,rN:()=>w});var n=a(22317),r=a(131),o=a(66274),l=a(51947),s=a(82945),c=a(654),i=a(12115),d=a(46512),u=a(31342),h=a(67016),m=a(8952);function p(e){let{eventName:t}=e,a=(0,c.Ym)();return(0,i.useMemo)(()=>{if(!t)return null;let e="zh"===a?"\n  \uD83C\uDF85 Meshy X ELEGOO 特别挑战 —— 圣诞大冒险！\n  \n  # 活动时间：\n  \n  2024 年 12 月 2 日 - 12 月 18 日\n  \n  # 活动 1 - Meshy 生成挑战\n  参与方式：\n  * 使用图片生成模型或文字生成模型创作 3D 模型。\n  * 标注你的创作：对于文字生成模型，在提示词中加入 **#ChristmasAdventure#**。对于图片生成模型，在模型名称中加入 **#ChristmasAdventure#**。\n  * 选择 4 个最满意的作品创建作品集，上传封面图并填写描述，即可提交参赛。\n  \n  # 活动 2 - 3D 打印挑战\n  参与方式：\n  * 打印你在 Meshy 生成的 4 个模型，并拍摄照片或视频。\n  * 在 Instagram、TikTok 或 X 平台分享内容，@Meshy 和 @ELEGOO，添加 **#ChristmasAdventure#** 标签，并附上你的 Meshy 作品集链接。\n  \n  # 建议生成的模型：\n  * 圣诞星 – 代表希望与方向。\n  * 神秘生物 – 旅途中遇到的伙伴。\n  * 魔法道具 – 帮助圣诞老人克服障碍。\n  * 特别助手 – 拥有独特技能的帮手，与圣诞老人共同完成使命。\n  \n  # 奖励：\n  参与活动即可获得 Meshy 积分、限定徽章、周边礼包，还有机会赢取 ELEGOO 3D 打印机！\n  \n  快来加入狂欢，用你的 3D 创意点亮圣诞奇迹！":"\n  \uD83C\uDF85 Meshy X ELEGOO Special Challenge – Christmas Adventure！\n  \n  # Duration:\n  \n  December 2 - December 18\n  \n  # Event 1: Create on Meshy to Help Santa!\n  How to Join:\n  * Use Image to 3D or Text to 3D tools to create 3D models.\n  * Tag Your Creation: For Text to 3D, add #ChristmasAdventure# to your prompt. For Image to 3D, add it to the model name.\n  * Submit a collection of your top 4 models, including a cover image and description.\n  \n  # Event 2: Print Your Models and Win More!\n  How to Join:\n  * Print four Meshy-generated models from your collection and share a photo or video on Instagram, TikTok, or X.\n  * Tag @Meshy and @ELEGOO, use **#ChristmasAdventure**, and include your Meshy collection link.\n  \n  # Suggested Models to Create:\n  * Christmas Star – A symbol of hope and guidance.\n  * Mysterious Creature – A companion encountered on the journey.\n  * Magical Tools – Items to help Santa overcome obstacles.\n  * Special Companion – A helper with unique skills to assist Santa.\n  \n  # Prizes:\n  Win Meshy credits, exclusive badge, Meshy bundle, or even an ELEGOO 3D printer!\n  \n  Spark your 3D creativity and make this holiday season magical!";return"ELEGOO"===t?{content:e,hashtag:"#ChristmasAdventure#",learnMoreUrl:"/challenges/christmas-adventure",coverImage:"https://cdn.meshy.ai/webapp-assets/community/generation-challenge/241126-christmas-2024.webp"}:null},[a,t])}let g=(e,t,a)=>{var r;let{isLoading:c,isAuthenticated:i}=(0,n.n)(),{data:d,error:u,mutate:m,size:p,setSize:g,isValidating:y,isLoading:f}=(0,h.Ay)((a,n)=>{if(c||n&&!n.length)return null;let r=JSON.stringify(e);return!t&&[r,a,i]},async t=>{let[a,n]=t;return(i?await (0,o.cW)({...e,pageNum:n+1}):await (0,o.Z3)({...e,pageNum:n+1}))||[]},{persistSize:!0,revalidateOnMount:!0,revalidateOnFocus:!1,revalidateFirstPage:!1,fallbackData:a?[a]:void 0}),w=e.pageSize,x=(null==d||null==(r=d[0])?void 0:r.length)===0,b=(0,l.A)(d),v=x||d&&b&&!(0,s.A)(b)&&b.length<w;return{data:d,error:u,mutate:m,size:p,setSize:g,isValidating:y,isLoading:f,isReachingEnd:v}},y=e=>{let{isAuthenticated:t}=(0,n.n)(),{data:a,error:r,mutate:l,isLoading:s}=(0,d.Ay)(e?["collection-data-auth-".concat(t),e]:null,async e=>{let[a,n]=e;return t?(0,o.VT)(n||""):(0,o.CB)(n)});return{data:a,error:r,mutate:l,isLoading:s}},f=e=>{let{isAuthenticated:t}=(0,n.n)(),{data:a,error:r,mutate:l,isLoading:s}=(0,d.Ay)(e.length>0?["multiple-collections-auth-".concat(t),e]:null,async e=>{let[a,n]=e,r=n.map(e=>t?(0,o.VT)(e):(0,o.CB)(e));try{return(await Promise.allSettled(r)).map((e,t)=>"fulfilled"===e.status?e.value:(console.error("Failed to fetch collection ".concat(n[t],":"),e.reason),null))}catch(e){throw console.error("Error fetching multiple collections:",e),e}},{revalidateOnFocus:!1,revalidateOnMount:!0});return{data:(null==a?void 0:a.filter(Boolean))||[],error:r,mutate:l,isLoading:s,allData:a||[]}},w=async e=>{try{await (0,o.xN)(e)}catch(t){console.error("Failed to subscribe to collection ".concat(e,":"),t)}},x=async e=>{try{await (0,o.k4)(e)}catch(t){console.error("Failed to unsubscribe from collection ".concat(e,":"),t)}},b=e=>{let{data:t}=(0,r.o)(),{data:a,mutate:n}=g({createdBy:e,pageSize:100}),o=((null==a?void 0:a.flat())||[]).filter(Boolean),l=(null==t?void 0:t.tier)==="free"||(null==t?void 0:t.tier)==="anonymous";return{isFreeUserMaxCollections:l&&o.length>=3,isProUserMaxCollections:!l&&o.length>=100,mutateLimits:n}},v=()=>{let{myInfo:e}=(0,m.Iy)();return{mutateMyCollectionList:()=>(0,u.j)(t=>{if(Array.isArray(t)){let[a]=t;if("string"==typeof a)try{return JSON.parse(a).createdBy===(null==e?void 0:e.userId)}catch(e){}}return!1},void 0,{revalidate:!0})}}},33445:(e,t,a)=>{"use strict";a.d(t,{A:()=>k,y:()=>A});var n=a(95155),r=a(52513),o=a(15260),l=a(8952),s=a(21134),c=a(62258),i=a(22317),d=a(66274),u=a(5573),h=a(62906),m=a(69095),p=a(72839),g=a(58526),y=a(76076),f=a(50811),w=a(12115),x=a(46512);function b(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2?arguments[2]:void 0,r=[],o=p.A;if(a<2)throw Error("Max queuable requests must be more than 1!");return l=>{if(r.push(l),1===r.length){let a=setTimeout(()=>{o()},t);e=new Promise(e=>{o=()=>{let t=(0,g.A)([...r]);r=[],clearTimeout(a);let o=(0,y.A)(t,10),l={};for(let e=0;e<o.length;e++){let t=o[e];l[t.join(",")]=n(t)}e(l)}})}else r.length===a&&o();return e}}let v=b(200,100,u.ag),j=b(200,100,h.ag),F=b(200,100,d.rR),T=b(200,100,d.Qh);async function A(e,t,a){let n;if(!(n="collection"===a?t?await F(e):await T(e):t?await v(e):await j(e)))return null;let r=Object.entries(n);for(let t=0;t<r.length;t++){let[n,o]=r[t];if(n.includes(e)){let t=await o;if(t)if("collection"===a)return{totalReaction:t.totalReactions[e],myReaction:t.myReactions[e],totalShowcases:t.totalShowcases[e],totalShowcaseAuthors:t.totalShowcaseAuthors[e],totalSubscribers:t.totalSubscribers[e],totalTips:t.totalTips[e]};else return{totalReaction:t.totalReactions[e],myReaction:t.myReactions[e],totalCollections:t.totalCollections[e],totalRemixes:t.totalRemixes[e],totalDownloads:t.totalDownloads[e],totalTips:t.totalTips[e]}}}return null}let k=e=>{let{showcaseId:t,type:a="showcase",userId:h,size:p="md"}=e,[g,y]=(0,w.useState)(Object.values(u.Fk).reduce((e,t)=>(e[t]=-1,e),{})),[b,v]=(0,w.useState)(0),[j,F]=(0,w.useState)(Object.values(u.Fk).reduce((e,t)=>(e[t]=-1,e),{})),{isLoading:T,isAuthenticated:k}=(0,i.n)(),{verifyChecklistTaskIfNeeded:C}=(0,s.CX)("supportCommunity"),{data:M,isLoading:N,mutate:S}=(0,x.Ay)(T?null:["reaction",t],async e=>{let[t,n]=e;return"collection"===a?await A(n,k,"collection"):await A(n,k,"showcase")},{revalidateOnFocus:!1}),{mutateUserInfo:_}=(0,l.Py)(h||"",!1),E=(0,w.useCallback)(async(e,n)=>{if("collection"===a)"add"===n?await (0,d.ss)(t,e):await (0,d.dB)(t,e);else{if(!t)return;let a=await (0,r.getAccessToken)();"add"===n?((0,u.nk)(t,e,a),C()):(0,u.zc)(t,e,a)}},[t,a,C]),D=(0,w.useMemo)(()=>Object.values(u.Fk).reduce((e,t)=>(e[t]=(0,f.A)(E,300),e),{}),[E]);return(0,w.useEffect)(()=>{if(!N&&M){let e={},t={};Object.values(u.Fk).forEach(a=>{var n,r,o,l;let s=null!=(o=null==(n=M.totalReaction)?void 0:n[a])?o:0,c=null!=(l=null==(r=M.myReaction)?void 0:r[a])?l:0;e[a]=0===c?s:s-1,t[a]=k?c:0}),v(M.totalTips),y(e),F(t)}},[k,N,M]),(0,n.jsxs)("div",{className:"sm"===p?"flex justify-center gap-x-2":"flex w-full gap-x-2 md:w-fit md:gap-x-1",onClick:e=>{},children:[Object.values(u.Fk).map(e=>{let t=j[e]>0,a=-1!==g[e],r=g[e]+j[e];return(e===u.Fk.ThumbUp&&(r+=g[u.Fk.Smile],r+=j[u.Fk.Smile]),e===u.Fk.Smile)?null:(0,n.jsxs)("button",{className:(0,m.A)("sm"===p?"text-label-base flex h-7 items-center justify-center gap-x-1 rounded-lg px-2 leading-4 transition-colors duration-300 ease-in-out select-none":"text-label-base flex h-8 w-full items-center justify-center gap-x-1 rounded-[10px] px-2 leading-4 transition-colors duration-300 ease-in-out select-none md:w-fit",{"bg-bg-modal-overlay hover:bg-white/5 active:bg-white/10":!t,"bg-accent-bg":t}),onClick:n=>{if(!k)return void(0,o.j)();a&&(t?(D[e](e,"remove"),F(t=>({...t,[e]:0}))):(D[e](e,"add"),F(t=>({...t,[e]:1}))))},children:[(0,n.jsx)("span",{className:"w-4 font-sans text-sm",children:u.in.get(e)}),r>0&&(0,n.jsx)("span",{className:"text-xs",children:a&&r})]},e)}),(0,n.jsx)(c.Q,{totalTips:b,targetUserId:h||"",..."showcase"===a?{showcaseId:t}:{collectionId:t},onTipsCallback:()=>{_(),S(),C()},size:p})]})}},41240:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>l,qT:()=>c});var n=a(880),r=a(18955),o=a(12115);function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,a]=(0,o.useState)(e),[l,i]=(0,o.useState)(""),d=(0,r.c3)(),u=async e=>{let r=c(e);if(t.includes(e)&&r)return void n.toast.error(d("Landing.Collections.Toast.Form.VideoAlreadyAdded"));if(r){a(t=>[...t,e]),i("");return}let o=function(e){if(/^[0-9A-Za-z_-]{11}$/.test(e))return e;try{let t=new URL(e),a=t.hostname.replace(/^www\./,"").toLowerCase();if(!["youtube.com","m.youtube.com","youtu.be"].includes(a))return null;let n=null;return"youtu.be"===a?n=t.pathname.split("/")[1]:t.searchParams.has("v")?n=t.searchParams.get("v"):(t.pathname.startsWith("/embed/")||t.pathname.startsWith("/v/")||t.pathname.startsWith("/shorts/"))&&(n=t.pathname.split("/")[2]),n&&/^[0-9A-Za-z_-]{11}$/.test(n)?n:null}catch(e){return null}}(e);return o?t.includes(o)?void n.toast.error(d("Landing.Collections.Toast.Form.VideoAlreadyAdded")):await s(o)?void(a(e=>[...e,o]),i("")):void n.toast.error(d("Landing.Collections.Toast.Form.VideoNotFound")):void n.toast.error(d("Landing.Collections.Toast.Form.InvalidLinkOrId"))};return{videoCovers:t,setVideoCovers:a,videoId:l,setVideoId:i,addVideoCover:u,removeVideoCover:e=>{a(t=>t.filter(t=>t!==e))}}}async function s(e){try{return(await fetch("https://img.youtube.com/vi/".concat(e,"/0.jpg"),{method:"HEAD"})).ok}catch(e){return!1}}function c(e){if(!e||"string"!=typeof e||!e.match(/^https?:\/\//))return!1;try{return new URL(e).hostname.replace(/^www\./,"").toLowerCase().endsWith(".meshy.ai")}catch(e){return!1}}},41973:(e,t,a)=>{"use strict";a.d(t,{OE:()=>c,VS:()=>i});var n=a(75557),r=a(59634),o=a(654),l=a(46512);let s=e=>{let t=(0,r.useDynamicConfig)(e?"community_event_tag":""),a=(0,o.Ym)();return{eventTagList:(t.get("config")||[]).map(e=>({...e,startTime:new Date(e.startTime).getTime(),endTime:new Date(e.endTime).getTime()})),locale:a}},c=()=>{let{eventTagList:e,locale:t}=s(!0),a=Date.now(),r=e.find(e=>(0,n.D)(e.startTime,e.endTime)),o=(null==r?void 0:r.content)?"string"==typeof r.content?r.content:r.content[t]||r.content.en:null,{data:c}=(0,l.Ay)(o,async e=>(await fetch(e)).text()),i=e.filter(e=>a>e.endTime);return{currentEvent:r&&c?{...r,content:c}:null,expiredEventTagList:i}},i=e=>{let{eventTagList:t,locale:a}=s(!!e),n=t.find(t=>t.hashTag==="#".concat(e,"#")),r=(null==n?void 0:n.content)?"string"==typeof n.content?n.content:n.content[a]||n.content.en:null,{data:o}=(0,l.Ay)(r,async e=>(await fetch(e)).text());return{targetEvent:n&&o?{...n,content:o}:null}}},42047:(e,t,a)=>{"use strict";a.d(t,{A:()=>p,j:()=>h});var n=a(95155),r=a(69095),o=a(47474),l=a(66599),s=a(11286),c=a(12115);let i=e=>{let{value:t,textAreaRef:a,rows:r=5,minRows:o,maxRows:l,onRowsChange:s}=e,i=(0,c.useRef)(null);return(0,c.useEffect)(()=>{if(!a.current||!i.current)return void s(r);let e=a.current,n=i.current,c=null!=o?o:r;try{n.innerHTML=(t||"").replace(/\n$/,"\n.")||".";let a=window.getComputedStyle(e);n.style.fontSize=a.fontSize,n.style.fontFamily=a.fontFamily,n.style.fontWeight=a.fontWeight,n.style.letterSpacing=a.letterSpacing,n.style.lineHeight=a.lineHeight,n.style.textTransform=a.textTransform,n.style.whiteSpace=a.whiteSpace,n.style.wordSpacing=a.wordSpacing,n.style.boxSizing=a.boxSizing,n.style.width="".concat(e.clientWidth,"px"),n.style.padding=a.padding||"0px 12px";let r=n.scrollHeight,o=parseInt(a.lineHeight)||21,i=Math.floor(r/o),d=Math.max(Math.min(i,null!=l?l:10),c);s(d)}catch(e){s(r)}},[t,r,o,l,s,a]),(0,n.jsx)("div",{ref:i,"aria-hidden":"true",className:"pointer-events-none invisible absolute top-0 left-0 -z-10 overflow-hidden break-words whitespace-pre-wrap"})};var d=a(97641),u=a.n(d);let h=(0,c.createContext)({}),m=(0,c.forwardRef)((e,t)=>{let{value:a,onChange:d,onBlur:m,onFocus:p,onKeyDown:g,placeholder:y,helperText:f,disabled:w=!1,readOnly:x,status:b="default",maxLength:v,required:j,toolbar:F,rows:T=5,id:A,prefix:k,suffix:C,autoRows:M=!1,minRows:N,maxRows:S,className:_}=e,[E,D]=(0,c.useState)(!0),O=E?b:"error",I=(0,c.useRef)(null),V=(0,s.pc)(I,t),[z,L]=(0,c.useState)(T);if((0,c.useEffect)(()=>{D(!0);let e=()=>{j&&!a&&D(!1),v&&a&&a.length>v&&D(!1)};return o.syncBus.on("submit_form",e),()=>{o.syncBus.off("submit_form",e)}},[v,j,a]),void 0!==a&&void 0===d)throw Error("TextArea: If you provide a value, you must also provide an onChange handler.");let R=(null==a?void 0:a.length)||0;return(0,n.jsx)("div",{className:(0,r.A)("flex w-full flex-col items-start justify-center gap-2",{"pointer-events-none touch-none opacity-40 select-none":w}),children:(0,n.jsxs)(h.Provider,{value:{textAreaRef:I,value:a},children:[(0,n.jsxs)("div",{"data-status":O,className:(0,r.A)(u().TextArea,"group border-bg-border bg-bg-base focus-within:border-accent-base hover:border-bg-border-strong focus-within:hover:border-accent-base relative w-full rounded-xl border border-solid pt-2 transition duration-100 ease-out focus-within:outline-hidden"),children:[M&&(0,n.jsx)(i,{value:a,textAreaRef:I,rows:T,minRows:N,maxRows:S,onRowsChange:L}),k,(0,n.jsxs)("div",{className:(0,r.A)("relative pl-3",{"pb-7":v||F}),children:[(0,n.jsx)("textarea",{ref:V,id:A,value:a,onChange:e=>{null==d||d(e)},onBlur:e=>{null==m||m(e)},onKeyDown:e=>{null==g||g(e)},onFocus:e=>{null==p||p(e)},placeholder:y,className:(0,l.cn)("scrollbar caret-accent-base placeholder:text-label-placeholder w-full resize-none overflow-y-scroll bg-transparent text-sm/5 font-normal outline-hidden selection:bg-[#4C5C2A] placeholder:select-none",{"text-label-faint":x},_),rows:M?z:T,disabled:w,readOnly:x}),v&&(0,n.jsxs)("div",{className:(0,r.A)(u().TextCount,"text-label-faint absolute right-2 bottom-2 flex h-6 w-full items-center justify-end text-xs font-normal select-none"),children:[(0,n.jsx)("span",{className:(0,r.A)({"text-semantic-error-highlight":R>v}),children:R})," ","/ ",v]}),F&&(0,n.jsx)("div",{className:"absolute bottom-2 left-2",children:(0,n.jsx)(h.Provider,{value:{textAreaRef:I,value:a},children:F})})]}),C]}),f&&(0,n.jsx)("div",{className:(0,r.A)(u().HelperText,"text-label-muted data-[status=error]:text-semantic-error-base text-sm font-normal"),"data-status":O,children:f})]})})});m.displayName="TextArea";let p=m},42073:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n,r=a(12115);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}let l=function(e){return r.createElement("svg",o({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=r.createElement("path",{d:"M9 4.5a.75.75 0 0 1 .721.544l.813 2.846a3.75 3.75 0 0 0 2.576 2.576l2.846.813a.75.75 0 0 1 0 1.442l-2.846.813a3.75 3.75 0 0 0-2.576 2.576l-.813 2.846a.75.75 0 0 1-1.442 0l-.813-2.846a3.75 3.75 0 0 0-2.576-2.576l-2.846-.813a.75.75 0 0 1 0-1.442l2.846-.813A3.75 3.75 0 0 0 7.466 7.89l.813-2.846A.75.75 0 0 1 9 4.5Zm9-3a.75.75 0 0 1 .728.568l.258 1.036a2.63 2.63 0 0 0 1.91 1.91l1.036.258a.75.75 0 0 1 0 1.456l-1.036.258a2.63 2.63 0 0 0-1.91 1.91l-.258 1.036a.75.75 0 0 1-1.456 0l-.258-1.036a2.624 2.624 0 0 0-1.91-1.91l-1.036-.258a.75.75 0 0 1 0-1.456l1.036-.258a2.625 2.625 0 0 0 1.91-1.91l.258-1.036A.75.75 0 0 1 18 1.5ZM16.5 15a.75.75 0 0 1 .712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 0 1 0 1.422l-1.183.395a1.5 1.5 0 0 0-.948.948l-.395 1.183a.75.75 0 0 1-1.422 0l-.395-1.183a1.5 1.5 0 0 0-.948-.948l-1.183-.395a.75.75 0 0 1 0-1.422l1.183-.395a1.5 1.5 0 0 0 .948-.948l.395-1.183a.75.75 0 0 1 .71-.513Z",fill:"currentColor"})))}},62258:(e,t,a)=>{"use strict";a.d(t,{Q:()=>C});var n,r,o,l=a(95155),s=a(12115);function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}let i=function(e){return s.createElement("svg",c({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.593 11.898a34.73 34.73 0 0 0-3.207-1.159c-.384-.117-.517-.61-.236-.891L5.828 7.17a4.077 4.077 0 0 1 2.501-1.175l2.525-.239c3.268-2.562 7.28-3.097 9.457-2.576.122.03.183.044.256.09a.625.625 0 0 1 .162.162c.047.074.061.135.09.257.521 2.176-.014 6.189-2.576 9.457l-.238 2.525a4.078 4.078 0 0 1-1.175 2.501l-2.678 2.677c-.282.282-.774.149-.892-.236a34.738 34.738 0 0 0-1.158-3.206 2.38 2.38 0 0 1-.701.12 2.968 2.968 0 0 1-1.162-.249c-.412-.194-.705-.488-1.293-1.075l-1.149-1.15c-.587-.587-.881-.88-1.075-1.292a2.967 2.967 0 0 1-.249-1.162c.006-.255.045-.462.12-.701Zm9.284-3.818a2.062 2.062 0 0 0-2.916-.016c-.801.801-.794 2.107.016 2.916.81.81 2.115.817 2.916.016.8-.8.794-2.107-.016-2.916Z",fill:"url(#paint0_linear_3751_35921)"})),r||(r=s.createElement("path",{d:"m8.021 18.215-2.237-2.237c-.411-.412-1.11-.354-1.328.235-.41 1.109-.446 2.586-.435 3.312a.45.45 0 0 0 .454.454c.725.01 2.203-.026 3.311-.436.59-.218.647-.916.235-1.328Z",fill:"url(#paint1_linear_3751_35921)"})),o||(o=s.createElement("defs",null,s.createElement("linearGradient",{id:"paint0_linear_3751_35921",x1:21.209,y1:12,x2:3.209,y2:12,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#76ADFF"}),s.createElement("stop",{offset:1,stopColor:"#3A5AFF"})),s.createElement("linearGradient",{id:"paint1_linear_3751_35921",x1:21.209,y1:12,x2:3.209,y2:12,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#76ADFF"}),s.createElement("stop",{offset:1,stopColor:"#3A5AFF"})))))};var d=a(95333),u=a(15260),h=a(74765),m=a(82525),p=a(880),g=a(8952),y=a(99255),f=a(86573),w=a(22317),x=a(38143),b=a(7679),v=a(46287),j=a(18497),F=a(71201),T=a(18955);let A=(0,l.jsx)("div",{className:"w-4 text-xl",children:"\uD83C\uDF81"}),k=(0,l.jsx)("div",{className:"w-4 text-sm",children:"\uD83C\uDF81"}),C=e=>{let{targetUserId:t,showcaseId:a,collectionId:n,isHeader:r,totalTips:o,onTipsCallback:c,size:C="md"}=e,M=(0,T.c3)(),{myInfo:N}=(0,g.Iy)(),S=(null==N?void 0:N.userId)===t,{data:_}=(0,y.Q5)(),E=S||(null==_?void 0:_.some(e=>e.userId===t)),{isLoading:D,isAuthenticated:O}=(0,w.n)(),{creditLeftCount:I,mutate:V}=(0,b.M)(),z=(0,x.j)(e=>e.getCreditDialogRef),[L,R]=(0,s.useState)(!1),W=(0,d.n)(),[U,P]=(0,s.useState)(10),[B,G]=(0,s.useState)(!1),H=-1!==o,Z=null!=o?o:0;if(!t)return(0,l.jsx)(l.Fragment,{});let X="sm"===C?(0,l.jsxs)("button",{className:"text-label-base data-[state=closed]:bg-bg-modal-overlay data-[state=open]:bg-bg-base-hover flex h-7 items-center justify-center gap-x-1 rounded-lg px-2 py-1.5 leading-4 text-[0] transition-colors duration-300 ease-in-out select-none data-[state=closed]:active:bg-white/10",children:[k,!r&&Z>0&&(0,l.jsx)("span",{className:"text-xs",children:H&&Z})]}):(0,l.jsxs)("button",{className:"text-label-base data-[state=closed]:bg-bg-modal-overlay data-[state=open]:bg-bg-base-hover flex h-8 w-full items-center justify-center gap-x-1 rounded-[10px] px-2 py-1.5 leading-4 text-[0] transition-colors duration-300 ease-in-out select-none data-[state=closed]:active:bg-white/10 md:w-fit",children:[k,!r&&Z>0&&(0,l.jsx)("span",{className:"text-xs",children:H&&Z})]});return r&&(X=E?void 0:(0,l.jsx)(h.default,{disabled:E,size:"md",type:"secondary",icon:A,children:M("Workspace.Shared.WorkspaceToolbar.Tips.Title")})),(0,l.jsx)(m.A,{align:"end",side:"bottom",sideOffset:8,triggerEvent:"hover",open:B,onOpenChange:e=>{G(e)},openDelay:150,disabled:E,trigger:X,children:(0,l.jsxs)("div",{className:"flex w-[320px] flex-col",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between px-4 pt-4",children:[(0,l.jsx)("div",{className:"text-label-title text-sm font-medium select-none",children:M("Workspace.Shared.WorkspaceToolbar.Tips.Title")}),(0,l.jsxs)("div",{className:"text-label-muted flex items-center gap-x-1 text-xs font-normal select-none",children:[(0,l.jsx)("span",{children:M("Workspace.Shared.WorkspaceToolbar.Tips.CreditLeft")}),(0,l.jsx)(f.X,{className:"object-contain",size:"sm"}),(0,l.jsx)("span",{children:I.toLocaleString()})]})]}),(0,l.jsx)("div",{className:"flex w-full gap-2 p-4",children:[1,5,10,20].map(e=>(0,l.jsx)(h.default,{type:e===U?"primary":"secondary",size:"sm",block:!0,onClick:()=>{L||P(e)},children:(0,l.jsxs)("div",{className:"flex items-center gap-x-1",children:[(0,l.jsx)(f.X,{className:"flex-none",size:"md"}),e]})},e))}),(0,l.jsx)("div",{className:"border-bg-border mx-4 border-b-[0.5px]"}),U>I&&(0,l.jsxs)("div",{className:"text-semantic-error-highlight flex items-center justify-center gap-1 px-4 pt-4 text-xs",children:[(0,l.jsx)(j.A,{className:"size-4",stroke:1.5}),M("Workspace.Shared.WorkspaceToolbar.Tips.NotEnoughCredit")]}),(0,l.jsx)("div",{className:"p-4",children:U>I?(0,l.jsx)(h.default,{size:"md",type:"secondary",className:"text-semantic-info-highlight",icon:(0,l.jsx)(i,{}),block:!0,onClick:()=>{var e;if(!O)return void(0,u.j)();null==(e=z.current)||e.open({position:"tips_card"}),W("purchase_extra_credits_intent",{position:"tips_card"})},children:M("Workspace.Shared.WorkspaceToolbar.Tips.GetCredit")}):(0,l.jsx)(h.default,{size:"md",icon:L?(0,l.jsx)(F.A,{className:"animate-spin"}):(0,l.jsx)(l.Fragment,{children:A}),block:!0,onClick:()=>{L||(R(!0),(0,v.Ps)({amount:U,showcaseId:a,collectionId:n,userId:t}).then(e=>{V(),(null==e?void 0:e.code)==="OK"?(null==c||c(U),p.toast.success(M("Workspace.Shared.WorkspaceToolbar.Tips.Toast.Success")),W("tip_credit",{amount:U,position:a?"showcase":"profile"})):(null==e?void 0:e.code)==="LimitExceeded"?p.toast.error(M("Workspace.Shared.WorkspaceToolbar.Tips.Toast.LimitExceeded")):(null==e?void 0:e.code)==="TipReceivedLimitExceeded"?p.toast.error(M("Workspace.Shared.WorkspaceToolbar.Tips.Toast.TipReceivedLimitExceeded")):(null==e?void 0:e.code)==="UnusualTip"?p.toast.error(M("Workspace.Shared.WorkspaceToolbar.Tips.Toast.UnusualTip")):p.toast.error(M("Workspace.Shared.WorkspaceToolbar.Tips.Toast.Fail"))}).finally(()=>{R(!1),G(!1)}))},children:M("Workspace.Shared.WorkspaceToolbar.Tips.Title")})})]})})}},62906:(e,t,a)=>{"use strict";a.d(t,{Sz:()=>o,ag:()=>s,r4:()=>c,sE:()=>r});var n=a(16680),r=function(e){return e.Popularity="public_popularity",e.CreatedAt="created_at",e.UpdatedAt="updated_at",e.Collected="total_collections_count",e.Reaction="total_emoji_count",e.Downloaded="downloads",e}(r||{});let o=async e=>{try{var t,a;return(await (0,n.MA)({method:"get",url:"".concat("https://api.meshy.ai/web").concat(n.PZ.ShowcaseV1),params:{...e,categories:null==(t=e.categories)?void 0:t.join(","),tags:null==(a=e.tags)?void 0:a.join(",")}})).data.result}catch(e){return console.error("Fail to list showcases: ".concat(e)),null}};var l=function(e){return e.ThumbUp="thumbUp",e.Smile="smile",e.Heart="heart",e.ROFL="rofl",e}(l||{});let s=async e=>{try{return(await (0,n.MA)({method:"get",url:"".concat("https://api.meshy.ai/web").concat(n.PZ.ShowcaseV1,"/reactions"),params:{ids:e.join(",")}})).data.result}catch(e){return console.error("Fail to get reactions: ".concat(e)),null}},c=async e=>{if(!e)return null;try{return(await (0,n.MA)({method:"get",url:"".concat("https://api.meshy.ai/web").concat(n.PZ.ShowcaseV1,"/").concat(e)})).data.result}catch(e){return console.error("Fail to get showcase: ".concat(e)),null}}},66274:(e,t,a)=>{"use strict";a.d(t,{CB:()=>i,LK:()=>o,Nl:()=>m,No:()=>d,Qh:()=>f,VT:()=>c,Xz:()=>u,Z3:()=>s,cW:()=>l,dB:()=>x,k4:()=>g,o4:()=>h,rR:()=>y,ss:()=>w,xN:()=>p});var n=a(27458),r=a(16680),o=function(e){return e.Trending="public_popularity",e.Subscribed="subscribed",e.Featured="featured",e.New="updated_at",e.Top="total_emoji_count",e}(o||{});let l=async e=>{try{return(await (0,r.MA)({method:"get",url:"".concat("https://api.meshy.ai/web").concat(r.MF.CollectionsV1),params:{...e},needsToken:!0})).data.result}catch(e){return console.error("Fail to list collections: ".concat(e)),null}},s=async e=>{try{return(await (0,r.MA)({method:"get",url:"".concat("https://api.meshy.ai/web").concat(r.PZ.CollectionsV1),params:{...e}})).data.result}catch(e){return console.error("Fail to list collections: ".concat(e)),null}},c=async e=>{try{return(await (0,r.MA)({method:"get",url:"".concat("https://api.meshy.ai/web").concat(r.MF.CollectionsV1,"/").concat(e),needsToken:!0})).data.result}catch(e){return console.error("Fail to get collection: ".concat(e)),null}},i=async e=>{try{return(await (0,r.MA)({method:"get",url:"".concat("https://api.meshy.ai/web").concat(r.PZ.CollectionsV1,"/").concat(e)})).data.result}catch(e){return console.error("Fail to get collection: ".concat(e)),null}},d=async e=>{try{return(await (0,r.MA)({method:"post",url:"".concat("https://api.meshy.ai/web").concat(r.MF.CollectionsV1),data:e,needsToken:!0})).data}catch(e){if(n.A.isAxiosError(e)){var t;return null==(t=e.response)?void 0:t.data}return{code:r.b9.Unknown,result:null}}},u=async(e,t)=>{try{return(await (0,r.MA)({method:"patch",url:"".concat("https://api.meshy.ai/web").concat(r.MF.CollectionsV1,"/").concat(t),data:e,needsToken:!0})).data}catch(e){if(n.A.isAxiosError(e)){var a;return null==(a=e.response)?void 0:a.data}return{code:r.b9.Unknown,result:null}}},h=async e=>{try{return(await (0,r.MA)({method:"delete",url:"".concat("https://api.meshy.ai/web").concat(r.MF.CollectionsV1,"/").concat(e),needsToken:!0})).data}catch(e){if(n.A.isAxiosError(e)){var t;return null==(t=e.response)?void 0:t.data}return{code:r.b9.Unknown,result:null}}},m=async(e,t)=>{try{return await (0,r.MA)({method:"post",url:"".concat("https://api.meshy.ai/web").concat(r.MF.CollectionsV1,"/").concat(e,"/share-by-email"),data:{recipients:t},needsToken:!0}),!0}catch(e){return console.error("Fail to share collection: ".concat(e)),!1}},p=async e=>{try{return await (0,r.MA)({method:"post",url:"".concat("https://api.meshy.ai/web").concat(r.MF.CollectionsV1,"/").concat(e,"/subscribe"),needsToken:!0}),!0}catch(e){return console.error("Fail to subscribe collection: ".concat(e)),!1}},g=async e=>{try{return await (0,r.MA)({method:"post",url:"".concat("https://api.meshy.ai/web").concat(r.MF.CollectionsV1,"/").concat(e,"/unsubscribe"),needsToken:!0}),!0}catch(e){return console.error("Fail to unsubscribe collection: ".concat(e)),!1}},y=async e=>{try{let t=e.filter(e=>e&&""!==e.trim());if(0===t.length)return null;return(await (0,r.MA)({method:"get",url:"".concat("https://api.meshy.ai/web").concat(r.MF.CollectionsV1,"/reactions"),params:{ids:t.join(",")},needsToken:!0})).data.result}catch(e){return console.error("Fail to get reactions: ".concat(e)),null}},f=async e=>{try{let t=e.filter(e=>e&&""!==e.trim());return(await (0,r.MA)({method:"get",url:"".concat("https://api.meshy.ai/web").concat(r.PZ.CollectionsV1,"/reactions"),params:{ids:t.join(",")}})).data.result}catch(e){return console.error("Fail to get reactions: ".concat(e)),null}},w=async(e,t)=>{try{return await (0,r.MA)({method:"post",url:"".concat("https://api.meshy.ai/web").concat(r.MF.CollectionsV1,"/").concat(e,"/reaction"),data:{emoji:t},needsToken:!0}),!0}catch(e){return console.error("Fail to add reaction to collection: ".concat(e)),!1}},x=async(e,t)=>{try{return await (0,r.MA)({method:"delete",url:"".concat("https://api.meshy.ai/web").concat(r.MF.CollectionsV1,"/").concat(e,"/reaction"),data:{emoji:t},needsToken:!0}),!0}catch(e){return console.error("Fail to remove reaction to collection: ".concat(e)),!1}}},75557:(e,t,a)=>{"use strict";a.d(t,{D:()=>r,E:()=>o});var n=a(7016);let r=(e,t)=>{let a=Date.now();return n.Xx?a<=t:a>=e&&a<=t},o=e=>e?new Date(e).toISOString().split("T")[0]:new Date().toISOString().split("T")[0]},79124:(e,t,a)=>{"use strict";a.d(t,{T7:()=>T,a8:()=>k,qi:()=>A});var n=a(95155),r=a(42073),o=a(74765),l=a(20651),s=a(70957),c=a(42047),i=a(52787),d=a(6746),u=a(75557),h=a(66599),m=a(68034),p=a(95585),g=a(18955),y=a(15239),f=a(52619),w=a.n(f),x=a(12115),b=a(59485),v=a(92538),j=a.n(v),F=a(41973);let T=e=>{let{onClick:t,type:a,genMode:r}=e,{currentEvent:o}=(0,F.OE)();return!o||"workspace"===a&&o.onlyFor&&o.onlyFor!==r?null:(0,n.jsx)(k,{content:o.content,hashtag:o.hashTag,coverImage:o.coverImage,generationChallengeImage:o.generationChallengeImage,buttons:o.buttons,onClick:e=>{null==t||t(e)},type:a})},A=e=>{var t,a;let{onClick:r,type:o,genMode:l,eventName:s,className:c,iconClassName:i,showLabel:d,disableTooltip:h}=e,{targetEvent:m}=(0,F.VS)(s);if(!m)return null;let p=!(0,u.D)(m.startTime,m.endTime);return(0,n.jsx)(k,{content:m.content,hashtag:null!=(t=m.hashTag)?t:"",coverImage:null!=(a=m.coverImage)?a:"",generationChallengeImage:m.generationChallengeImage,buttons:m.buttons,onClick:e=>{p&&m.enableCollection&&m.eventUrl&&!r&&window.open("".concat(m.eventUrl,"/collections"),"_blank"),null==r||r(e)},type:o,className:c,iconClassName:i,showLabel:d,disableTooltip:null!=h?h:p})},k=e=>{let{content:t,onClick:a,type:u,hashtag:f,coverImage:v,generationChallengeImage:F,buttons:T,className:A,iconClassName:k,showLabel:C=!0,disableTooltip:M=!1}=e;(0,g.c3)();let{textAreaRef:N}=(0,x.useContext)(c.j);return(0,n.jsx)(i.A,{asChild:!0,side:"workspace"===u||"helper"===u?"right":"left",sideOffset:"workspace"===u||"helper"===u?-12:0,collisionPadding:55,disabled:!t||M,description:(0,n.jsxs)("div",{className:"w-full flex-col items-start justify-center gap-4",children:[(0,n.jsx)(y.default,{src:v,alt:"Generation Challenge",className:"mb-4 w-full rounded-xl",width:1056,height:200,unoptimized:!0}),(0,n.jsxs)("div",{className:"text-label-base space-y-4 text-xs font-normal",children:[(0,n.jsx)(l.m,{className:"-mr-3 h-[208px] max-h-[208px] grow overflow-scroll",children:(0,n.jsx)("div",{className:"space-y-2",children:(0,n.jsx)(b.o,{components:{h1:e=>(0,n.jsx)("h1",{className:"text-accent-base text-sm font-medium",...e}),p:e=>(0,n.jsx)("p",{className:"whitespace-pre-wrap",...e}),strong:e=>(0,n.jsx)("strong",{className:"text-accent-base font-normal",...e}),em:e=>(0,n.jsx)("strong",{className:"text-accent-base font-medium",...e}),ul:e=>(0,n.jsx)("ul",{className:"ml-4 list-outside list-disc",...e}),ol:e=>(0,n.jsx)("ol",{className:"ml-4 list-outside list-decimal space-y-4",...e}),a:e=>(0,n.jsx)("a",{className:"text-semantic-info-highlight text-xs underline",...e,target:"_blank"})},children:t})})}),T&&T.length>0&&(0,n.jsx)("div",{className:"flex flex-row-reverse items-center gap-3",children:T.map((e,t)=>(!e.onlyIn||e.onlyIn.includes(u))&&(0,n.jsx)(w(),{href:e.url,target:"_blank",children:(0,n.jsx)(o.default,{type:e.type||"primary",size:e.size||"md",className:(0,h.cn)("w-full flex-row-reverse pr-2 pl-1.5",{"pr-3 pl-2":"md"===e.size,"pr-4 pl-3":"lg"===e.size}),iconSuffix:"tertiary"===e.type?(0,n.jsx)(m.A,{size:16}):"secondary"===e.type?(0,n.jsx)(p.A,{size:16}):(0,n.jsx)(r.A,{}),children:e.text})},t))})]})]}),className:"w-[560px] max-w-none rounded-[20px] border p-4",children:(0,n.jsxs)("div",{children:["dashboard"===u&&(C?(0,n.jsxs)("div",{className:(0,h.cn)("bg-bg-strong hover:bg-bg-base-hover inline-flex h-10 cursor-pointer items-center justify-center gap-4 rounded-[20px] pr-5 pl-1 transition-colors duration-100",A),onClick:()=>{a(f)},children:[(0,n.jsx)(y.default,{src:F||"https://cdn.meshy.ai/webapp-assets/community/generation-challenge/default-icon.webp",width:500,height:500,alt:"Generation Challenge",className:(0,h.cn)("size-8",k)}),(0,n.jsx)("div",{className:"bg-linear-to-r from-[#C5F955] via-[#FF97C2] to-[#76ADFF] bg-clip-text text-center text-sm leading-tight font-medium text-transparent select-none",children:f})]}):f&&(0,n.jsx)("div",{className:A,onClick:()=>a(f),children:(0,n.jsx)(y.default,{src:F||"https://cdn.meshy.ai/webapp-assets/community/generation-challenge/default-icon.webp",width:500,height:500,alt:"Generation Challenge",className:(0,h.cn)("size-5",k)})})),"workspace"===u&&(0,n.jsx)(o.default,{type:"tertiary",size:"xs",className:"w-auto px-2",onClick:()=>{var e;null==(e=N.current)||e.focus(),a((0,d.h)(N.current,f))},children:(0,n.jsx)("div",{className:"bg-linear-to-r from-[#C5F955] via-[#FF97C2] to-[#76ADFF] bg-clip-text font-normal text-transparent select-none",children:f})}),"helper"===u&&(0,n.jsx)(o.default,{type:"tertiary",size:"xs",className:"w-auto px-2",children:(0,n.jsx)("div",{className:"group-data-[state=off]/event-tag:text-label-base bg-linear-to-r from-[#C5F955] via-[#FF97C2] to-[#76ADFF] bg-clip-text font-normal text-transparent select-none group-data-[state=off]/event-tag:bg-none",children:f})}),"community"===u&&(0,n.jsx)(o.default,{type:"tertiary",size:"sm",className:"w-auto px-2",onClick:()=>{a(f)},children:(0,n.jsxs)("div",{className:"relative bg-linear-to-r from-[#FFE993] to-[#FF8AD4] bg-clip-text font-normal text-transparent select-none",children:[f,(0,n.jsx)(s.A,{text:"LIVE",size:"xs",shape:"jelly-bean",className:(0,h.cn)("absolute -top-3 -right-4 z-1 border-none",j().liveTag)})]})})]})})}},92538:e=>{e.exports={liveTag:"style_liveTag__ayRFy",gradientFlow:"style_gradientFlow__0KCQs",floatUpDown:"style_floatUpDown__lc79w"}},97641:e=>{e.exports={TextArea:"style_TextArea__J2O72",HelperText:"style_HelperText___EXiv",TextCount:"style_TextCount__LCwpK"}}}]);